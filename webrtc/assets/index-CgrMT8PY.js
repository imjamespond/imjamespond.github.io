(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const e of u)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function o(u){const e={};return u.integrity&&(e.integrity=u.integrity),u.referrerPolicy&&(e.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?e.credentials="include":u.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(u){if(u.ep)return;u.ep=!0;const e=o(u);fetch(u.href,e)}})();const El=!1,Al=(a,s)=>a===s,Il=Symbol("solid-track"),Wr={equals:Al};let Bs=Ws;const At=1,$r=2,Us={owned:null,cleanups:null,context:null,owner:null};var Be=null;let tn=null,xl=null,je=null,qe=null,ht=null,Gr=0;function gr(a,s){const o=je,l=Be,u=a.length===0,e=s===void 0?l:s,r=u?Us:{owned:null,cleanups:null,context:e?e.context:null,owner:e},t=u?a:()=>a(()=>Et(()=>or(r)));Be=r,je=null;try{return lr(t,!0)}finally{je=o,Be=l}}function nt(a,s){s=s?Object.assign({},Wr,s):Wr;const o={value:a,observers:null,observerSlots:null,comparator:s.equals||void 0},l=u=>(typeof u=="function"&&(u=u(o.value)),Fs(o,u));return[Ds.bind(o),l]}function Ct(a,s,o){const l=so(a,s,!1,At);ar(l)}function kl(a,s,o){Bs=Cl;const l=so(a,s,!1,At);l.user=!0,ht?ht.push(l):ar(l)}function tr(a,s,o){o=o?Object.assign({},Wr,o):Wr;const l=so(a,s,!0,0);return l.observers=null,l.observerSlots=null,l.comparator=o.equals||void 0,ar(l),Ds.bind(l)}function Et(a){if(je===null)return a();const s=je;je=null;try{return a()}finally{je=s}}function Tl(a){kl(()=>Et(a))}function Ls(a){return Be===null||(Be.cleanups===null?Be.cleanups=[a]:Be.cleanups.push(a)),a}function Ds(){if(this.sources&&this.state)if(this.state===At)ar(this);else{const a=qe;qe=null,lr(()=>Vr(this),!1),qe=a}if(je){const a=this.observers?this.observers.length:0;je.sources?(je.sources.push(this),je.sourceSlots.push(a)):(je.sources=[this],je.sourceSlots=[a]),this.observers?(this.observers.push(je),this.observerSlots.push(je.sources.length-1)):(this.observers=[je],this.observerSlots=[je.sources.length-1])}return this.value}function Fs(a,s,o){let l=a.value;return(!a.comparator||!a.comparator(l,s))&&(a.value=s,a.observers&&a.observers.length&&lr(()=>{for(let u=0;u<a.observers.length;u+=1){const e=a.observers[u],r=tn&&tn.running;r&&tn.disposed.has(e),(r?!e.tState:!e.state)&&(e.pure?qe.push(e):ht.push(e),e.observers&&$s(e)),r||(e.state=At)}if(qe.length>1e6)throw qe=[],new Error},!1)),s}function ar(a){if(!a.fn)return;or(a);const s=Gr;Ol(a,a.value,s)}function Ol(a,s,o){let l;const u=Be,e=je;je=Be=a;try{l=a.fn(s)}catch(r){return a.pure&&(a.state=At,a.owned&&a.owned.forEach(or),a.owned=null),a.updatedAt=o+1,qs(r)}finally{je=e,Be=u}(!a.updatedAt||a.updatedAt<=o)&&(a.updatedAt!=null&&"observers"in a?Fs(a,l):a.value=l,a.updatedAt=o)}function so(a,s,o,l=At,u){const e={fn:a,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:s,owner:Be,context:Be?Be.context:null,pure:o};return Be===null||Be!==Us&&(Be.owned?Be.owned.push(e):Be.owned=[e]),e}function qr(a){if(a.state===0)return;if(a.state===$r)return Vr(a);if(a.suspense&&Et(a.suspense.inFallback))return a.suspense.effects.push(a);const s=[a];for(;(a=a.owner)&&(!a.updatedAt||a.updatedAt<Gr);)a.state&&s.push(a);for(let o=s.length-1;o>=0;o--)if(a=s[o],a.state===At)ar(a);else if(a.state===$r){const l=qe;qe=null,lr(()=>Vr(a,s[0]),!1),qe=l}}function lr(a,s){if(qe)return a();let o=!1;s||(qe=[]),ht?o=!0:ht=[],Gr++;try{const l=a();return Pl(o),l}catch(l){o||(ht=null),qe=null,qs(l)}}function Pl(a){if(qe&&(Ws(qe),qe=null),a)return;const s=ht;ht=null,s.length&&lr(()=>Bs(s),!1)}function Ws(a){for(let s=0;s<a.length;s++)qr(a[s])}function Cl(a){let s,o=0;for(s=0;s<a.length;s++){const l=a[s];l.user?a[o++]=l:qr(l)}for(s=0;s<o;s++)qr(a[s])}function Vr(a,s){a.state=0;for(let o=0;o<a.sources.length;o+=1){const l=a.sources[o];if(l.sources){const u=l.state;u===At?l!==s&&(!l.updatedAt||l.updatedAt<Gr)&&qr(l):u===$r&&Vr(l,s)}}}function $s(a){for(let s=0;s<a.observers.length;s+=1){const o=a.observers[s];o.state||(o.state=$r,o.pure?qe.push(o):ht.push(o),o.observers&&$s(o))}}function or(a){let s;if(a.sources)for(;a.sources.length;){const o=a.sources.pop(),l=a.sourceSlots.pop(),u=o.observers;if(u&&u.length){const e=u.pop(),r=o.observerSlots.pop();l<u.length&&(e.sourceSlots[r]=l,u[l]=e,o.observerSlots[l]=r)}}if(a.tOwned){for(s=a.tOwned.length-1;s>=0;s--)or(a.tOwned[s]);delete a.tOwned}if(a.owned){for(s=a.owned.length-1;s>=0;s--)or(a.owned[s]);a.owned=null}if(a.cleanups){for(s=a.cleanups.length-1;s>=0;s--)a.cleanups[s]();a.cleanups=null}a.state=0}function Rl(a){return a instanceof Error?a:new Error(typeof a=="string"?a:"Unknown error",{cause:a})}function qs(a,s=Be){throw Rl(a)}const Ml=Symbol("fallback");function So(a){for(let s=0;s<a.length;s++)a[s]()}function jl(a,s,o={}){let l=[],u=[],e=[],r=0,t=s.length>1?[]:null;return Ls(()=>So(e)),()=>{let n=a()||[],i=n.length,c,p;return n[Il],Et(()=>{let m,h,y,b,S,d,w,E,v;if(i===0)r!==0&&(So(e),e=[],l=[],u=[],r=0,t&&(t=[])),o.fallback&&(l=[Ml],u[0]=gr(I=>(e[0]=I,o.fallback())),r=1);else if(r===0){for(u=new Array(i),p=0;p<i;p++)l[p]=n[p],u[p]=gr(g);r=i}else{for(y=new Array(i),b=new Array(i),t&&(S=new Array(i)),d=0,w=Math.min(r,i);d<w&&l[d]===n[d];d++);for(w=r-1,E=i-1;w>=d&&E>=d&&l[w]===n[E];w--,E--)y[E]=u[w],b[E]=e[w],t&&(S[E]=t[w]);for(m=new Map,h=new Array(E+1),p=E;p>=d;p--)v=n[p],c=m.get(v),h[p]=c===void 0?-1:c,m.set(v,p);for(c=d;c<=w;c++)v=l[c],p=m.get(v),p!==void 0&&p!==-1?(y[p]=u[c],b[p]=e[c],t&&(S[p]=t[c]),p=h[p],m.set(v,p)):e[c]();for(p=d;p<i;p++)p in y?(u[p]=y[p],e[p]=b[p],t&&(t[p]=S[p],t[p](p))):u[p]=gr(g);u=u.slice(0,r=i),l=n.slice(0)}return u});function g(m){if(e[p]=m,t){const[h,y]=nt(p);return t[p]=y,s(n[p],h)}return s(n[p])}}}function rr(a,s){return Et(()=>a(s||{}))}const Nl=a=>`Stale read from <${a}>.`;function Bl(a){const s="fallback"in a&&{fallback:()=>a.fallback};return tr(jl(()=>a.each,a.children,s||void 0))}function Vs(a){const s=a.keyed,o=tr(()=>a.when,void 0,void 0),l=s?o:tr(o,void 0,{equals:(u,e)=>!u==!e});return tr(()=>{const u=l();if(u){const e=a.children;return typeof e=="function"&&e.length>0?Et(()=>e(s?u:()=>{if(!Et(l))throw Nl("Show");return o()})):e}return a.fallback},void 0,void 0)}function Ul(a,s,o){let l=o.length,u=s.length,e=l,r=0,t=0,n=s[u-1].nextSibling,i=null;for(;r<u||t<e;){if(s[r]===o[t]){r++,t++;continue}for(;s[u-1]===o[e-1];)u--,e--;if(u===r){const c=e<l?t?o[t-1].nextSibling:o[e-t]:n;for(;t<e;)a.insertBefore(o[t++],c)}else if(e===t)for(;r<u;)(!i||!i.has(s[r]))&&s[r].remove(),r++;else if(s[r]===o[e-1]&&o[t]===s[u-1]){const c=s[--u].nextSibling;a.insertBefore(o[t++],s[r++].nextSibling),a.insertBefore(o[--e],c),s[u]=o[e]}else{if(!i){i=new Map;let p=t;for(;p<e;)i.set(o[p],p++)}const c=i.get(s[r]);if(c!=null)if(t<c&&c<e){let p=r,g=1,m;for(;++p<u&&p<e&&!((m=i.get(s[p]))==null||m!==c+g);)g++;if(g>c-t){const h=s[r];for(;t<c;)a.insertBefore(o[t++],h)}else a.replaceChild(o[t++],s[r++])}else r++;else s[r++].remove()}}}const Eo="_$DX_DELEGATE";function Ll(a,s,o,l={}){let u;return gr(e=>{u=e,s===document?a():ze(s,a(),s.firstChild?null:void 0,o)},l.owner),()=>{u(),s.textContent=""}}function st(a,s,o,l){let u;const e=()=>{const t=document.createElement("template");return t.innerHTML=a,t.content.firstChild},r=()=>(u||(u=e())).cloneNode(!0);return r.cloneNode=r,r}function zs(a,s=window.document){const o=s[Eo]||(s[Eo]=new Set);for(let l=0,u=a.length;l<u;l++){const e=a[l];o.has(e)||(o.add(e),s.addEventListener(e,Dl))}}function rn(a,s,o){return Et(()=>a(s,o))}function ze(a,s,o,l){if(o!==void 0&&!l&&(l=[]),typeof s!="function")return zr(a,s,l,o);Ct(u=>zr(a,s(),u,o),l)}function Dl(a){let s=a.target;const o=`$$${a.type}`,l=a.target,u=a.currentTarget,e=n=>Object.defineProperty(a,"target",{configurable:!0,value:n}),r=()=>{const n=s[o];if(n&&!s.disabled){const i=s[`${o}Data`];if(i!==void 0?n.call(s,i,a):n.call(s,a),a.cancelBubble)return}return s.host&&typeof s.host!="string"&&!s.host._$host&&s.contains(a.target)&&e(s.host),!0},t=()=>{for(;r()&&(s=s._$host||s.parentNode||s.host););};if(Object.defineProperty(a,"currentTarget",{configurable:!0,get(){return s||document}}),a.composedPath){const n=a.composedPath();e(n[0]);for(let i=0;i<n.length-2&&(s=n[i],!!r());i++){if(s._$host){s=s._$host,t();break}if(s.parentNode===u)break}}else t();e(l)}function zr(a,s,o,l,u){for(;typeof o=="function";)o=o();if(s===o)return o;const e=typeof s,r=l!==void 0;if(a=r&&o[0]&&o[0].parentNode||a,e==="string"||e==="number"){if(e==="number"&&(s=s.toString(),s===o))return o;if(r){let t=o[0];t&&t.nodeType===3?t.data!==s&&(t.data=s):t=document.createTextNode(s),o=Dt(a,o,l,t)}else o!==""&&typeof o=="string"?o=a.firstChild.data=s:o=a.textContent=s}else if(s==null||e==="boolean")o=Dt(a,o,l);else{if(e==="function")return Ct(()=>{let t=s();for(;typeof t=="function";)t=t();o=zr(a,t,o,l)}),()=>o;if(Array.isArray(s)){const t=[],n=o&&Array.isArray(o);if(an(t,s,o,u))return Ct(()=>o=zr(a,t,o,l,!0)),()=>o;if(t.length===0){if(o=Dt(a,o,l),r)return o}else n?o.length===0?Ao(a,t,l):Ul(a,o,t):(o&&Dt(a),Ao(a,t));o=t}else if(s.nodeType){if(Array.isArray(o)){if(r)return o=Dt(a,o,l,s);Dt(a,o,null,s)}else o==null||o===""||!a.firstChild?a.appendChild(s):a.replaceChild(s,a.firstChild);o=s}}return o}function an(a,s,o,l){let u=!1;for(let e=0,r=s.length;e<r;e++){let t=s[e],n=o&&o[a.length],i;if(!(t==null||t===!0||t===!1))if((i=typeof t)=="object"&&t.nodeType)a.push(t);else if(Array.isArray(t))u=an(a,t,n)||u;else if(i==="function")if(l){for(;typeof t=="function";)t=t();u=an(a,Array.isArray(t)?t:[t],Array.isArray(n)?n:[n])||u}else a.push(t),u=!0;else{const c=String(t);n&&n.nodeType===3&&n.data===c?a.push(n):a.push(document.createTextNode(c))}}return u}function Ao(a,s,o=null){for(let l=0,u=s.length;l<u;l++)a.insertBefore(s[l],o)}function Dt(a,s,o,l){if(o===void 0)return a.textContent="";const u=l||document.createTextNode("");if(s.length){let e=!1;for(let r=s.length-1;r>=0;r--){const t=s[r];if(u!==t){const n=t.parentNode===a;!e&&!r?n?a.replaceChild(u,t):a.insertBefore(u,o):n&&t.remove()}else e=!0}}else a.insertBefore(u,o);return[u]}var ao=Object.defineProperty,Fl=Object.getOwnPropertyDescriptor,Wl=Object.getOwnPropertyNames,$l=Object.prototype.hasOwnProperty,Ge=(a,s)=>()=>(a&&(s=a(a=0)),s),ge=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),qt=(a,s)=>{for(var o in s)ao(a,o,{get:s[o],enumerable:!0})},ql=(a,s,o,l)=>{if(s&&typeof s=="object"||typeof s=="function")for(let u of Wl(s))!$l.call(a,u)&&u!==o&&ao(a,u,{get:()=>s[u],enumerable:!(l=Fl(s,u))||l.enumerable});return a},Pe=a=>ql(ao({},"__esModule",{value:!0}),a),ue=Ge(()=>{}),Ce={};qt(Ce,{_debugEnd:()=>Wn,_debugProcess:()=>Fn,_events:()=>ri,_eventsCount:()=>ni,_exiting:()=>xn,_fatalExceptions:()=>Un,_getActiveHandles:()=>Xs,_getActiveRequests:()=>Js,_kill:()=>On,_linkedBinding:()=>Qs,_maxListeners:()=>ti,_preload_modules:()=>Zn,_rawDebug:()=>En,_startProfilerIdleNotifier:()=>$n,_stopProfilerIdleNotifier:()=>qn,_tickCallback:()=>Dn,abort:()=>Kn,addListener:()=>ii,allowedNodeEnvironmentFlags:()=>Nn,arch:()=>un,argv:()=>hn,argv0:()=>Xn,assert:()=>Zs,binding:()=>bn,browser:()=>Sn,chdir:()=>wn,config:()=>kn,cpuUsage:()=>Jt,cwd:()=>vn,debugPort:()=>Jn,default:()=>uo,dlopen:()=>Ys,domain:()=>In,emit:()=>ui,emitWarning:()=>yn,env:()=>fn,execArgv:()=>pn,execPath:()=>Yn,exit:()=>Mn,features:()=>Bn,hasUncaughtExceptionCaptureCallback:()=>ea,hrtime:()=>yr,kill:()=>Rn,listeners:()=>ra,memoryUsage:()=>Cn,moduleLoadList:()=>An,nextTick:()=>Ks,off:()=>si,on:()=>lt,once:()=>oi,openStdin:()=>jn,pid:()=>Gn,platform:()=>cn,ppid:()=>Qn,prependListener:()=>ci,prependOnceListener:()=>fi,reallyExit:()=>Tn,release:()=>_n,removeAllListeners:()=>li,removeListener:()=>ai,resourceUsage:()=>Pn,setSourceMapsEnabled:()=>ei,setUncaughtExceptionCaptureCallback:()=>Ln,stderr:()=>zn,stdin:()=>Hn,stdout:()=>Vn,title:()=>ln,umask:()=>mn,uptime:()=>ta,version:()=>dn,versions:()=>gn});function lo(a){throw new Error("Node.js process "+a+" is not supported by JSPM core outside of Node.js")}function Vl(){!Rt||!Ot||(Rt=!1,Ot.length?it=Ot.concat(it):nr=-1,it.length&&Hs())}function Hs(){if(!Rt){var a=setTimeout(Vl,0);Rt=!0;for(var s=it.length;s;){for(Ot=it,it=[];++nr<s;)Ot&&Ot[nr].run();nr=-1,s=it.length}Ot=null,Rt=!1,clearTimeout(a)}}function Ks(a){var s=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)s[o-1]=arguments[o];it.push(new Gs(a,s)),it.length===1&&!Rt&&setTimeout(Hs,0)}function Gs(a,s){this.fun=a,this.array=s}function Fe(){}function Qs(a){lo("_linkedBinding")}function Ys(a){lo("dlopen")}function Js(){return[]}function Xs(){return[]}function Zs(a,s){if(!a)throw new Error(s||"assertion error")}function ea(){return!1}function ta(){return ct.now()/1e3}function yr(a){var s=Math.floor((Date.now()-ct.now())*.001),o=ct.now()*.001,l=Math.floor(o)+s,u=Math.floor(o%1*1e9);return a&&(l=l-a[0],u=u-a[1],u<0&&(l--,u+=br)),[l,u]}function lt(){return uo}function ra(a){return[]}var it,Rt,Ot,nr,ln,un,cn,fn,hn,pn,dn,gn,yn,bn,mn,vn,wn,_n,Sn,En,An,In,xn,kn,Tn,On,Jt,Pn,Cn,Rn,Mn,jn,Nn,Bn,Un,Ln,Dn,Fn,Wn,$n,qn,Vn,zn,Hn,Kn,Gn,Qn,Yn,Jn,Xn,Zn,ei,ct,nn,br,ti,ri,ni,ii,oi,si,ai,li,ui,ci,fi,uo,zl=Ge(()=>{ue(),fe(),ce(),it=[],Rt=!1,nr=-1,Gs.prototype.run=function(){this.fun.apply(null,this.array)},ln="browser",un="x64",cn="browser",fn={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},hn=["/usr/bin/node"],pn=[],dn="v16.8.0",gn={},yn=function(a,s){console.warn((s?s+": ":"")+a)},bn=function(a){lo("binding")},mn=function(a){return 0},vn=function(){return"/"},wn=function(a){},_n={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Sn=!0,En=Fe,An=[],In={},xn=!1,kn={},Tn=Fe,On=Fe,Jt=function(){return{}},Pn=Jt,Cn=Jt,Rn=Fe,Mn=Fe,jn=Fe,Nn={},Bn={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Un=Fe,Ln=Fe,Dn=Fe,Fn=Fe,Wn=Fe,$n=Fe,qn=Fe,Vn=void 0,zn=void 0,Hn=void 0,Kn=Fe,Gn=2,Qn=1,Yn="/bin/usr/node",Jn=9229,Xn="node",Zn=[],ei=Fe,ct={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ct.now===void 0&&(nn=Date.now(),ct.timing&&ct.timing.navigationStart&&(nn=ct.timing.navigationStart),ct.now=()=>Date.now()-nn),br=1e9,yr.bigint=function(a){var s=yr(a);return typeof BigInt>"u"?s[0]*br+s[1]:BigInt(s[0]*br)+BigInt(s[1])},ti=10,ri={},ni=0,ii=lt,oi=lt,si=lt,ai=lt,li=lt,ui=Fe,ci=lt,fi=lt,uo={version:dn,versions:gn,arch:un,platform:cn,browser:Sn,release:_n,_rawDebug:En,moduleLoadList:An,binding:bn,_linkedBinding:Qs,_events:ri,_eventsCount:ni,_maxListeners:ti,on:lt,addListener:ii,once:oi,off:si,removeListener:ai,removeAllListeners:li,emit:ui,prependListener:ci,prependOnceListener:fi,listeners:ra,domain:In,_exiting:xn,config:kn,dlopen:Ys,uptime:ta,_getActiveRequests:Js,_getActiveHandles:Xs,reallyExit:Tn,_kill:On,cpuUsage:Jt,resourceUsage:Pn,memoryUsage:Cn,kill:Rn,exit:Mn,openStdin:jn,allowedNodeEnvironmentFlags:Nn,assert:Zs,features:Bn,_fatalExceptions:Un,setUncaughtExceptionCaptureCallback:Ln,hasUncaughtExceptionCaptureCallback:ea,emitWarning:yn,nextTick:Ks,_tickCallback:Dn,_debugProcess:Fn,_debugEnd:Wn,_startProfilerIdleNotifier:$n,_stopProfilerIdleNotifier:qn,stdout:Vn,stdin:Hn,stderr:zn,abort:Kn,umask:mn,chdir:wn,cwd:vn,env:fn,title:ln,argv:hn,execArgv:pn,pid:Gn,ppid:Qn,execPath:Yn,debugPort:Jn,hrtime:yr,argv0:Xn,_preload_modules:Zn,setSourceMapsEnabled:ei}}),ce=Ge(()=>{zl()});function Hl(){if(hi)return Ft;hi=!0,Ft.byteLength=t,Ft.toByteArray=i,Ft.fromByteArray=g;for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,e=l.length;u<e;++u)a[u]=l[u],s[l.charCodeAt(u)]=u;s[45]=62,s[95]=63;function r(m){var h=m.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=h);var b=y===h?0:4-y%4;return[y,b]}function t(m){var h=r(m),y=h[0],b=h[1];return(y+b)*3/4-b}function n(m,h,y){return(h+y)*3/4-y}function i(m){var h,y=r(m),b=y[0],S=y[1],d=new o(n(m,b,S)),w=0,E=S>0?b-4:b,v;for(v=0;v<E;v+=4)h=s[m.charCodeAt(v)]<<18|s[m.charCodeAt(v+1)]<<12|s[m.charCodeAt(v+2)]<<6|s[m.charCodeAt(v+3)],d[w++]=h>>16&255,d[w++]=h>>8&255,d[w++]=h&255;return S===2&&(h=s[m.charCodeAt(v)]<<2|s[m.charCodeAt(v+1)]>>4,d[w++]=h&255),S===1&&(h=s[m.charCodeAt(v)]<<10|s[m.charCodeAt(v+1)]<<4|s[m.charCodeAt(v+2)]>>2,d[w++]=h>>8&255,d[w++]=h&255),d}function c(m){return a[m>>18&63]+a[m>>12&63]+a[m>>6&63]+a[m&63]}function p(m,h,y){for(var b,S=[],d=h;d<y;d+=3)b=(m[d]<<16&16711680)+(m[d+1]<<8&65280)+(m[d+2]&255),S.push(c(b));return S.join("")}function g(m){for(var h,y=m.length,b=y%3,S=[],d=16383,w=0,E=y-b;w<E;w+=d)S.push(p(m,w,w+d>E?E:w+d));return b===1?(h=m[y-1],S.push(a[h>>2]+a[h<<4&63]+"==")):b===2&&(h=(m[y-2]<<8)+m[y-1],S.push(a[h>>10]+a[h>>4&63]+a[h<<2&63]+"=")),S.join("")}return Ft}function Kl(){return pi?Xt:(pi=!0,Xt.read=function(a,s,o,l,u){var e,r,t=u*8-l-1,n=(1<<t)-1,i=n>>1,c=-7,p=o?u-1:0,g=o?-1:1,m=a[s+p];for(p+=g,e=m&(1<<-c)-1,m>>=-c,c+=t;c>0;e=e*256+a[s+p],p+=g,c-=8);for(r=e&(1<<-c)-1,e>>=-c,c+=l;c>0;r=r*256+a[s+p],p+=g,c-=8);if(e===0)e=1-i;else{if(e===n)return r?NaN:(m?-1:1)*(1/0);r=r+Math.pow(2,l),e=e-i}return(m?-1:1)*r*Math.pow(2,e-l)},Xt.write=function(a,s,o,l,u,e){var r,t,n,i=e*8-u-1,c=(1<<i)-1,p=c>>1,g=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?0:e-1,h=l?1:-1,y=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(t=isNaN(s)?1:0,r=c):(r=Math.floor(Math.log(s)/Math.LN2),s*(n=Math.pow(2,-r))<1&&(r--,n*=2),r+p>=1?s+=g/n:s+=g*Math.pow(2,1-p),s*n>=2&&(r++,n/=2),r+p>=c?(t=0,r=c):r+p>=1?(t=(s*n-1)*Math.pow(2,u),r=r+p):(t=s*Math.pow(2,p-1)*Math.pow(2,u),r=0));u>=8;a[o+m]=t&255,m+=h,t/=256,u-=8);for(r=r<<u|t,i+=u;i>0;a[o+m]=r&255,m+=h,r/=256,i-=8);a[o+m-h]|=y*128},Xt)}function Gl(){if(di)return wt;di=!0;let a=Hl(),s=Kl(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;wt.Buffer=r,wt.SlowBuffer=S,wt.INSPECT_MAX_BYTES=50;let l=2147483647;wt.kMaxLength=l,r.TYPED_ARRAY_SUPPORT=u(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{let f=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(f,_),f.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function e(f){if(f>l)throw new RangeError('The value "'+f+'" is invalid for option "size"');let _=new Uint8Array(f);return Object.setPrototypeOf(_,r.prototype),_}function r(f,_,x){if(typeof f=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(f)}return t(f,_,x)}r.poolSize=8192;function t(f,_,x){if(typeof f=="string")return p(f,_);if(ArrayBuffer.isView(f))return m(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(q(f,ArrayBuffer)||f&&q(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(f,SharedArrayBuffer)||f&&q(f.buffer,SharedArrayBuffer)))return h(f,_,x);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let D=f.valueOf&&f.valueOf();if(D!=null&&D!==f)return r.from(D,_,x);let X=y(f);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return r.from(f[Symbol.toPrimitive]("string"),_,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}r.from=function(f,_,x){return t(f,_,x)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function n(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function i(f,_,x){return n(f),f<=0?e(f):_!==void 0?typeof x=="string"?e(f).fill(_,x):e(f).fill(_):e(f)}r.alloc=function(f,_,x){return i(f,_,x)};function c(f){return n(f),e(f<0?0:b(f)|0)}r.allocUnsafe=function(f){return c(f)},r.allocUnsafeSlow=function(f){return c(f)};function p(f,_){if((typeof _!="string"||_==="")&&(_="utf8"),!r.isEncoding(_))throw new TypeError("Unknown encoding: "+_);let x=d(f,_)|0,D=e(x),X=D.write(f,_);return X!==x&&(D=D.slice(0,X)),D}function g(f){let _=f.length<0?0:b(f.length)|0,x=e(_);for(let D=0;D<_;D+=1)x[D]=f[D]&255;return x}function m(f){if(q(f,Uint8Array)){let _=new Uint8Array(f);return h(_.buffer,_.byteOffset,_.byteLength)}return g(f)}function h(f,_,x){if(_<0||f.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<_+(x||0))throw new RangeError('"length" is outside of buffer bounds');let D;return _===void 0&&x===void 0?D=new Uint8Array(f):x===void 0?D=new Uint8Array(f,_):D=new Uint8Array(f,_,x),Object.setPrototypeOf(D,r.prototype),D}function y(f){if(r.isBuffer(f)){let _=b(f.length)|0,x=e(_);return x.length===0||f.copy(x,0,0,_),x}if(f.length!==void 0)return typeof f.length!="number"||ye(f.length)?e(0):g(f);if(f.type==="Buffer"&&Array.isArray(f.data))return g(f.data)}function b(f){if(f>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return f|0}function S(f){return+f!=f&&(f=0),r.alloc(+f)}r.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==r.prototype},r.compare=function(f,_){if(q(f,Uint8Array)&&(f=r.from(f,f.offset,f.byteLength)),q(_,Uint8Array)&&(_=r.from(_,_.offset,_.byteLength)),!r.isBuffer(f)||!r.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===_)return 0;let x=f.length,D=_.length;for(let X=0,he=Math.min(x,D);X<he;++X)if(f[X]!==_[X]){x=f[X],D=_[X];break}return x<D?-1:D<x?1:0},r.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(f,_){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return r.alloc(0);let x;if(_===void 0)for(_=0,x=0;x<f.length;++x)_+=f[x].length;let D=r.allocUnsafe(_),X=0;for(x=0;x<f.length;++x){let he=f[x];if(q(he,Uint8Array))X+he.length>D.length?(r.isBuffer(he)||(he=r.from(he)),he.copy(D,X)):Uint8Array.prototype.set.call(D,he,X);else if(r.isBuffer(he))he.copy(D,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=he.length}return D};function d(f,_){if(r.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||q(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);let x=f.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&x===0)return 0;let X=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return $(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return de(f).length;default:if(X)return D?-1:$(f).length;_=(""+_).toLowerCase(),X=!0}}r.byteLength=d;function w(f,_,x){let D=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,_>>>=0,x<=_))return"";for(f||(f="utf8");;)switch(f){case"hex":return V(this,_,x);case"utf8":case"utf-8":return W(this,_,x);case"ascii":return ae(this,_,x);case"latin1":case"binary":return Q(this,_,x);case"base64":return T(this,_,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,_,x);default:if(D)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),D=!0}}r.prototype._isBuffer=!0;function E(f,_,x){let D=f[_];f[_]=f[x],f[x]=D}r.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<f;_+=2)E(this,_,_+1);return this},r.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<f;_+=4)E(this,_,_+3),E(this,_+1,_+2);return this},r.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<f;_+=8)E(this,_,_+7),E(this,_+1,_+6),E(this,_+2,_+5),E(this,_+3,_+4);return this},r.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?W(this,0,f):w.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(f){if(!r.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:r.compare(this,f)===0},r.prototype.inspect=function(){let f="",_=wt.INSPECT_MAX_BYTES;return f=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(f+=" ... "),"<Buffer "+f+">"},o&&(r.prototype[o]=r.prototype.inspect),r.prototype.compare=function(f,_,x,D,X){if(q(f,Uint8Array)&&(f=r.from(f,f.offset,f.byteLength)),!r.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(_===void 0&&(_=0),x===void 0&&(x=f?f.length:0),D===void 0&&(D=0),X===void 0&&(X=this.length),_<0||x>f.length||D<0||X>this.length)throw new RangeError("out of range index");if(D>=X&&_>=x)return 0;if(D>=X)return-1;if(_>=x)return 1;if(_>>>=0,x>>>=0,D>>>=0,X>>>=0,this===f)return 0;let he=X-D,Se=x-_,H=Math.min(he,Se),ie=this.slice(D,X),Ie=f.slice(_,x);for(let xe=0;xe<H;++xe)if(ie[xe]!==Ie[xe]){he=ie[xe],Se=Ie[xe];break}return he<Se?-1:Se<he?1:0};function v(f,_,x,D,X){if(f.length===0)return-1;if(typeof x=="string"?(D=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,ye(x)&&(x=X?0:f.length-1),x<0&&(x=f.length+x),x>=f.length){if(X)return-1;x=f.length-1}else if(x<0)if(X)x=0;else return-1;if(typeof _=="string"&&(_=r.from(_,D)),r.isBuffer(_))return _.length===0?-1:I(f,_,x,D,X);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(f,_,x):Uint8Array.prototype.lastIndexOf.call(f,_,x):I(f,[_],x,D,X);throw new TypeError("val must be string, number or Buffer")}function I(f,_,x,D,X){let he=1,Se=f.length,H=_.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(f.length<2||_.length<2)return-1;he=2,Se/=2,H/=2,x/=2}function ie(xe,ke){return he===1?xe[ke]:xe.readUInt16BE(ke*he)}let Ie;if(X){let xe=-1;for(Ie=x;Ie<Se;Ie++)if(ie(f,Ie)===ie(_,xe===-1?0:Ie-xe)){if(xe===-1&&(xe=Ie),Ie-xe+1===H)return xe*he}else xe!==-1&&(Ie-=Ie-xe),xe=-1}else for(x+H>Se&&(x=Se-H),Ie=x;Ie>=0;Ie--){let xe=!0;for(let ke=0;ke<H;ke++)if(ie(f,Ie+ke)!==ie(_,ke)){xe=!1;break}if(xe)return Ie}return-1}r.prototype.includes=function(f,_,x){return this.indexOf(f,_,x)!==-1},r.prototype.indexOf=function(f,_,x){return v(this,f,_,x,!0)},r.prototype.lastIndexOf=function(f,_,x){return v(this,f,_,x,!1)};function A(f,_,x,D){x=Number(x)||0;let X=f.length-x;D?(D=Number(D),D>X&&(D=X)):D=X;let he=_.length;D>he/2&&(D=he/2);let Se;for(Se=0;Se<D;++Se){let H=parseInt(_.substr(Se*2,2),16);if(ye(H))return Se;f[x+Se]=H}return Se}function k(f,_,x,D){return me($(_,f.length-x),f,x,D)}function R(f,_,x,D){return me(te(_),f,x,D)}function P(f,_,x,D){return me(de(_),f,x,D)}function B(f,_,x,D){return me(pe(_,f.length-x),f,x,D)}r.prototype.write=function(f,_,x,D){if(_===void 0)D="utf8",x=this.length,_=0;else if(x===void 0&&typeof _=="string")D=_,x=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(x)?(x=x>>>0,D===void 0&&(D="utf8")):(D=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let X=this.length-_;if((x===void 0||x>X)&&(x=X),f.length>0&&(x<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let he=!1;for(;;)switch(D){case"hex":return A(this,f,_,x);case"utf8":case"utf-8":return k(this,f,_,x);case"ascii":case"latin1":case"binary":return R(this,f,_,x);case"base64":return P(this,f,_,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,f,_,x);default:if(he)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),he=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(f,_,x){return _===0&&x===f.length?a.fromByteArray(f):a.fromByteArray(f.slice(_,x))}function W(f,_,x){x=Math.min(f.length,x);let D=[],X=_;for(;X<x;){let he=f[X],Se=null,H=he>239?4:he>223?3:he>191?2:1;if(X+H<=x){let ie,Ie,xe,ke;switch(H){case 1:he<128&&(Se=he);break;case 2:ie=f[X+1],(ie&192)===128&&(ke=(he&31)<<6|ie&63,ke>127&&(Se=ke));break;case 3:ie=f[X+1],Ie=f[X+2],(ie&192)===128&&(Ie&192)===128&&(ke=(he&15)<<12|(ie&63)<<6|Ie&63,ke>2047&&(ke<55296||ke>57343)&&(Se=ke));break;case 4:ie=f[X+1],Ie=f[X+2],xe=f[X+3],(ie&192)===128&&(Ie&192)===128&&(xe&192)===128&&(ke=(he&15)<<18|(ie&63)<<12|(Ie&63)<<6|xe&63,ke>65535&&ke<1114112&&(Se=ke))}}Se===null?(Se=65533,H=1):Se>65535&&(Se-=65536,D.push(Se>>>10&1023|55296),Se=56320|Se&1023),D.push(Se),X+=H}return U(D)}let L=4096;function U(f){let _=f.length;if(_<=L)return String.fromCharCode.apply(String,f);let x="",D=0;for(;D<_;)x+=String.fromCharCode.apply(String,f.slice(D,D+=L));return x}function ae(f,_,x){let D="";x=Math.min(f.length,x);for(let X=_;X<x;++X)D+=String.fromCharCode(f[X]&127);return D}function Q(f,_,x){let D="";x=Math.min(f.length,x);for(let X=_;X<x;++X)D+=String.fromCharCode(f[X]);return D}function V(f,_,x){let D=f.length;(!_||_<0)&&(_=0),(!x||x<0||x>D)&&(x=D);let X="";for(let he=_;he<x;++he)X+=we[f[he]];return X}function re(f,_,x){let D=f.slice(_,x),X="";for(let he=0;he<D.length-1;he+=2)X+=String.fromCharCode(D[he]+D[he+1]*256);return X}r.prototype.slice=function(f,_){let x=this.length;f=~~f,_=_===void 0?x:~~_,f<0?(f+=x,f<0&&(f=0)):f>x&&(f=x),_<0?(_+=x,_<0&&(_=0)):_>x&&(_=x),_<f&&(_=f);let D=this.subarray(f,_);return Object.setPrototypeOf(D,r.prototype),D};function F(f,_,x){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+_>x)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(f,_,x){f=f>>>0,_=_>>>0,x||F(f,_,this.length);let D=this[f],X=1,he=0;for(;++he<_&&(X*=256);)D+=this[f+he]*X;return D},r.prototype.readUintBE=r.prototype.readUIntBE=function(f,_,x){f=f>>>0,_=_>>>0,x||F(f,_,this.length);let D=this[f+--_],X=1;for(;_>0&&(X*=256);)D+=this[f+--_]*X;return D},r.prototype.readUint8=r.prototype.readUInt8=function(f,_){return f=f>>>0,_||F(f,1,this.length),this[f]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(f,_){return f=f>>>0,_||F(f,2,this.length),this[f]|this[f+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(f,_){return f=f>>>0,_||F(f,2,this.length),this[f]<<8|this[f+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(f,_){return f=f>>>0,_||F(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(f,_){return f=f>>>0,_||F(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},r.prototype.readBigUInt64LE=le(function(f){f=f>>>0,J(f,"offset");let _=this[f],x=this[f+7];(_===void 0||x===void 0)&&be(f,this.length-8);let D=_+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,X=this[++f]+this[++f]*2**8+this[++f]*2**16+x*2**24;return BigInt(D)+(BigInt(X)<<BigInt(32))}),r.prototype.readBigUInt64BE=le(function(f){f=f>>>0,J(f,"offset");let _=this[f],x=this[f+7];(_===void 0||x===void 0)&&be(f,this.length-8);let D=_*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],X=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x;return(BigInt(D)<<BigInt(32))+BigInt(X)}),r.prototype.readIntLE=function(f,_,x){f=f>>>0,_=_>>>0,x||F(f,_,this.length);let D=this[f],X=1,he=0;for(;++he<_&&(X*=256);)D+=this[f+he]*X;return X*=128,D>=X&&(D-=Math.pow(2,8*_)),D},r.prototype.readIntBE=function(f,_,x){f=f>>>0,_=_>>>0,x||F(f,_,this.length);let D=_,X=1,he=this[f+--D];for(;D>0&&(X*=256);)he+=this[f+--D]*X;return X*=128,he>=X&&(he-=Math.pow(2,8*_)),he},r.prototype.readInt8=function(f,_){return f=f>>>0,_||F(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},r.prototype.readInt16LE=function(f,_){f=f>>>0,_||F(f,2,this.length);let x=this[f]|this[f+1]<<8;return x&32768?x|4294901760:x},r.prototype.readInt16BE=function(f,_){f=f>>>0,_||F(f,2,this.length);let x=this[f+1]|this[f]<<8;return x&32768?x|4294901760:x},r.prototype.readInt32LE=function(f,_){return f=f>>>0,_||F(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},r.prototype.readInt32BE=function(f,_){return f=f>>>0,_||F(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},r.prototype.readBigInt64LE=le(function(f){f=f>>>0,J(f,"offset");let _=this[f],x=this[f+7];(_===void 0||x===void 0)&&be(f,this.length-8);let D=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(x<<24);return(BigInt(D)<<BigInt(32))+BigInt(_+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),r.prototype.readBigInt64BE=le(function(f){f=f>>>0,J(f,"offset");let _=this[f],x=this[f+7];(_===void 0||x===void 0)&&be(f,this.length-8);let D=(_<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(D)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x)}),r.prototype.readFloatLE=function(f,_){return f=f>>>0,_||F(f,4,this.length),s.read(this,f,!0,23,4)},r.prototype.readFloatBE=function(f,_){return f=f>>>0,_||F(f,4,this.length),s.read(this,f,!1,23,4)},r.prototype.readDoubleLE=function(f,_){return f=f>>>0,_||F(f,8,this.length),s.read(this,f,!0,52,8)},r.prototype.readDoubleBE=function(f,_){return f=f>>>0,_||F(f,8,this.length),s.read(this,f,!1,52,8)};function ee(f,_,x,D,X,he){if(!r.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>X||_<he)throw new RangeError('"value" argument is out of bounds');if(x+D>f.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(f,_,x,D){if(f=+f,_=_>>>0,x=x>>>0,!D){let Se=Math.pow(2,8*x)-1;ee(this,f,_,x,Se,0)}let X=1,he=0;for(this[_]=f&255;++he<x&&(X*=256);)this[_+he]=f/X&255;return _+x},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(f,_,x,D){if(f=+f,_=_>>>0,x=x>>>0,!D){let Se=Math.pow(2,8*x)-1;ee(this,f,_,x,Se,0)}let X=x-1,he=1;for(this[_+X]=f&255;--X>=0&&(he*=256);)this[_+X]=f/he&255;return _+x},r.prototype.writeUint8=r.prototype.writeUInt8=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,1,255,0),this[_]=f&255,_+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,2,65535,0),this[_]=f&255,this[_+1]=f>>>8,_+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,2,65535,0),this[_]=f>>>8,this[_+1]=f&255,_+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,4,4294967295,0),this[_+3]=f>>>24,this[_+2]=f>>>16,this[_+1]=f>>>8,this[_]=f&255,_+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,4,4294967295,0),this[_]=f>>>24,this[_+1]=f>>>16,this[_+2]=f>>>8,this[_+3]=f&255,_+4};function C(f,_,x,D,X){G(_,D,X,f,x,7);let he=Number(_&BigInt(4294967295));f[x++]=he,he=he>>8,f[x++]=he,he=he>>8,f[x++]=he,he=he>>8,f[x++]=he;let Se=Number(_>>BigInt(32)&BigInt(4294967295));return f[x++]=Se,Se=Se>>8,f[x++]=Se,Se=Se>>8,f[x++]=Se,Se=Se>>8,f[x++]=Se,x}function Y(f,_,x,D,X){G(_,D,X,f,x,7);let he=Number(_&BigInt(4294967295));f[x+7]=he,he=he>>8,f[x+6]=he,he=he>>8,f[x+5]=he,he=he>>8,f[x+4]=he;let Se=Number(_>>BigInt(32)&BigInt(4294967295));return f[x+3]=Se,Se=Se>>8,f[x+2]=Se,Se=Se>>8,f[x+1]=Se,Se=Se>>8,f[x]=Se,x+8}r.prototype.writeBigUInt64LE=le(function(f,_=0){return C(this,f,_,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=le(function(f,_=0){return Y(this,f,_,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(f,_,x,D){if(f=+f,_=_>>>0,!D){let H=Math.pow(2,8*x-1);ee(this,f,_,x,H-1,-H)}let X=0,he=1,Se=0;for(this[_]=f&255;++X<x&&(he*=256);)f<0&&Se===0&&this[_+X-1]!==0&&(Se=1),this[_+X]=(f/he>>0)-Se&255;return _+x},r.prototype.writeIntBE=function(f,_,x,D){if(f=+f,_=_>>>0,!D){let H=Math.pow(2,8*x-1);ee(this,f,_,x,H-1,-H)}let X=x-1,he=1,Se=0;for(this[_+X]=f&255;--X>=0&&(he*=256);)f<0&&Se===0&&this[_+X+1]!==0&&(Se=1),this[_+X]=(f/he>>0)-Se&255;return _+x},r.prototype.writeInt8=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,1,127,-128),f<0&&(f=255+f+1),this[_]=f&255,_+1},r.prototype.writeInt16LE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,2,32767,-32768),this[_]=f&255,this[_+1]=f>>>8,_+2},r.prototype.writeInt16BE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,2,32767,-32768),this[_]=f>>>8,this[_+1]=f&255,_+2},r.prototype.writeInt32LE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,4,2147483647,-2147483648),this[_]=f&255,this[_+1]=f>>>8,this[_+2]=f>>>16,this[_+3]=f>>>24,_+4},r.prototype.writeInt32BE=function(f,_,x){return f=+f,_=_>>>0,x||ee(this,f,_,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[_]=f>>>24,this[_+1]=f>>>16,this[_+2]=f>>>8,this[_+3]=f&255,_+4},r.prototype.writeBigInt64LE=le(function(f,_=0){return C(this,f,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=le(function(f,_=0){return Y(this,f,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oe(f,_,x,D,X,he){if(x+D>f.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function Z(f,_,x,D,X){return _=+_,x=x>>>0,X||oe(f,_,x,4),s.write(f,_,x,D,23,4),x+4}r.prototype.writeFloatLE=function(f,_,x){return Z(this,f,_,!0,x)},r.prototype.writeFloatBE=function(f,_,x){return Z(this,f,_,!1,x)};function ve(f,_,x,D,X){return _=+_,x=x>>>0,X||oe(f,_,x,8),s.write(f,_,x,D,52,8),x+8}r.prototype.writeDoubleLE=function(f,_,x){return ve(this,f,_,!0,x)},r.prototype.writeDoubleBE=function(f,_,x){return ve(this,f,_,!1,x)},r.prototype.copy=function(f,_,x,D){if(!r.isBuffer(f))throw new TypeError("argument should be a Buffer");if(x||(x=0),!D&&D!==0&&(D=this.length),_>=f.length&&(_=f.length),_||(_=0),D>0&&D<x&&(D=x),D===x||f.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),f.length-_<D-x&&(D=f.length-_+x);let X=D-x;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,x,D):Uint8Array.prototype.set.call(f,this.subarray(x,D),_),X},r.prototype.fill=function(f,_,x,D){if(typeof f=="string"){if(typeof _=="string"?(D=_,_=0,x=this.length):typeof x=="string"&&(D=x,x=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!r.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(f.length===1){let he=f.charCodeAt(0);(D==="utf8"&&he<128||D==="latin1")&&(f=he)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(_<0||this.length<_||this.length<x)throw new RangeError("Out of range index");if(x<=_)return this;_=_>>>0,x=x===void 0?this.length:x>>>0,f||(f=0);let X;if(typeof f=="number")for(X=_;X<x;++X)this[X]=f;else{let he=r.isBuffer(f)?f:r.from(f,D),Se=he.length;if(Se===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(X=0;X<x-_;++X)this[X+_]=he[X%Se]}return this};let K={};function N(f,_,x){K[f]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(f,_){return`The "${f}" argument must be of type number. Received type ${typeof _}`},TypeError),N("ERR_OUT_OF_RANGE",function(f,_,x){let D=`The value of "${f}" is out of range.`,X=x;return Number.isInteger(x)&&Math.abs(x)>2**32?X=ne(String(x)):typeof x=="bigint"&&(X=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(X=ne(X)),X+="n"),D+=` It must be ${_}. Received ${X}`,D},RangeError);function ne(f){let _="",x=f.length,D=f[0]==="-"?1:0;for(;x>=D+4;x-=3)_=`_${f.slice(x-3,x)}${_}`;return`${f.slice(0,x)}${_}`}function z(f,_,x){J(_,"offset"),(f[_]===void 0||f[_+x]===void 0)&&be(_,f.length-(x+1))}function G(f,_,x,D,X,he){if(f>x||f<_){let Se=typeof _=="bigint"?"n":"",H;throw _===0||_===BigInt(0)?H=`>= 0${Se} and < 2${Se} ** ${(he+1)*8}${Se}`:H=`>= -(2${Se} ** ${(he+1)*8-1}${Se}) and < 2 ** ${(he+1)*8-1}${Se}`,new K.ERR_OUT_OF_RANGE("value",H,f)}z(D,X,he)}function J(f,_){if(typeof f!="number")throw new K.ERR_INVALID_ARG_TYPE(_,"number",f)}function be(f,_,x){throw Math.floor(f)!==f?(J(f,x),new K.ERR_OUT_OF_RANGE("offset","an integer",f)):_<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,f)}let se=/[^+/0-9A-Za-z-_]/g;function M(f){if(f=f.split("=")[0],f=f.trim().replace(se,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function $(f,_){_=_||1/0;let x,D=f.length,X=null,he=[];for(let Se=0;Se<D;++Se){if(x=f.charCodeAt(Se),x>55295&&x<57344){if(!X){if(x>56319){(_-=3)>-1&&he.push(239,191,189);continue}else if(Se+1===D){(_-=3)>-1&&he.push(239,191,189);continue}X=x;continue}if(x<56320){(_-=3)>-1&&he.push(239,191,189),X=x;continue}x=(X-55296<<10|x-56320)+65536}else X&&(_-=3)>-1&&he.push(239,191,189);if(X=null,x<128){if((_-=1)<0)break;he.push(x)}else if(x<2048){if((_-=2)<0)break;he.push(x>>6|192,x&63|128)}else if(x<65536){if((_-=3)<0)break;he.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((_-=4)<0)break;he.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return he}function te(f){let _=[];for(let x=0;x<f.length;++x)_.push(f.charCodeAt(x)&255);return _}function pe(f,_){let x,D,X,he=[];for(let Se=0;Se<f.length&&!((_-=2)<0);++Se)x=f.charCodeAt(Se),D=x>>8,X=x%256,he.push(X),he.push(D);return he}function de(f){return a.toByteArray(M(f))}function me(f,_,x,D){let X;for(X=0;X<D&&!(X+x>=_.length||X>=f.length);++X)_[X+x]=f[X];return X}function q(f,_){return f instanceof _||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===_.name}function ye(f){return f!==f}let we=function(){let f="0123456789abcdef",_=new Array(256);for(let x=0;x<16;++x){let D=x*16;for(let X=0;X<16;++X)_[D+X]=f[x]+f[X]}return _}();function le(f){return typeof BigInt>"u"?Te:f}function Te(){throw new Error("BigInt not supported")}return wt}var Ft,hi,Xt,pi,wt,di,Ql=Ge(()=>{ue(),fe(),ce(),Ft={},hi=!1,Xt={},pi=!1,wt={},di=!1}),Ue={};qt(Ue,{Buffer:()=>Hr,INSPECT_MAX_BYTES:()=>na,default:()=>ut,kMaxLength:()=>ia});var ut,Hr,na,ia,Le=Ge(()=>{ue(),fe(),ce(),Ql(),ut=Gl(),ut.Buffer,ut.SlowBuffer,ut.INSPECT_MAX_BYTES,ut.kMaxLength,Hr=ut.Buffer,na=ut.INSPECT_MAX_BYTES,ia=ut.kMaxLength}),fe=Ge(()=>{Le()}),Me=ge((a,s)=>{ue(),fe(),ce();var o=class extends Error{constructor(l){if(!Array.isArray(l))throw new TypeError(`Expected input to be an Array, got ${typeof l}`);let u="";for(let e=0;e<l.length;e++)u+=`    ${l[e].stack}
`;super(u),this.name="AggregateError",this.errors=l}};s.exports={AggregateError:o,ArrayIsArray(l){return Array.isArray(l)},ArrayPrototypeIncludes(l,u){return l.includes(u)},ArrayPrototypeIndexOf(l,u){return l.indexOf(u)},ArrayPrototypeJoin(l,u){return l.join(u)},ArrayPrototypeMap(l,u){return l.map(u)},ArrayPrototypePop(l,u){return l.pop(u)},ArrayPrototypePush(l,u){return l.push(u)},ArrayPrototypeSlice(l,u,e){return l.slice(u,e)},Error,FunctionPrototypeCall(l,u,...e){return l.call(u,...e)},FunctionPrototypeSymbolHasInstance(l,u){return Function.prototype[Symbol.hasInstance].call(l,u)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(l,u){return Object.defineProperties(l,u)},ObjectDefineProperty(l,u,e){return Object.defineProperty(l,u,e)},ObjectGetOwnPropertyDescriptor(l,u){return Object.getOwnPropertyDescriptor(l,u)},ObjectKeys(l){return Object.keys(l)},ObjectSetPrototypeOf(l,u){return Object.setPrototypeOf(l,u)},Promise,PromisePrototypeCatch(l,u){return l.catch(u)},PromisePrototypeThen(l,u,e){return l.then(u,e)},PromiseReject(l){return Promise.reject(l)},PromiseResolve(l){return Promise.resolve(l)},ReflectApply:Reflect.apply,RegExpPrototypeTest(l,u){return l.test(u)},SafeSet:Set,String,StringPrototypeSlice(l,u,e){return l.slice(u,e)},StringPrototypeToLowerCase(l){return l.toLowerCase()},StringPrototypeToUpperCase(l){return l.toUpperCase()},StringPrototypeTrim(l){return l.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(l,u,e){return l.set(u,e)},Boolean,Uint8Array}}),oa=ge((a,s)=>{ue(),fe(),ce(),s.exports={format(o,...l){return o.replace(/%([sdifj])/g,function(...[u,e]){let r=l.shift();return e==="f"?r.toFixed(6):e==="j"?JSON.stringify(r):e==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}}}}),He=ge((a,s)=>{ue(),fe(),ce();var{format:o,inspect:l}=oa(),{AggregateError:u}=Me(),e=globalThis.AggregateError||u,r=Symbol("kIsNodeError"),t=["string","function","number","object","Function","Object","boolean","bigint","symbol"],n=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",c={};function p(d,w){if(!d)throw new c.ERR_INTERNAL_ASSERTION(w)}function g(d){let w="",E=d.length,v=d[0]==="-"?1:0;for(;E>=v+4;E-=3)w=`_${d.slice(E-3,E)}${w}`;return`${d.slice(0,E)}${w}`}function m(d,w,E){if(typeof w=="function")return p(w.length<=E.length,`Code: ${d}; The provided arguments length (${E.length}) does not match the required ones (${w.length}).`),w(...E);let v=(w.match(/%[dfijoOs]/g)||[]).length;return p(v===E.length,`Code: ${d}; The provided arguments length (${E.length}) does not match the required ones (${v}).`),E.length===0?w:o(w,...E)}function h(d,w,E){E||(E=Error);class v extends E{constructor(...A){super(m(d,w,A))}toString(){return`${this.name} [${d}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${d}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=d,v.prototype[r]=!0,c[d]=v}function y(d){let w=i+d.name;return Object.defineProperty(d,"name",{value:w}),d}function b(d,w){if(d&&w&&d!==w){if(Array.isArray(w.errors))return w.errors.push(d),w;let E=new e([w,d],w.message);return E.code=w.code,E}return d||w}var S=class extends Error{constructor(d="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",w);super(d,w),this.code="ABORT_ERR",this.name="AbortError"}};h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(d,w,E)=>{p(typeof d=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let v="The ";d.endsWith(" argument")?v+=`${d} `:v+=`"${d}" ${d.includes(".")?"property":"argument"} `,v+="must be ";let I=[],A=[],k=[];for(let P of w)p(typeof P=="string","All expected entries have to be of type string"),t.includes(P)?I.push(P.toLowerCase()):n.test(P)?A.push(P):(p(P!=="object",'The value "object" should be written as "Object"'),k.push(P));if(A.length>0){let P=I.indexOf("object");P!==-1&&(I.splice(I,P,1),A.push("Object"))}if(I.length>0){switch(I.length){case 1:v+=`of type ${I[0]}`;break;case 2:v+=`one of type ${I[0]} or ${I[1]}`;break;default:{let P=I.pop();v+=`one of type ${I.join(", ")}, or ${P}`}}(A.length>0||k.length>0)&&(v+=" or ")}if(A.length>0){switch(A.length){case 1:v+=`an instance of ${A[0]}`;break;case 2:v+=`an instance of ${A[0]} or ${A[1]}`;break;default:{let P=A.pop();v+=`an instance of ${A.join(", ")}, or ${P}`}}k.length>0&&(v+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(v+="an "),v+=`${k[0]}`;break;case 2:v+=`one of ${k[0]} or ${k[1]}`;break;default:{let P=k.pop();v+=`one of ${k.join(", ")}, or ${P}`}}if(E==null)v+=`. Received ${E}`;else if(typeof E=="function"&&E.name)v+=`. Received function ${E.name}`;else if(typeof E=="object"){var R;if((R=E.constructor)!==null&&R!==void 0&&R.name)v+=`. Received an instance of ${E.constructor.name}`;else{let P=l(E,{depth:-1});v+=`. Received ${P}`}}else{let P=l(E,{colors:!1});P.length>25&&(P=`${P.slice(0,25)}...`),v+=`. Received type ${typeof E} (${P})`}return v},TypeError),h("ERR_INVALID_ARG_VALUE",(d,w,E="is invalid")=>{let v=l(w);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${d.includes(".")?"property":"argument"} '${d}' ${E}. Received ${v}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(d,w,E)=>{var v;let I=E!=null&&(v=E.constructor)!==null&&v!==void 0&&v.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${d} to be returned from the "${w}" function but got ${I}.`},TypeError),h("ERR_MISSING_ARGS",(...d)=>{p(d.length>0,"At least one arg needs to be specified");let w,E=d.length;switch(d=(Array.isArray(d)?d:[d]).map(v=>`"${v}"`).join(" or "),E){case 1:w+=`The ${d[0]} argument`;break;case 2:w+=`The ${d[0]} and ${d[1]} arguments`;break;default:{let v=d.pop();w+=`The ${d.join(", ")}, and ${v} arguments`}break}return`${w} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(d,w,E)=>{p(w,'Missing "range" argument');let v;if(Number.isInteger(E)&&Math.abs(E)>2**32)v=g(String(E));else if(typeof E=="bigint"){v=String(E);let I=BigInt(2)**BigInt(32);(E>I||E<-I)&&(v=g(v)),v+="n"}else v=l(E);return`The value of "${d}" is out of range. It must be ${w}. Received ${v}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),s.exports={AbortError:S,aggregateTwoErrors:y(b),hideStackFrames:y,codes:c}}),sr=ge((a,s)=>{ue(),fe(),ce();var{AbortController:o,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;s.exports=o,s.exports.AbortSignal=l,s.exports.default=o}),It={};qt(It,{EventEmitter:()=>sa,default:()=>Wt,defaultMaxListeners:()=>aa,init:()=>la,listenerCount:()=>ua,on:()=>ca,once:()=>fa});function Yl(){if(gi)return Zt;gi=!0;var a=typeof Reflect=="object"?Reflect:null,s=a&&typeof a.apply=="function"?a.apply:function(E,v,I){return Function.prototype.apply.call(E,v,I)},o;a&&typeof a.ownKeys=="function"?o=a.ownKeys:Object.getOwnPropertySymbols?o=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:o=function(E){return Object.getOwnPropertyNames(E)};function l(E){console&&console.warn&&console.warn(E)}var u=Number.isNaN||function(E){return E!==E};function e(){e.init.call(this)}Zt=e,Zt.once=S,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var r=10;function t(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(E){if(typeof E!="number"||E<0||u(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");r=E}}),e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||u(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function n(E){return E._maxListeners===void 0?e.defaultMaxListeners:E._maxListeners}e.prototype.getMaxListeners=function(){return n(this)},e.prototype.emit=function(E){for(var v=[],I=1;I<arguments.length;I++)v.push(arguments[I]);var A=E==="error",k=this._events;if(k!==void 0)A=A&&k.error===void 0;else if(!A)return!1;if(A){var R;if(v.length>0&&(R=v[0]),R instanceof Error)throw R;var P=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw P.context=R,P}var B=k[E];if(B===void 0)return!1;if(typeof B=="function")s(B,this,v);else for(var T=B.length,W=h(B,T),I=0;I<T;++I)s(W[I],this,v);return!0};function i(E,v,I,A){var k,R,P;if(t(I),R=E._events,R===void 0?(R=E._events=Object.create(null),E._eventsCount=0):(R.newListener!==void 0&&(E.emit("newListener",v,I.listener?I.listener:I),R=E._events),P=R[v]),P===void 0)P=R[v]=I,++E._eventsCount;else if(typeof P=="function"?P=R[v]=A?[I,P]:[P,I]:A?P.unshift(I):P.push(I),k=n(E),k>0&&P.length>k&&!P.warned){P.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=E,B.type=v,B.count=P.length,l(B)}return E}e.prototype.addListener=function(E,v){return i(this,E,v,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(E,v){return i(this,E,v,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(E,v,I){var A={fired:!1,wrapFn:void 0,target:E,type:v,listener:I},k=c.bind(A);return k.listener=I,A.wrapFn=k,k}e.prototype.once=function(E,v){return t(v),this.on(E,p(this,E,v)),this},e.prototype.prependOnceListener=function(E,v){return t(v),this.prependListener(E,p(this,E,v)),this},e.prototype.removeListener=function(E,v){var I,A,k,R,P;if(t(v),A=this._events,A===void 0)return this;if(I=A[E],I===void 0)return this;if(I===v||I.listener===v)--this._eventsCount===0?this._events=Object.create(null):(delete A[E],A.removeListener&&this.emit("removeListener",E,I.listener||v));else if(typeof I!="function"){for(k=-1,R=I.length-1;R>=0;R--)if(I[R]===v||I[R].listener===v){P=I[R].listener,k=R;break}if(k<0)return this;k===0?I.shift():y(I,k),I.length===1&&(A[E]=I[0]),A.removeListener!==void 0&&this.emit("removeListener",E,P||v)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(E){var v,I,A;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[E]),this;if(arguments.length===0){var k=Object.keys(I),R;for(A=0;A<k.length;++A)R=k[A],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(v=I[E],typeof v=="function")this.removeListener(E,v);else if(v!==void 0)for(A=v.length-1;A>=0;A--)this.removeListener(E,v[A]);return this};function g(E,v,I){var A=E._events;if(A===void 0)return[];var k=A[v];return k===void 0?[]:typeof k=="function"?I?[k.listener||k]:[k]:I?b(k):h(k,k.length)}e.prototype.listeners=function(E){return g(this,E,!0)},e.prototype.rawListeners=function(E){return g(this,E,!1)},e.listenerCount=function(E,v){return typeof E.listenerCount=="function"?E.listenerCount(v):m.call(E,v)},e.prototype.listenerCount=m;function m(E){var v=this._events;if(v!==void 0){var I=v[E];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}e.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function h(E,v){for(var I=new Array(v),A=0;A<v;++A)I[A]=E[A];return I}function y(E,v){for(;v+1<E.length;v++)E[v]=E[v+1];E.pop()}function b(E){for(var v=new Array(E.length),I=0;I<v.length;++I)v[I]=E[I].listener||E[I];return v}function S(E,v){return new Promise(function(I,A){function k(P){E.removeListener(v,R),A(P)}function R(){typeof E.removeListener=="function"&&E.removeListener("error",k),I([].slice.call(arguments))}w(E,v,R,{once:!0}),v!=="error"&&d(E,k,{once:!0})})}function d(E,v,I){typeof E.on=="function"&&w(E,"error",v,I)}function w(E,v,I,A){if(typeof E.on=="function")A.once?E.once(v,I):E.on(v,I);else if(typeof E.addEventListener=="function")E.addEventListener(v,function k(R){A.once&&E.removeEventListener(v,k),I(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Zt}var Zt,gi,Wt,sa,aa,la,ua,ca,fa,jt=Ge(()=>{ue(),fe(),ce(),Zt={},gi=!1,Wt=Yl(),Wt.once,Wt.once=function(a,s){return new Promise((o,l)=>{function u(...r){e!==void 0&&a.removeListener("error",e),o(r)}let e;s!=="error"&&(e=r=>{a.removeListener(name,u),l(r)},a.once("error",e)),a.once(s,u)})},Wt.on=function(a,s){let o=[],l=[],u=null,e=!1,r={async next(){let i=o.shift();if(i)return createIterResult(i,!1);if(u){let c=Promise.reject(u);return u=null,c}return e?createIterResult(void 0,!0):new Promise((c,p)=>l.push({resolve:c,reject:p}))},async return(){a.removeListener(s,t),a.removeListener("error",n),e=!0;for(let i of l)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){u=i,a.removeListener(s,t),a.removeListener("error",n)},[Symbol.asyncIterator](){return this}};return a.on(s,t),a.on("error",n),r;function t(...i){let c=l.shift();c?c.resolve(createIterResult(i,!1)):o.push(i)}function n(i){e=!0;let c=l.shift();c?c.reject(i):u=i,r.return()}},{EventEmitter:sa,defaultMaxListeners:aa,init:la,listenerCount:ua,on:ca,once:fa}=Wt}),Ke=ge((a,s)=>{ue(),fe(),ce();var o=(Le(),Pe(Ue)),{format:l,inspect:u}=oa(),{codes:{ERR_INVALID_ARG_TYPE:e}}=He(),{kResistStopPropagation:r,AggregateError:t,SymbolDispose:n}=Me(),i=globalThis.AbortSignal||sr().AbortSignal,c=globalThis.AbortController||sr().AbortController,p=Object.getPrototypeOf(async function(){}).constructor,g=globalThis.Blob||o.Blob,m=typeof g<"u"?function(b){return b instanceof g}:function(b){return!1},h=(b,S)=>{if(b!==void 0&&(b===null||typeof b!="object"||!("aborted"in b)))throw new e(S,"AbortSignal",b)},y=(b,S)=>{if(typeof b!="function")throw new e(S,"Function",b)};s.exports={AggregateError:t,kEmptyObject:Object.freeze({}),once(b){let S=!1;return function(...d){S||(S=!0,b.apply(this,d))}},createDeferredPromise:function(){let b,S;return{promise:new Promise((d,w)=>{b=d,S=w}),resolve:b,reject:S}},promisify(b){return new Promise((S,d)=>{b((w,...E)=>w?d(w):S(...E))})},debuglog(){return function(){}},format:l,inspect:u,types:{isAsyncFunction(b){return b instanceof p},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:m,deprecate(b,S){return b},addAbortListener:(jt(),Pe(It)).addAbortListener||function(b,S){if(b===void 0)throw new e("signal","AbortSignal",b);h(b,"signal"),y(S,"listener");let d;return b.aborted?queueMicrotask(()=>S()):(b.addEventListener("abort",S,{__proto__:null,once:!0,[r]:!0}),d=()=>{b.removeEventListener("abort",S)}),{__proto__:null,[n](){var w;(w=d)===null||w===void 0||w()}}},AbortSignalAny:i.any||function(b){if(b.length===1)return b[0];let S=new c,d=()=>S.abort();return b.forEach(w=>{h(w,"signals"),w.addEventListener("abort",d,{once:!0})}),S.signal.addEventListener("abort",()=>{b.forEach(w=>w.removeEventListener("abort",d))},{once:!0}),S.signal}},s.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),ur=ge((a,s)=>{ue(),fe(),ce();var{ArrayIsArray:o,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:u,ArrayPrototypeMap:e,NumberIsInteger:r,NumberIsNaN:t,NumberMAX_SAFE_INTEGER:n,NumberMIN_SAFE_INTEGER:i,NumberParseInt:c,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:g,String:m,StringPrototypeToUpperCase:h,StringPrototypeTrim:y}=Me(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:S,ERR_INVALID_ARG_TYPE:d,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:v}}=He(),{normalizeEncoding:I}=Ke(),{isAsyncFunction:A,isArrayBufferView:k}=Ke().types,R={};function P(q){return q===(q|0)}function B(q){return q===q>>>0}var T=/^[0-7]+$/,W="must be a 32-bit unsigned integer or an octal string";function L(q,ye,we){if(typeof q>"u"&&(q=we),typeof q=="string"){if(g(T,q)===null)throw new w(ye,q,W);q=c(q,8)}return Q(q,ye),q}var U=b((q,ye,we=i,le=n)=>{if(typeof q!="number")throw new d(ye,"number",q);if(!r(q))throw new E(ye,"an integer",q);if(q<we||q>le)throw new E(ye,`>= ${we} && <= ${le}`,q)}),ae=b((q,ye,we=-2147483648,le=2147483647)=>{if(typeof q!="number")throw new d(ye,"number",q);if(!r(q))throw new E(ye,"an integer",q);if(q<we||q>le)throw new E(ye,`>= ${we} && <= ${le}`,q)}),Q=b((q,ye,we=!1)=>{if(typeof q!="number")throw new d(ye,"number",q);if(!r(q))throw new E(ye,"an integer",q);let le=we?1:0,Te=4294967295;if(q<le||q>Te)throw new E(ye,`>= ${le} && <= ${Te}`,q)});function V(q,ye){if(typeof q!="string")throw new d(ye,"string",q)}function re(q,ye,we=void 0,le){if(typeof q!="number")throw new d(ye,"number",q);if(we!=null&&q<we||le!=null&&q>le||(we!=null||le!=null)&&t(q))throw new E(ye,`${we!=null?`>= ${we}`:""}${we!=null&&le!=null?" && ":""}${le!=null?`<= ${le}`:""}`,q)}var F=b((q,ye,we)=>{if(!l(we,q)){let le="must be one of: "+u(e(we,Te=>typeof Te=="string"?`'${Te}'`:m(Te)),", ");throw new w(ye,q,le)}});function ee(q,ye){if(typeof q!="boolean")throw new d(ye,"boolean",q)}function C(q,ye,we){return q==null||!p(q,ye)?we:q[ye]}var Y=b((q,ye,we=null)=>{let le=C(we,"allowArray",!1),Te=C(we,"allowFunction",!1);if(!C(we,"nullable",!1)&&q===null||!le&&o(q)||typeof q!="object"&&(!Te||typeof q!="function"))throw new d(ye,"Object",q)}),oe=b((q,ye)=>{if(q!=null&&typeof q!="object"&&typeof q!="function")throw new d(ye,"a dictionary",q)}),Z=b((q,ye,we=0)=>{if(!o(q))throw new d(ye,"Array",q);if(q.length<we){let le=`must be longer than ${we}`;throw new w(ye,q,le)}});function ve(q,ye){Z(q,ye);for(let we=0;we<q.length;we++)V(q[we],`${ye}[${we}]`)}function K(q,ye){Z(q,ye);for(let we=0;we<q.length;we++)ee(q[we],`${ye}[${we}]`)}function N(q,ye){Z(q,ye);for(let we=0;we<q.length;we++){let le=q[we],Te=`${ye}[${we}]`;if(le==null)throw new d(Te,"AbortSignal",le);be(le,Te)}}function ne(q,ye="signal"){if(V(q,ye),R[q]===void 0)throw R[h(q)]!==void 0?new v(q+" (signals must use all capital letters)"):new v(q)}var z=b((q,ye="buffer")=>{if(!k(q))throw new d(ye,["Buffer","TypedArray","DataView"],q)});function G(q,ye){let we=I(ye),le=q.length;if(we==="hex"&&le%2!==0)throw new w("encoding",ye,`is invalid for data of length ${le}`)}function J(q,ye="Port",we=!0){if(typeof q!="number"&&typeof q!="string"||typeof q=="string"&&y(q).length===0||+q!==+q>>>0||q>65535||q===0&&!we)throw new S(ye,q,we);return q|0}var be=b((q,ye)=>{if(q!==void 0&&(q===null||typeof q!="object"||!("aborted"in q)))throw new d(ye,"AbortSignal",q)}),se=b((q,ye)=>{if(typeof q!="function")throw new d(ye,"Function",q)}),M=b((q,ye)=>{if(typeof q!="function"||A(q))throw new d(ye,"Function",q)}),$=b((q,ye)=>{if(q!==void 0)throw new d(ye,"undefined",q)});function te(q,ye,we){if(!l(we,q))throw new d(ye,`('${u(we,"|")}')`,q)}var pe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function de(q,ye){if(typeof q>"u"||!g(pe,q))throw new w(ye,q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function me(q){if(typeof q=="string")return de(q,"hints"),q;if(o(q)){let ye=q.length,we="";if(ye===0)return we;for(let le=0;le<ye;le++){let Te=q[le];de(Te,"hints"),we+=Te,le!==ye-1&&(we+=", ")}return we}throw new w("hints",q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s.exports={isInt32:P,isUint32:B,parseFileMode:L,validateArray:Z,validateStringArray:ve,validateBooleanArray:K,validateAbortSignalArray:N,validateBoolean:ee,validateBuffer:z,validateDictionary:oe,validateEncoding:G,validateFunction:se,validateInt32:ae,validateInteger:U,validateNumber:re,validateObject:Y,validateOneOf:F,validatePlainFunction:M,validatePort:J,validateSignalName:ne,validateString:V,validateUint32:Q,validateUndefined:$,validateUnion:te,validateAbortSignal:be,validateLinkHeaderValue:me}}),Nt=ge((a,s)=>{ue(),fe(),ce();var o=s.exports={},l,u;function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=e}catch{l=e}try{typeof clearTimeout=="function"?u=clearTimeout:u=r}catch{u=r}})();function t(S){if(l===setTimeout)return setTimeout(S,0);if((l===e||!l)&&setTimeout)return l=setTimeout,setTimeout(S,0);try{return l(S,0)}catch{try{return l.call(null,S,0)}catch{return l.call(this,S,0)}}}function n(S){if(u===clearTimeout)return clearTimeout(S);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(S);try{return u(S)}catch{try{return u.call(null,S)}catch{return u.call(this,S)}}}var i=[],c=!1,p,g=-1;function m(){!c||!p||(c=!1,p.length?i=p.concat(i):g=-1,i.length&&h())}function h(){if(!c){var S=t(m);c=!0;for(var d=i.length;d;){for(p=i,i=[];++g<d;)p&&p[g].run();g=-1,d=i.length}p=null,c=!1,n(S)}}o.nextTick=function(S){var d=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)d[w-1]=arguments[w];i.push(new y(S,d)),i.length===1&&!c&&t(h)};function y(S,d){this.fun=S,this.array=d}y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function b(){}o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(S){return[]},o.binding=function(S){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(S){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}),gt=ge((a,s)=>{ue(),fe(),ce();var{SymbolAsyncIterator:o,SymbolIterator:l,SymbolFor:u}=Me(),e=u("nodejs.stream.destroyed"),r=u("nodejs.stream.errored"),t=u("nodejs.stream.readable"),n=u("nodejs.stream.writable"),i=u("nodejs.stream.disturbed"),c=u("nodejs.webstream.isClosedPromise"),p=u("nodejs.webstream.controllerErrorFunction");function g(C,Y=!1){var oe;return!!(C&&typeof C.pipe=="function"&&typeof C.on=="function"&&(!Y||typeof C.pause=="function"&&typeof C.resume=="function")&&(!C._writableState||((oe=C._readableState)===null||oe===void 0?void 0:oe.readable)!==!1)&&(!C._writableState||C._readableState))}function m(C){var Y;return!!(C&&typeof C.write=="function"&&typeof C.on=="function"&&(!C._readableState||((Y=C._writableState)===null||Y===void 0?void 0:Y.writable)!==!1))}function h(C){return!!(C&&typeof C.pipe=="function"&&C._readableState&&typeof C.on=="function"&&typeof C.write=="function")}function y(C){return C&&(C._readableState||C._writableState||typeof C.write=="function"&&typeof C.on=="function"||typeof C.pipe=="function"&&typeof C.on=="function")}function b(C){return!!(C&&!y(C)&&typeof C.pipeThrough=="function"&&typeof C.getReader=="function"&&typeof C.cancel=="function")}function S(C){return!!(C&&!y(C)&&typeof C.getWriter=="function"&&typeof C.abort=="function")}function d(C){return!!(C&&!y(C)&&typeof C.readable=="object"&&typeof C.writable=="object")}function w(C){return b(C)||S(C)||d(C)}function E(C,Y){return C==null?!1:Y===!0?typeof C[o]=="function":Y===!1?typeof C[l]=="function":typeof C[o]=="function"||typeof C[l]=="function"}function v(C){if(!y(C))return null;let Y=C._writableState,oe=C._readableState,Z=Y||oe;return!!(C.destroyed||C[e]||Z!=null&&Z.destroyed)}function I(C){if(!m(C))return null;if(C.writableEnded===!0)return!0;let Y=C._writableState;return Y!=null&&Y.errored?!1:typeof Y?.ended!="boolean"?null:Y.ended}function A(C,Y){if(!m(C))return null;if(C.writableFinished===!0)return!0;let oe=C._writableState;return oe!=null&&oe.errored?!1:typeof oe?.finished!="boolean"?null:!!(oe.finished||Y===!1&&oe.ended===!0&&oe.length===0)}function k(C){if(!g(C))return null;if(C.readableEnded===!0)return!0;let Y=C._readableState;return!Y||Y.errored?!1:typeof Y?.ended!="boolean"?null:Y.ended}function R(C,Y){if(!g(C))return null;let oe=C._readableState;return oe!=null&&oe.errored?!1:typeof oe?.endEmitted!="boolean"?null:!!(oe.endEmitted||Y===!1&&oe.ended===!0&&oe.length===0)}function P(C){return C&&C[t]!=null?C[t]:typeof C?.readable!="boolean"?null:v(C)?!1:g(C)&&C.readable&&!R(C)}function B(C){return C&&C[n]!=null?C[n]:typeof C?.writable!="boolean"?null:v(C)?!1:m(C)&&C.writable&&!I(C)}function T(C,Y){return y(C)?v(C)?!0:!(Y?.readable!==!1&&P(C)||Y?.writable!==!1&&B(C)):null}function W(C){var Y,oe;return y(C)?C.writableErrored?C.writableErrored:(Y=(oe=C._writableState)===null||oe===void 0?void 0:oe.errored)!==null&&Y!==void 0?Y:null:null}function L(C){var Y,oe;return y(C)?C.readableErrored?C.readableErrored:(Y=(oe=C._readableState)===null||oe===void 0?void 0:oe.errored)!==null&&Y!==void 0?Y:null:null}function U(C){if(!y(C))return null;if(typeof C.closed=="boolean")return C.closed;let Y=C._writableState,oe=C._readableState;return typeof Y?.closed=="boolean"||typeof oe?.closed=="boolean"?Y?.closed||oe?.closed:typeof C._closed=="boolean"&&ae(C)?C._closed:null}function ae(C){return typeof C._closed=="boolean"&&typeof C._defaultKeepAlive=="boolean"&&typeof C._removedConnection=="boolean"&&typeof C._removedContLen=="boolean"}function Q(C){return typeof C._sent100=="boolean"&&ae(C)}function V(C){var Y;return typeof C._consuming=="boolean"&&typeof C._dumped=="boolean"&&((Y=C.req)===null||Y===void 0?void 0:Y.upgradeOrConnect)===void 0}function re(C){if(!y(C))return null;let Y=C._writableState,oe=C._readableState,Z=Y||oe;return!Z&&Q(C)||!!(Z&&Z.autoDestroy&&Z.emitClose&&Z.closed===!1)}function F(C){var Y;return!!(C&&((Y=C[i])!==null&&Y!==void 0?Y:C.readableDidRead||C.readableAborted))}function ee(C){var Y,oe,Z,ve,K,N,ne,z,G,J;return!!(C&&((Y=(oe=(Z=(ve=(K=(N=C[r])!==null&&N!==void 0?N:C.readableErrored)!==null&&K!==void 0?K:C.writableErrored)!==null&&ve!==void 0?ve:(ne=C._readableState)===null||ne===void 0?void 0:ne.errorEmitted)!==null&&Z!==void 0?Z:(z=C._writableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&oe!==void 0?oe:(G=C._readableState)===null||G===void 0?void 0:G.errored)!==null&&Y!==void 0?Y:!((J=C._writableState)===null||J===void 0)&&J.errored))}s.exports={isDestroyed:v,kIsDestroyed:e,isDisturbed:F,kIsDisturbed:i,isErrored:ee,kIsErrored:r,isReadable:P,kIsReadable:t,kIsClosedPromise:c,kControllerErrorFunction:p,kIsWritable:n,isClosed:U,isDuplexNodeStream:h,isFinished:T,isIterable:E,isReadableNodeStream:g,isReadableStream:b,isReadableEnded:k,isReadableFinished:R,isReadableErrored:L,isNodeStream:y,isWebStream:w,isWritable:B,isWritableNodeStream:m,isWritableStream:S,isWritableEnded:I,isWritableFinished:A,isWritableErrored:W,isServerRequest:V,isServerResponse:Q,willEmitClose:re,isTransformStream:d}}),xt=ge((a,s)=>{ue(),fe(),ce();var o=Nt(),{AbortError:l,codes:u}=He(),{ERR_INVALID_ARG_TYPE:e,ERR_STREAM_PREMATURE_CLOSE:r}=u,{kEmptyObject:t,once:n}=Ke(),{validateAbortSignal:i,validateFunction:c,validateObject:p,validateBoolean:g}=ur(),{Promise:m,PromisePrototypeThen:h,SymbolDispose:y}=Me(),{isClosed:b,isReadable:S,isReadableNodeStream:d,isReadableStream:w,isReadableFinished:E,isReadableErrored:v,isWritable:I,isWritableNodeStream:A,isWritableStream:k,isWritableFinished:R,isWritableErrored:P,isNodeStream:B,willEmitClose:T,kIsClosedPromise:W}=gt(),L;function U(F){return F.setHeader&&typeof F.abort=="function"}var ae=()=>{};function Q(F,ee,C){var Y,oe;if(arguments.length===2?(C=ee,ee=t):ee==null?ee=t:p(ee,"options"),c(C,"callback"),i(ee.signal,"options.signal"),C=n(C),w(F)||k(F))return V(F,ee,C);if(!B(F))throw new e("stream",["ReadableStream","WritableStream","Stream"],F);let Z=(Y=ee.readable)!==null&&Y!==void 0?Y:d(F),ve=(oe=ee.writable)!==null&&oe!==void 0?oe:A(F),K=F._writableState,N=F._readableState,ne=()=>{F.writable||J()},z=T(F)&&d(F)===Z&&A(F)===ve,G=R(F,!1),J=()=>{G=!0,F.destroyed&&(z=!1),!(z&&(!F.readable||Z))&&(!Z||be)&&C.call(F)},be=E(F,!1),se=()=>{be=!0,F.destroyed&&(z=!1),!(z&&(!F.writable||ve))&&(!ve||G)&&C.call(F)},M=q=>{C.call(F,q)},$=b(F),te=()=>{$=!0;let q=P(F)||v(F);if(q&&typeof q!="boolean")return C.call(F,q);if(Z&&!be&&d(F,!0)&&!E(F,!1))return C.call(F,new r);if(ve&&!G&&!R(F,!1))return C.call(F,new r);C.call(F)},pe=()=>{$=!0;let q=P(F)||v(F);if(q&&typeof q!="boolean")return C.call(F,q);C.call(F)},de=()=>{F.req.on("finish",J)};U(F)?(F.on("complete",J),z||F.on("abort",te),F.req?de():F.on("request",de)):ve&&!K&&(F.on("end",ne),F.on("close",ne)),!z&&typeof F.aborted=="boolean"&&F.on("aborted",te),F.on("end",se),F.on("finish",J),ee.error!==!1&&F.on("error",M),F.on("close",te),$?o.nextTick(te):K!=null&&K.errorEmitted||N!=null&&N.errorEmitted?z||o.nextTick(pe):(!Z&&(!z||S(F))&&(G||I(F)===!1)||!ve&&(!z||I(F))&&(be||S(F)===!1)||N&&F.req&&F.aborted)&&o.nextTick(pe);let me=()=>{C=ae,F.removeListener("aborted",te),F.removeListener("complete",J),F.removeListener("abort",te),F.removeListener("request",de),F.req&&F.req.removeListener("finish",J),F.removeListener("end",ne),F.removeListener("close",ne),F.removeListener("finish",J),F.removeListener("end",se),F.removeListener("error",M),F.removeListener("close",te)};if(ee.signal&&!$){let q=()=>{let ye=C;me(),ye.call(F,new l(void 0,{cause:ee.signal.reason}))};if(ee.signal.aborted)o.nextTick(q);else{L=L||Ke().addAbortListener;let ye=L(ee.signal,q),we=C;C=n((...le)=>{ye[y](),we.apply(F,le)})}}return me}function V(F,ee,C){let Y=!1,oe=ae;if(ee.signal)if(oe=()=>{Y=!0,C.call(F,new l(void 0,{cause:ee.signal.reason}))},ee.signal.aborted)o.nextTick(oe);else{L=L||Ke().addAbortListener;let ve=L(ee.signal,oe),K=C;C=n((...N)=>{ve[y](),K.apply(F,N)})}let Z=(...ve)=>{Y||o.nextTick(()=>C.apply(F,ve))};return h(F[W].promise,Z,Z),ae}function re(F,ee){var C;let Y=!1;return ee===null&&(ee=t),(C=ee)!==null&&C!==void 0&&C.cleanup&&(g(ee.cleanup,"cleanup"),Y=ee.cleanup),new m((oe,Z)=>{let ve=Q(F,ee,K=>{Y&&ve(),K?Z(K):oe()})})}s.exports=Q,s.exports.finished=re}),Vt=ge((a,s)=>{ue(),fe(),ce();var o=Nt(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:e}=He(),{Symbol:r}=Me(),{kIsDestroyed:t,isDestroyed:n,isFinished:i,isServerRequest:c}=gt(),p=r("kDestroy"),g=r("kConstruct");function m(T,W,L){T&&(T.stack,W&&!W.errored&&(W.errored=T),L&&!L.errored&&(L.errored=T))}function h(T,W){let L=this._readableState,U=this._writableState,ae=U||L;return U!=null&&U.destroyed||L!=null&&L.destroyed?(typeof W=="function"&&W(),this):(m(T,U,L),U&&(U.destroyed=!0),L&&(L.destroyed=!0),ae.constructed?y(this,T,W):this.once(p,function(Q){y(this,l(Q,T),W)}),this)}function y(T,W,L){let U=!1;function ae(Q){if(U)return;U=!0;let V=T._readableState,re=T._writableState;m(Q,re,V),re&&(re.closed=!0),V&&(V.closed=!0),typeof L=="function"&&L(Q),Q?o.nextTick(b,T,Q):o.nextTick(S,T)}try{T._destroy(W||null,ae)}catch(Q){ae(Q)}}function b(T,W){d(T,W),S(T)}function S(T){let W=T._readableState,L=T._writableState;L&&(L.closeEmitted=!0),W&&(W.closeEmitted=!0),(L!=null&&L.emitClose||W!=null&&W.emitClose)&&T.emit("close")}function d(T,W){let L=T._readableState,U=T._writableState;U!=null&&U.errorEmitted||L!=null&&L.errorEmitted||(U&&(U.errorEmitted=!0),L&&(L.errorEmitted=!0),T.emit("error",W))}function w(){let T=this._readableState,W=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),W&&(W.constructed=!0,W.destroyed=!1,W.closed=!1,W.closeEmitted=!1,W.errored=null,W.errorEmitted=!1,W.finalCalled=!1,W.prefinished=!1,W.ended=W.writable===!1,W.ending=W.writable===!1,W.finished=W.writable===!1)}function E(T,W,L){let U=T._readableState,ae=T._writableState;if(ae!=null&&ae.destroyed||U!=null&&U.destroyed)return this;U!=null&&U.autoDestroy||ae!=null&&ae.autoDestroy?T.destroy(W):W&&(W.stack,ae&&!ae.errored&&(ae.errored=W),U&&!U.errored&&(U.errored=W),L?o.nextTick(d,T,W):d(T,W))}function v(T,W){if(typeof T._construct!="function")return;let L=T._readableState,U=T._writableState;L&&(L.constructed=!1),U&&(U.constructed=!1),T.once(g,W),!(T.listenerCount(g)>1)&&o.nextTick(I,T)}function I(T){let W=!1;function L(U){if(W){E(T,U??new u);return}W=!0;let ae=T._readableState,Q=T._writableState,V=Q||ae;ae&&(ae.constructed=!0),Q&&(Q.constructed=!0),V.destroyed?T.emit(p,U):U?E(T,U,!0):o.nextTick(A,T)}try{T._construct(U=>{o.nextTick(L,U)})}catch(U){o.nextTick(L,U)}}function A(T){T.emit(g)}function k(T){return T?.setHeader&&typeof T.abort=="function"}function R(T){T.emit("close")}function P(T,W){T.emit("error",W),o.nextTick(R,T)}function B(T,W){!T||n(T)||(!W&&!i(T)&&(W=new e),c(T)?(T.socket=null,T.destroy(W)):k(T)?T.abort():k(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy(W):typeof T.close=="function"?T.close():W?o.nextTick(P,T,W):o.nextTick(R,T),T.destroyed||(T[t]=!0))}s.exports={construct:v,destroyer:B,destroy:h,undestroy:w,errorOrDestroy:E}}),co=ge((a,s)=>{ue(),fe(),ce();var{ArrayIsArray:o,ObjectSetPrototypeOf:l}=Me(),{EventEmitter:u}=(jt(),Pe(It));function e(t){u.call(this,t)}l(e.prototype,u.prototype),l(e,u),e.prototype.pipe=function(t,n){let i=this;function c(S){t.writable&&t.write(S)===!1&&i.pause&&i.pause()}i.on("data",c);function p(){i.readable&&i.resume&&i.resume()}t.on("drain",p),!t._isStdio&&(!n||n.end!==!1)&&(i.on("end",m),i.on("close",h));let g=!1;function m(){g||(g=!0,t.end())}function h(){g||(g=!0,typeof t.destroy=="function"&&t.destroy())}function y(S){b(),u.listenerCount(this,"error")===0&&this.emit("error",S)}r(i,"error",y),r(t,"error",y);function b(){i.removeListener("data",c),t.removeListener("drain",p),i.removeListener("end",m),i.removeListener("close",h),i.removeListener("error",y),t.removeListener("error",y),i.removeListener("end",b),i.removeListener("close",b),t.removeListener("close",b)}return i.on("end",b),i.on("close",b),t.on("close",b),t.emit("pipe",i),t};function r(t,n,i){if(typeof t.prependListener=="function")return t.prependListener(n,i);!t._events||!t._events[n]?t.on(n,i):o(t._events[n])?t._events[n].unshift(i):t._events[n]=[i,t._events[n]]}s.exports={Stream:e,prependListener:r}}),Qr=ge((a,s)=>{ue(),fe(),ce();var{SymbolDispose:o}=Me(),{AbortError:l,codes:u}=He(),{isNodeStream:e,isWebStream:r,kControllerErrorFunction:t}=gt(),n=xt(),{ERR_INVALID_ARG_TYPE:i}=u,c,p=(g,m)=>{if(typeof g!="object"||!("aborted"in g))throw new i(m,"AbortSignal",g)};s.exports.addAbortSignal=function(g,m){if(p(g,"signal"),!e(m)&&!r(m))throw new i("stream",["ReadableStream","WritableStream","Stream"],m);return s.exports.addAbortSignalNoValidate(g,m)},s.exports.addAbortSignalNoValidate=function(g,m){if(typeof g!="object"||!("aborted"in g))return m;let h=e(m)?()=>{m.destroy(new l(void 0,{cause:g.reason}))}:()=>{m[t](new l(void 0,{cause:g.reason}))};if(g.aborted)h();else{c=c||Ke().addAbortListener;let y=c(g,h);n(m,y[o])}return m}}),Jl=ge((a,s)=>{ue(),fe(),ce();var{StringPrototypeSlice:o,SymbolIterator:l,TypedArrayPrototypeSet:u,Uint8Array:e}=Me(),{Buffer:r}=(Le(),Pe(Ue)),{inspect:t}=Ke();s.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(n){let i={data:n,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(n){let i={data:n,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}clear(){this.head=this.tail=null,this.length=0}join(n){if(this.length===0)return"";let i=this.head,c=""+i.data;for(;(i=i.next)!==null;)c+=n+i.data;return c}concat(n){if(this.length===0)return r.alloc(0);let i=r.allocUnsafe(n>>>0),c=this.head,p=0;for(;c;)u(i,c.data,p),p+=c.data.length,c=c.next;return i}consume(n,i){let c=this.head.data;if(n<c.length){let p=c.slice(0,n);return this.head.data=c.slice(n),p}return n===c.length?this.shift():i?this._getString(n):this._getBuffer(n)}first(){return this.head.data}*[l](){for(let n=this.head;n;n=n.next)yield n.data}_getString(n){let i="",c=this.head,p=0;do{let g=c.data;if(n>g.length)i+=g,n-=g.length;else{n===g.length?(i+=g,++p,c.next?this.head=c.next:this.head=this.tail=null):(i+=o(g,0,n),this.head=c,c.data=o(g,n));break}++p}while((c=c.next)!==null);return this.length-=p,i}_getBuffer(n){let i=r.allocUnsafe(n),c=n,p=this.head,g=0;do{let m=p.data;if(n>m.length)u(i,m,c-n),n-=m.length;else{n===m.length?(u(i,m,c-n),++g,p.next?this.head=p.next:this.head=this.tail=null):(u(i,new e(m.buffer,m.byteOffset,n),c-n),this.head=p,p.data=m.slice(n));break}++g}while((p=p.next)!==null);return this.length-=g,i}[Symbol.for("nodejs.util.inspect.custom")](n,i){return t(this,{...i,depth:0,customInspect:!1})}}}),Yr=ge((a,s)=>{ue(),fe(),ce();var{MathFloor:o,NumberIsInteger:l}=Me(),{validateInteger:u}=ur(),{ERR_INVALID_ARG_VALUE:e}=He().codes,r=16*1024,t=16;function n(g,m,h){return g.highWaterMark!=null?g.highWaterMark:m?g[h]:null}function i(g){return g?t:r}function c(g,m){u(m,"value",0),g?t=m:r=m}function p(g,m,h,y){let b=n(m,y,h);if(b!=null){if(!l(b)||b<0){let S=y?`options.${h}`:"options.highWaterMark";throw new e(S,b)}return o(b)}return i(g.objectMode)}s.exports={getHighWaterMark:p,getDefaultHighWaterMark:i,setDefaultHighWaterMark:c}}),Xl=ge((a,s)=>{ue(),fe(),ce();var o=(Le(),Pe(Ue)),l=o.Buffer;function u(r,t){for(var n in r)t[n]=r[n]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?s.exports=o:(u(o,a),a.Buffer=e);function e(r,t,n){return l(r,t,n)}e.prototype=Object.create(l.prototype),u(l,e),e.from=function(r,t,n){if(typeof r=="number")throw new TypeError("Argument must not be a number");return l(r,t,n)},e.alloc=function(r,t,n){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=l(r);return t!==void 0?typeof n=="string"?i.fill(t,n):i.fill(t):i.fill(0),i},e.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return l(r)},e.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(r)}}),Zl=ge(a=>{ue(),fe(),ce();var s=Xl().Buffer,o=s.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(d){if(!d)return"utf8";for(var w;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(w)return;d=(""+d).toLowerCase(),w=!0}}function u(d){var w=l(d);if(typeof w!="string"&&(s.isEncoding===o||!o(d)))throw new Error("Unknown encoding: "+d);return w||d}a.StringDecoder=e;function e(d){this.encoding=u(d);var w;switch(this.encoding){case"utf16le":this.text=g,this.end=m,w=4;break;case"utf8":this.fillLast=i,w=4;break;case"base64":this.text=h,this.end=y,w=3;break;default:this.write=b,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(w)}e.prototype.write=function(d){if(d.length===0)return"";var w,E;if(this.lastNeed){if(w=this.fillLast(d),w===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<d.length?w?w+this.text(d,E):this.text(d,E):w||""},e.prototype.end=p,e.prototype.text=c,e.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function r(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function t(d,w,E){var v=w.length-1;if(v<E)return 0;var I=r(w[v]);return I>=0?(I>0&&(d.lastNeed=I-1),I):--v<E||I===-2?0:(I=r(w[v]),I>=0?(I>0&&(d.lastNeed=I-2),I):--v<E||I===-2?0:(I=r(w[v]),I>=0?(I>0&&(I===2?I=0:d.lastNeed=I-3),I):0))}function n(d,w,E){if((w[0]&192)!==128)return d.lastNeed=0,"";if(d.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return d.lastNeed=1,"";if(d.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return d.lastNeed=2,""}}function i(d){var w=this.lastTotal-this.lastNeed,E=n(this,d);if(E!==void 0)return E;if(this.lastNeed<=d.length)return d.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,w,0,d.length),this.lastNeed-=d.length}function c(d,w){var E=t(this,d,w);if(!this.lastNeed)return d.toString("utf8",w);this.lastTotal=E;var v=d.length-(E-this.lastNeed);return d.copy(this.lastChar,0,v),d.toString("utf8",w,v)}function p(d){var w=d&&d.length?this.write(d):"";return this.lastNeed?w+"":w}function g(d,w){if((d.length-w)%2===0){var E=d.toString("utf16le",w);if(E){var v=E.charCodeAt(E.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",w,d.length-1)}function m(d){var w=d&&d.length?this.write(d):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,E)}return w}function h(d,w){var E=(d.length-w)%3;return E===0?d.toString("base64",w):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",w,d.length-E))}function y(d){var w=d&&d.length?this.write(d):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function b(d){return d.toString(this.encoding)}function S(d){return d&&d.length?this.write(d):""}}),ha=ge((a,s)=>{ue(),fe(),ce();var o=Nt(),{PromisePrototypeThen:l,SymbolAsyncIterator:u,SymbolIterator:e}=Me(),{Buffer:r}=(Le(),Pe(Ue)),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_NULL_VALUES:n}=He().codes;function i(c,p,g){let m;if(typeof p=="string"||p instanceof r)return new c({objectMode:!0,...g,read(){this.push(p),this.push(null)}});let h;if(p&&p[u])h=!0,m=p[u]();else if(p&&p[e])h=!1,m=p[e]();else throw new t("iterable",["Iterable"],p);let y=new c({objectMode:!0,highWaterMark:1,...g}),b=!1;y._read=function(){b||(b=!0,d())},y._destroy=function(w,E){l(S(w),()=>o.nextTick(E,w),v=>o.nextTick(E,v||w))};async function S(w){let E=w!=null,v=typeof m.throw=="function";if(E&&v){let{value:I,done:A}=await m.throw(w);if(await I,A)return}if(typeof m.return=="function"){let{value:I}=await m.return();await I}}async function d(){for(;;){try{let{value:w,done:E}=h?await m.next():m.next();if(E)y.push(null);else{let v=w&&typeof w.then=="function"?await w:w;if(v===null)throw b=!1,new n;if(y.push(v))continue;b=!1}}catch(w){y.destroy(w)}break}}return y}s.exports=i}),Jr=ge((a,s)=>{ue(),fe(),ce();var o=Nt(),{ArrayPrototypeIndexOf:l,NumberIsInteger:u,NumberIsNaN:e,NumberParseInt:r,ObjectDefineProperties:t,ObjectKeys:n,ObjectSetPrototypeOf:i,Promise:c,SafeSet:p,SymbolAsyncDispose:g,SymbolAsyncIterator:m,Symbol:h}=Me();s.exports=le,le.ReadableState=we;var{EventEmitter:y}=(jt(),Pe(It)),{Stream:b,prependListener:S}=co(),{Buffer:d}=(Le(),Pe(Ue)),{addAbortSignal:w}=Qr(),E=xt(),v=Ke().debuglog("stream",O=>{v=O}),I=Jl(),A=Vt(),{getHighWaterMark:k,getDefaultHighWaterMark:R}=Yr(),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:W,ERR_STREAM_PUSH_AFTER_EOF:L,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:U},AbortError:ae}=He(),{validateObject:Q}=ur(),V=h("kPaused"),{StringDecoder:re}=Zl(),F=ha();i(le.prototype,b.prototype),i(le,b);var ee=()=>{},{errorOrDestroy:C}=A,Y=1,oe=2,Z=4,ve=8,K=16,N=32,ne=64,z=128,G=256,J=512,be=1024,se=2048,M=4096,$=8192,te=16384,pe=32768,de=65536,me=1<<17,q=1<<18;function ye(O){return{enumerable:!1,get(){return(this.state&O)!==0},set(j){j?this.state|=O:this.state&=~O}}}t(we.prototype,{objectMode:ye(Y),ended:ye(oe),endEmitted:ye(Z),reading:ye(ve),constructed:ye(K),sync:ye(N),needReadable:ye(ne),emittedReadable:ye(z),readableListening:ye(G),resumeScheduled:ye(J),errorEmitted:ye(be),emitClose:ye(se),autoDestroy:ye(M),destroyed:ye($),closed:ye(te),closeEmitted:ye(pe),multiAwaitDrain:ye(de),readingMore:ye(me),dataEmitted:ye(q)});function we(O,j,_e){typeof _e!="boolean"&&(_e=j instanceof pt()),this.state=se|M|K|N,O&&O.objectMode&&(this.state|=Y),_e&&O&&O.readableObjectMode&&(this.state|=Y),this.highWaterMark=O?k(this,O,"readableHighWaterMark",_e):R(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[V]=null,O&&O.emitClose===!1&&(this.state&=~se),O&&O.autoDestroy===!1&&(this.state&=~M),this.errored=null,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,O&&O.encoding&&(this.decoder=new re(O.encoding),this.encoding=O.encoding)}function le(O){if(!(this instanceof le))return new le(O);let j=this instanceof pt();this._readableState=new we(O,this,j),O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&!j&&w(O.signal,this)),b.call(this,O),A.construct(this,()=>{this._readableState.needReadable&&H(this,this._readableState)})}le.prototype.destroy=A.destroy,le.prototype._undestroy=A.undestroy,le.prototype._destroy=function(O,j){j(O)},le.prototype[y.captureRejectionSymbol]=function(O){this.destroy(O)},le.prototype[g]=function(){let O;return this.destroyed||(O=this.readableEnded?null:new ae,this.destroy(O)),new c((j,_e)=>E(this,Ee=>Ee&&Ee!==O?_e(Ee):j(null)))},le.prototype.push=function(O,j){return Te(this,O,j,!1)},le.prototype.unshift=function(O,j){return Te(this,O,j,!0)};function Te(O,j,_e,Ee){v("readableAddChunk",j);let Ae=O._readableState,Ne;if((Ae.state&Y)===0&&(typeof j=="string"?(_e=_e||Ae.defaultEncoding,Ae.encoding!==_e&&(Ee&&Ae.encoding?j=d.from(j,_e).toString(Ae.encoding):(j=d.from(j,_e),_e=""))):j instanceof d?_e="":b._isUint8Array(j)?(j=b._uint8ArrayToBuffer(j),_e=""):j!=null&&(Ne=new B("chunk",["string","Buffer","Uint8Array"],j))),Ne)C(O,Ne);else if(j===null)Ae.state&=~ve,X(O,Ae);else if((Ae.state&Y)!==0||j&&j.length>0)if(Ee)if((Ae.state&Z)!==0)C(O,new U);else{if(Ae.destroyed||Ae.errored)return!1;f(O,Ae,j,!0)}else if(Ae.ended)C(O,new L);else{if(Ae.destroyed||Ae.errored)return!1;Ae.state&=~ve,Ae.decoder&&!_e?(j=Ae.decoder.write(j),Ae.objectMode||j.length!==0?f(O,Ae,j,!1):H(O,Ae)):f(O,Ae,j,!1)}else Ee||(Ae.state&=~ve,H(O,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.length===0)}function f(O,j,_e,Ee){j.flowing&&j.length===0&&!j.sync&&O.listenerCount("data")>0?((j.state&de)!==0?j.awaitDrainWriters.clear():j.awaitDrainWriters=null,j.dataEmitted=!0,O.emit("data",_e)):(j.length+=j.objectMode?1:_e.length,Ee?j.buffer.unshift(_e):j.buffer.push(_e),(j.state&ne)!==0&&he(O)),H(O,j)}le.prototype.isPaused=function(){let O=this._readableState;return O[V]===!0||O.flowing===!1},le.prototype.setEncoding=function(O){let j=new re(O);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;let _e=this._readableState.buffer,Ee="";for(let Ae of _e)Ee+=j.write(Ae);return _e.clear(),Ee!==""&&_e.push(Ee),this._readableState.length=Ee.length,this};var _=1073741824;function x(O){if(O>_)throw new W("size","<= 1GiB",O);return O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++,O}function D(O,j){return O<=0||j.length===0&&j.ended?0:(j.state&Y)!==0?1:e(O)?j.flowing&&j.length?j.buffer.first().length:j.length:O<=j.length?O:j.ended?j.length:0}le.prototype.read=function(O){v("read",O),O===void 0?O=NaN:u(O)||(O=r(O,10));let j=this._readableState,_e=O;if(O>j.highWaterMark&&(j.highWaterMark=x(O)),O!==0&&(j.state&=~z),O===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return v("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?et(this):he(this),null;if(O=D(O,j),O===0&&j.ended)return j.length===0&&et(this),null;let Ee=(j.state&ne)!==0;if(v("need readable",Ee),(j.length===0||j.length-O<j.highWaterMark)&&(Ee=!0,v("length less than watermark",Ee)),j.ended||j.reading||j.destroyed||j.errored||!j.constructed)Ee=!1,v("reading, ended or constructing",Ee);else if(Ee){v("do read"),j.state|=ve|N,j.length===0&&(j.state|=ne);try{this._read(j.highWaterMark)}catch(Ne){C(this,Ne)}j.state&=~N,j.reading||(O=D(_e,j))}let Ae;return O>0?Ae=Ut(O,j):Ae=null,Ae===null?(j.needReadable=j.length<=j.highWaterMark,O=0):(j.length-=O,j.multiAwaitDrain?j.awaitDrainWriters.clear():j.awaitDrainWriters=null),j.length===0&&(j.ended||(j.needReadable=!0),_e!==O&&j.ended&&et(this)),Ae!==null&&!j.errorEmitted&&!j.closeEmitted&&(j.dataEmitted=!0,this.emit("data",Ae)),Ae};function X(O,j){if(v("onEofChunk"),!j.ended){if(j.decoder){let _e=j.decoder.end();_e&&_e.length&&(j.buffer.push(_e),j.length+=j.objectMode?1:_e.length)}j.ended=!0,j.sync?he(O):(j.needReadable=!1,j.emittedReadable=!0,Se(O))}}function he(O){let j=O._readableState;v("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(v("emitReadable",j.flowing),j.emittedReadable=!0,o.nextTick(Se,O))}function Se(O){let j=O._readableState;v("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&!j.errored&&(j.length||j.ended)&&(O.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Xe(O)}function H(O,j){!j.readingMore&&j.constructed&&(j.readingMore=!0,o.nextTick(ie,O,j))}function ie(O,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){let _e=j.length;if(v("maybeReadMore read 0"),O.read(0),_e===j.length)break}j.readingMore=!1}le.prototype._read=function(O){throw new T("_read()")},le.prototype.pipe=function(O,j){let _e=this,Ee=this._readableState;Ee.pipes.length===1&&(Ee.multiAwaitDrain||(Ee.multiAwaitDrain=!0,Ee.awaitDrainWriters=new p(Ee.awaitDrainWriters?[Ee.awaitDrainWriters]:[]))),Ee.pipes.push(O),v("pipe count=%d opts=%j",Ee.pipes.length,j);let Ae=(!j||j.end!==!1)&&O!==o.stdout&&O!==o.stderr?Ve:Tt;Ee.endEmitted?o.nextTick(Ae):_e.once("end",Ae),O.on("unpipe",Ne);function Ne(rt,at){v("onunpipe"),rt===_e&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,Qt())}function Ve(){v("onend"),O.end()}let Ye,Gt=!1;function Qt(){v("cleanup"),O.removeListener("close",tt),O.removeListener("finish",mt),Ye&&O.removeListener("drain",Ye),O.removeListener("error",kt),O.removeListener("unpipe",Ne),_e.removeListener("end",Ve),_e.removeListener("end",Tt),_e.removeListener("data",hr),Gt=!0,Ye&&Ee.awaitDrainWriters&&(!O._writableState||O._writableState.needDrain)&&Ye()}function Yt(){Gt||(Ee.pipes.length===1&&Ee.pipes[0]===O?(v("false write response, pause",0),Ee.awaitDrainWriters=O,Ee.multiAwaitDrain=!1):Ee.pipes.length>1&&Ee.pipes.includes(O)&&(v("false write response, pause",Ee.awaitDrainWriters.size),Ee.awaitDrainWriters.add(O)),_e.pause()),Ye||(Ye=Ie(_e,O),O.on("drain",Ye))}_e.on("data",hr);function hr(rt){v("ondata");let at=O.write(rt);v("dest.write",at),at===!1&&Yt()}function kt(rt){if(v("onerror",rt),Tt(),O.removeListener("error",kt),O.listenerCount("error")===0){let at=O._writableState||O._readableState;at&&!at.errorEmitted?C(O,rt):O.emit("error",rt)}}S(O,"error",kt);function tt(){O.removeListener("finish",mt),Tt()}O.once("close",tt);function mt(){v("onfinish"),O.removeListener("close",tt),Tt()}O.once("finish",mt);function Tt(){v("unpipe"),_e.unpipe(O)}return O.emit("pipe",_e),O.writableNeedDrain===!0?Yt():Ee.flowing||(v("pipe resume"),_e.resume()),O};function Ie(O,j){return function(){let _e=O._readableState;_e.awaitDrainWriters===j?(v("pipeOnDrain",1),_e.awaitDrainWriters=null):_e.multiAwaitDrain&&(v("pipeOnDrain",_e.awaitDrainWriters.size),_e.awaitDrainWriters.delete(j)),(!_e.awaitDrainWriters||_e.awaitDrainWriters.size===0)&&O.listenerCount("data")&&O.resume()}}le.prototype.unpipe=function(O){let j=this._readableState,_e={hasUnpiped:!1};if(j.pipes.length===0)return this;if(!O){let Ae=j.pipes;j.pipes=[],this.pause();for(let Ne=0;Ne<Ae.length;Ne++)Ae[Ne].emit("unpipe",this,{hasUnpiped:!1});return this}let Ee=l(j.pipes,O);return Ee===-1?this:(j.pipes.splice(Ee,1),j.pipes.length===0&&this.pause(),O.emit("unpipe",this,_e),this)},le.prototype.on=function(O,j){let _e=b.prototype.on.call(this,O,j),Ee=this._readableState;return O==="data"?(Ee.readableListening=this.listenerCount("readable")>0,Ee.flowing!==!1&&this.resume()):O==="readable"&&!Ee.endEmitted&&!Ee.readableListening&&(Ee.readableListening=Ee.needReadable=!0,Ee.flowing=!1,Ee.emittedReadable=!1,v("on readable",Ee.length,Ee.reading),Ee.length?he(this):Ee.reading||o.nextTick(ke,this)),_e},le.prototype.addListener=le.prototype.on,le.prototype.removeListener=function(O,j){let _e=b.prototype.removeListener.call(this,O,j);return O==="readable"&&o.nextTick(xe,this),_e},le.prototype.off=le.prototype.removeListener,le.prototype.removeAllListeners=function(O){let j=b.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&o.nextTick(xe,this),j};function xe(O){let j=O._readableState;j.readableListening=O.listenerCount("readable")>0,j.resumeScheduled&&j[V]===!1?j.flowing=!0:O.listenerCount("data")>0?O.resume():j.readableListening||(j.flowing=null)}function ke(O){v("readable nexttick read 0"),O.read(0)}le.prototype.resume=function(){let O=this._readableState;return O.flowing||(v("resume"),O.flowing=!O.readableListening,Oe(this,O)),O[V]=!1,this};function Oe(O,j){j.resumeScheduled||(j.resumeScheduled=!0,o.nextTick(Je,O,j))}function Je(O,j){v("resume",j.reading),j.reading||O.read(0),j.resumeScheduled=!1,O.emit("resume"),Xe(O),j.flowing&&!j.reading&&O.read(0)}le.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[V]=!0,this};function Xe(O){let j=O._readableState;for(v("flow",j.flowing);j.flowing&&O.read()!==null;);}le.prototype.wrap=function(O){let j=!1;O.on("data",Ee=>{!this.push(Ee)&&O.pause&&(j=!0,O.pause())}),O.on("end",()=>{this.push(null)}),O.on("error",Ee=>{C(this,Ee)}),O.on("close",()=>{this.destroy()}),O.on("destroy",()=>{this.destroy()}),this._read=()=>{j&&O.resume&&(j=!1,O.resume())};let _e=n(O);for(let Ee=1;Ee<_e.length;Ee++){let Ae=_e[Ee];this[Ae]===void 0&&typeof O[Ae]=="function"&&(this[Ae]=O[Ae].bind(O))}return this},le.prototype[m]=function(){return De(this)},le.prototype.iterator=function(O){return O!==void 0&&Q(O,"options"),De(this,O)};function De(O,j){typeof O.read!="function"&&(O=le.wrap(O,{objectMode:!0}));let _e=Ze(O,j);return _e.stream=O,_e}async function*Ze(O,j){let _e=ee;function Ee(Ve){this===O?(_e(),_e=ee):_e=Ve}O.on("readable",Ee);let Ae,Ne=E(O,{writable:!1},Ve=>{Ae=Ve?P(Ae,Ve):null,_e(),_e=ee});try{for(;;){let Ve=O.destroyed?null:O.read();if(Ve!==null)yield Ve;else{if(Ae)throw Ae;if(Ae===null)return;await new c(Ee)}}}catch(Ve){throw Ae=P(Ae,Ve),Ae}finally{(Ae||j?.destroyOnReturn!==!1)&&(Ae===void 0||O._readableState.autoDestroy)?A.destroyer(O,null):(O.off("readable",Ee),Ne())}}t(le.prototype,{readable:{__proto__:null,get(){let O=this._readableState;return!!O&&O.readable!==!1&&!O.destroyed&&!O.errorEmitted&&!O.endEmitted},set(O){this._readableState&&(this._readableState.readable=!!O)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(O){this._readableState&&(this._readableState.destroyed=O)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),t(we.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[V]!==!1},set(O){this[V]=!!O}}}),le._fromList=Ut;function Ut(O,j){if(j.length===0)return null;let _e;return j.objectMode?_e=j.buffer.shift():!O||O>=j.length?(j.decoder?_e=j.buffer.join(""):j.buffer.length===1?_e=j.buffer.first():_e=j.buffer.concat(j.length),j.buffer.clear()):_e=j.buffer.consume(O,j.decoder),_e}function et(O){let j=O._readableState;v("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,o.nextTick(Qe,j,O))}function Qe(O,j){if(v("endReadableNT",O.endEmitted,O.length),!O.errored&&!O.closeEmitted&&!O.endEmitted&&O.length===0){if(O.endEmitted=!0,j.emit("end"),j.writable&&j.allowHalfOpen===!1)o.nextTick(fr,j);else if(O.autoDestroy){let _e=j._writableState;(!_e||_e.autoDestroy&&(_e.finished||_e.writable===!1))&&j.destroy()}}}function fr(O){O.writable&&!O.writableEnded&&!O.destroyed&&O.end()}le.from=function(O,j){return F(le,O,j)};var Lt;function Kt(){return Lt===void 0&&(Lt={}),Lt}le.fromWeb=function(O,j){return Kt().newStreamReadableFromReadableStream(O,j)},le.toWeb=function(O,j){return Kt().newReadableStreamFromStreamReadable(O,j)},le.wrap=function(O,j){var _e,Ee;return new le({objectMode:(_e=(Ee=O.readableObjectMode)!==null&&Ee!==void 0?Ee:O.objectMode)!==null&&_e!==void 0?_e:!0,...j,destroy(Ae,Ne){A.destroyer(O,Ae),Ne(Ae)}}).wrap(O)}}),fo=ge((a,s)=>{ue(),fe(),ce();var o=Nt(),{ArrayPrototypeSlice:l,Error:u,FunctionPrototypeSymbolHasInstance:e,ObjectDefineProperty:r,ObjectDefineProperties:t,ObjectSetPrototypeOf:n,StringPrototypeToLowerCase:i,Symbol:c,SymbolHasInstance:p}=Me();s.exports=Q,Q.WritableState=U;var{EventEmitter:g}=(jt(),Pe(It)),m=co().Stream,{Buffer:h}=(Le(),Pe(Ue)),y=Vt(),{addAbortSignal:b}=Qr(),{getHighWaterMark:S,getDefaultHighWaterMark:d}=Yr(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:P,ERR_UNKNOWN_ENCODING:B}=He().codes,{errorOrDestroy:T}=y;n(Q.prototype,m.prototype),n(Q,m);function W(){}var L=c("kOnFinished");function U(M,$,te){typeof te!="boolean"&&(te=$ instanceof pt()),this.objectMode=!!(M&&M.objectMode),te&&(this.objectMode=this.objectMode||!!(M&&M.writableObjectMode)),this.highWaterMark=M?S(this,M,"writableHighWaterMark",te):d(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let pe=!!(M&&M.decodeStrings===!1);this.decodeStrings=!pe,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=C.bind(void 0,$),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ae(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!M||M.emitClose!==!1,this.autoDestroy=!M||M.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[L]=[]}function ae(M){M.buffered=[],M.bufferedIndex=0,M.allBuffers=!0,M.allNoop=!0}U.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},r(U.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Q(M){let $=this instanceof pt();if(!$&&!e(Q,this))return new Q(M);this._writableState=new U(M,this,$),M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final),typeof M.construct=="function"&&(this._construct=M.construct),M.signal&&b(M.signal,this)),m.call(this,M),y.construct(this,()=>{let te=this._writableState;te.writing||ve(this,te),z(this,te)})}r(Q,p,{__proto__:null,value:function(M){return e(this,M)?!0:this!==Q?!1:M&&M._writableState instanceof U}}),Q.prototype.pipe=function(){T(this,new I)};function V(M,$,te,pe){let de=M._writableState;if(typeof te=="function")pe=te,te=de.defaultEncoding;else{if(!te)te=de.defaultEncoding;else if(te!=="buffer"&&!h.isEncoding(te))throw new B(te);typeof pe!="function"&&(pe=W)}if($===null)throw new R;if(!de.objectMode)if(typeof $=="string")de.decodeStrings!==!1&&($=h.from($,te),te="buffer");else if($ instanceof h)te="buffer";else if(m._isUint8Array($))$=m._uint8ArrayToBuffer($),te="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],$);let me;return de.ending?me=new P:de.destroyed&&(me=new A("write")),me?(o.nextTick(pe,me),T(M,me,!0),me):(de.pendingcb++,re(M,de,$,te,pe))}Q.prototype.write=function(M,$,te){return V(this,M,$,te)===!0},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){let M=this._writableState;M.corked&&(M.corked--,M.writing||ve(this,M))},Q.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=i(M)),!h.isEncoding(M))throw new B(M);return this._writableState.defaultEncoding=M,this};function re(M,$,te,pe,de){let me=$.objectMode?1:te.length;$.length+=me;let q=$.length<$.highWaterMark;return q||($.needDrain=!0),$.writing||$.corked||$.errored||!$.constructed?($.buffered.push({chunk:te,encoding:pe,callback:de}),$.allBuffers&&pe!=="buffer"&&($.allBuffers=!1),$.allNoop&&de!==W&&($.allNoop=!1)):($.writelen=me,$.writecb=de,$.writing=!0,$.sync=!0,M._write(te,pe,$.onwrite),$.sync=!1),q&&!$.errored&&!$.destroyed}function F(M,$,te,pe,de,me,q){$.writelen=pe,$.writecb=q,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new A("write")):te?M._writev(de,$.onwrite):M._write(de,me,$.onwrite),$.sync=!1}function ee(M,$,te,pe){--$.pendingcb,pe(te),Z($),T(M,te)}function C(M,$){let te=M._writableState,pe=te.sync,de=te.writecb;if(typeof de!="function"){T(M,new v);return}te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0,$?($.stack,te.errored||(te.errored=$),M._readableState&&!M._readableState.errored&&(M._readableState.errored=$),pe?o.nextTick(ee,M,te,$,de):ee(M,te,$,de)):(te.buffered.length>te.bufferedIndex&&ve(M,te),pe?te.afterWriteTickInfo!==null&&te.afterWriteTickInfo.cb===de?te.afterWriteTickInfo.count++:(te.afterWriteTickInfo={count:1,cb:de,stream:M,state:te},o.nextTick(Y,te.afterWriteTickInfo)):oe(M,te,1,de))}function Y({stream:M,state:$,count:te,cb:pe}){return $.afterWriteTickInfo=null,oe(M,$,te,pe)}function oe(M,$,te,pe){for(!$.ending&&!M.destroyed&&$.length===0&&$.needDrain&&($.needDrain=!1,M.emit("drain"));te-- >0;)$.pendingcb--,pe();$.destroyed&&Z($),z(M,$)}function Z(M){if(M.writing)return;for(let de=M.bufferedIndex;de<M.buffered.length;++de){var $;let{chunk:me,callback:q}=M.buffered[de],ye=M.objectMode?1:me.length;M.length-=ye,q(($=M.errored)!==null&&$!==void 0?$:new A("write"))}let te=M[L].splice(0);for(let de=0;de<te.length;de++){var pe;te[de]((pe=M.errored)!==null&&pe!==void 0?pe:new A("end"))}ae(M)}function ve(M,$){if($.corked||$.bufferProcessing||$.destroyed||!$.constructed)return;let{buffered:te,bufferedIndex:pe,objectMode:de}=$,me=te.length-pe;if(!me)return;let q=pe;if($.bufferProcessing=!0,me>1&&M._writev){$.pendingcb-=me-1;let ye=$.allNoop?W:le=>{for(let Te=q;Te<te.length;++Te)te[Te].callback(le)},we=$.allNoop&&q===0?te:l(te,q);we.allBuffers=$.allBuffers,F(M,$,!0,$.length,we,"",ye),ae($)}else{do{let{chunk:ye,encoding:we,callback:le}=te[q];te[q++]=null;let Te=de?1:ye.length;F(M,$,!1,Te,ye,we,le)}while(q<te.length&&!$.writing);q===te.length?ae($):q>256?(te.splice(0,q),$.bufferedIndex=0):$.bufferedIndex=q}$.bufferProcessing=!1}Q.prototype._write=function(M,$,te){if(this._writev)this._writev([{chunk:M,encoding:$}],te);else throw new E("_write()")},Q.prototype._writev=null,Q.prototype.end=function(M,$,te){let pe=this._writableState;typeof M=="function"?(te=M,M=null,$=null):typeof $=="function"&&(te=$,$=null);let de;if(M!=null){let me=V(this,M,$);me instanceof u&&(de=me)}return pe.corked&&(pe.corked=1,this.uncork()),de||(!pe.errored&&!pe.ending?(pe.ending=!0,z(this,pe,!0),pe.ended=!0):pe.finished?de=new k("end"):pe.destroyed&&(de=new A("end"))),typeof te=="function"&&(de||pe.finished?o.nextTick(te,de):pe[L].push(te)),this};function K(M){return M.ending&&!M.destroyed&&M.constructed&&M.length===0&&!M.errored&&M.buffered.length===0&&!M.finished&&!M.writing&&!M.errorEmitted&&!M.closeEmitted}function N(M,$){let te=!1;function pe(de){if(te){T(M,de??v());return}if(te=!0,$.pendingcb--,de){let me=$[L].splice(0);for(let q=0;q<me.length;q++)me[q](de);T(M,de,$.sync)}else K($)&&($.prefinished=!0,M.emit("prefinish"),$.pendingcb++,o.nextTick(G,M,$))}$.sync=!0,$.pendingcb++;try{M._final(pe)}catch(de){pe(de)}$.sync=!1}function ne(M,$){!$.prefinished&&!$.finalCalled&&(typeof M._final=="function"&&!$.destroyed?($.finalCalled=!0,N(M,$)):($.prefinished=!0,M.emit("prefinish")))}function z(M,$,te){K($)&&(ne(M,$),$.pendingcb===0&&(te?($.pendingcb++,o.nextTick((pe,de)=>{K(de)?G(pe,de):de.pendingcb--},M,$)):K($)&&($.pendingcb++,G(M,$))))}function G(M,$){$.pendingcb--,$.finished=!0;let te=$[L].splice(0);for(let pe=0;pe<te.length;pe++)te[pe]();if(M.emit("finish"),$.autoDestroy){let pe=M._readableState;(!pe||pe.autoDestroy&&(pe.endEmitted||pe.readable===!1))&&M.destroy()}}t(Q.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(M){this._writableState&&(this._writableState.destroyed=M)}},writable:{__proto__:null,get(){let M=this._writableState;return!!M&&M.writable!==!1&&!M.destroyed&&!M.errored&&!M.ending&&!M.ended},set(M){this._writableState&&(this._writableState.writable=!!M)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let M=this._writableState;return M?!M.destroyed&&!M.ending&&M.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var J=y.destroy;Q.prototype.destroy=function(M,$){let te=this._writableState;return!te.destroyed&&(te.bufferedIndex<te.buffered.length||te[L].length)&&o.nextTick(Z,te),J.call(this,M,$),this},Q.prototype._undestroy=y.undestroy,Q.prototype._destroy=function(M,$){$(M)},Q.prototype[g.captureRejectionSymbol]=function(M){this.destroy(M)};var be;function se(){return be===void 0&&(be={}),be}Q.fromWeb=function(M,$){return se().newStreamWritableFromWritableStream(M,$)},Q.toWeb=function(M){return se().newWritableStreamFromStreamWritable(M)}}),eu=ge((a,s)=>{ue(),fe(),ce();var o=Nt(),l=(Le(),Pe(Ue)),{isReadable:u,isWritable:e,isIterable:r,isNodeStream:t,isReadableNodeStream:n,isWritableNodeStream:i,isDuplexNodeStream:c,isReadableStream:p,isWritableStream:g}=gt(),m=xt(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:b}}=He(),{destroyer:S}=Vt(),d=pt(),w=Jr(),E=fo(),{createDeferredPromise:v}=Ke(),I=ha(),A=globalThis.Blob||l.Blob,k=typeof A<"u"?function(L){return L instanceof A}:function(L){return!1},R=globalThis.AbortController||sr().AbortController,{FunctionPrototypeCall:P}=Me(),B=class extends d{constructor(L){super(L),L?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),L?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};s.exports=function L(U,ae){if(c(U))return U;if(n(U))return W({readable:U});if(i(U))return W({writable:U});if(t(U))return W({writable:!1,readable:!1});if(p(U))return W({readable:w.fromWeb(U)});if(g(U))return W({writable:E.fromWeb(U)});if(typeof U=="function"){let{value:V,write:re,final:F,destroy:ee}=T(U);if(r(V))return I(B,V,{objectMode:!0,write:re,final:F,destroy:ee});let C=V?.then;if(typeof C=="function"){let Y,oe=P(C,V,Z=>{if(Z!=null)throw new b("nully","body",Z)},Z=>{S(Y,Z)});return Y=new B({objectMode:!0,readable:!1,write:re,final(Z){F(async()=>{try{await oe,o.nextTick(Z,null)}catch(ve){o.nextTick(Z,ve)}})},destroy:ee})}throw new b("Iterable, AsyncIterable or AsyncFunction",ae,V)}if(k(U))return L(U.arrayBuffer());if(r(U))return I(B,U,{objectMode:!0,writable:!1});if(p(U?.readable)&&g(U?.writable))return B.fromWeb(U);if(typeof U?.writable=="object"||typeof U?.readable=="object"){let V=U!=null&&U.readable?n(U?.readable)?U?.readable:L(U.readable):void 0,re=U!=null&&U.writable?i(U?.writable)?U?.writable:L(U.writable):void 0;return W({readable:V,writable:re})}let Q=U?.then;if(typeof Q=="function"){let V;return P(Q,U,re=>{re!=null&&V.push(re),V.push(null)},re=>{S(V,re)}),V=new B({objectMode:!0,writable:!1,read(){}})}throw new y(ae,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],U)};function T(L){let{promise:U,resolve:ae}=v(),Q=new R,V=Q.signal;return{value:L(async function*(){for(;;){let re=U;U=null;let{chunk:F,done:ee,cb:C}=await re;if(o.nextTick(C),ee)return;if(V.aborted)throw new h(void 0,{cause:V.reason});({promise:U,resolve:ae}=v()),yield F}}(),{signal:V}),write(re,F,ee){let C=ae;ae=null,C({chunk:re,done:!1,cb:ee})},final(re){let F=ae;ae=null,F({done:!0,cb:re})},destroy(re,F){Q.abort(),F(re)}}}function W(L){let U=L.readable&&typeof L.readable.read!="function"?w.wrap(L.readable):L.readable,ae=L.writable,Q=!!u(U),V=!!e(ae),re,F,ee,C,Y;function oe(Z){let ve=C;C=null,ve?ve(Z):Z&&Y.destroy(Z)}return Y=new B({readableObjectMode:!!(U!=null&&U.readableObjectMode),writableObjectMode:!!(ae!=null&&ae.writableObjectMode),readable:Q,writable:V}),V&&(m(ae,Z=>{V=!1,Z&&S(U,Z),oe(Z)}),Y._write=function(Z,ve,K){ae.write(Z,ve)?K():re=K},Y._final=function(Z){ae.end(),F=Z},ae.on("drain",function(){if(re){let Z=re;re=null,Z()}}),ae.on("finish",function(){if(F){let Z=F;F=null,Z()}})),Q&&(m(U,Z=>{Q=!1,Z&&S(U,Z),oe(Z)}),U.on("readable",function(){if(ee){let Z=ee;ee=null,Z()}}),U.on("end",function(){Y.push(null)}),Y._read=function(){for(;;){let Z=U.read();if(Z===null){ee=Y._read;return}if(!Y.push(Z))return}}),Y._destroy=function(Z,ve){!Z&&C!==null&&(Z=new h),ee=null,re=null,F=null,C===null?ve(Z):(C=ve,S(ae,Z),S(U,Z))},Y}}),pt=ge((a,s)=>{ue(),fe(),ce();var{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:u,ObjectSetPrototypeOf:e}=Me();s.exports=n;var r=Jr(),t=fo();e(n.prototype,r.prototype),e(n,r);{let g=u(t.prototype);for(let m=0;m<g.length;m++){let h=g[m];n.prototype[h]||(n.prototype[h]=t.prototype[h])}}function n(g){if(!(this instanceof n))return new n(g);r.call(this,g),t.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}o(n.prototype,{writable:{__proto__:null,...l(t.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(t.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(t.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(t.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(t.prototype,"writableLength")},writableFinished:{__proto__:null,...l(t.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(t.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(t.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(t.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var i;function c(){return i===void 0&&(i={}),i}n.fromWeb=function(g,m){return c().newStreamDuplexFromReadableWritablePair(g,m)},n.toWeb=function(g){return c().newReadableWritablePairFromDuplex(g)};var p;n.from=function(g){return p||(p=eu()),p(g,"body")}}),pa=ge((a,s)=>{ue(),fe(),ce();var{ObjectSetPrototypeOf:o,Symbol:l}=Me();s.exports=n;var{ERR_METHOD_NOT_IMPLEMENTED:u}=He().codes,e=pt(),{getHighWaterMark:r}=Yr();o(n.prototype,e.prototype),o(n,e);var t=l("kCallback");function n(p){if(!(this instanceof n))return new n(p);let g=p?r(this,p,"readableHighWaterMark",!0):null;g===0&&(p={...p,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:p.writableHighWaterMark||0}),e.call(this,p),this._readableState.sync=!1,this[t]=null,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function i(p){typeof this._flush=="function"&&!this.destroyed?this._flush((g,m)=>{if(g){p?p(g):this.destroy(g);return}m!=null&&this.push(m),this.push(null),p&&p()}):(this.push(null),p&&p())}function c(){this._final!==i&&i.call(this)}n.prototype._final=i,n.prototype._transform=function(p,g,m){throw new u("_transform()")},n.prototype._write=function(p,g,m){let h=this._readableState,y=this._writableState,b=h.length;this._transform(p,g,(S,d)=>{if(S){m(S);return}d!=null&&this.push(d),y.ended||b===h.length||h.length<h.highWaterMark?m():this[t]=m})},n.prototype._read=function(){if(this[t]){let p=this[t];this[t]=null,p()}}}),da=ge((a,s)=>{ue(),fe(),ce();var{ObjectSetPrototypeOf:o}=Me();s.exports=u;var l=pa();o(u.prototype,l.prototype),o(u,l);function u(e){if(!(this instanceof u))return new u(e);l.call(this,e)}u.prototype._transform=function(e,r,t){t(null,e)}}),ho=ge((a,s)=>{ue(),fe(),ce();var o=Nt(),{ArrayIsArray:l,Promise:u,SymbolAsyncIterator:e,SymbolDispose:r}=Me(),t=xt(),{once:n}=Ke(),i=Vt(),c=pt(),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:S}=He(),{validateFunction:d,validateAbortSignal:w}=ur(),{isIterable:E,isReadable:v,isReadableNodeStream:I,isNodeStream:A,isTransformStream:k,isWebStream:R,isReadableStream:P,isReadableFinished:B}=gt(),T=globalThis.AbortController||sr().AbortController,W,L,U;function ae(Z,ve,K){let N=!1;Z.on("close",()=>{N=!0});let ne=t(Z,{readable:ve,writable:K},z=>{N=!z});return{destroy:z=>{N||(N=!0,i.destroyer(Z,z||new y("pipe")))},cleanup:ne}}function Q(Z){return d(Z[Z.length-1],"streams[stream.length - 1]"),Z.pop()}function V(Z){if(E(Z))return Z;if(I(Z))return re(Z);throw new g("val",["Readable","Iterable","AsyncIterable"],Z)}async function*re(Z){L||(L=Jr()),yield*L.prototype[e].call(Z)}async function F(Z,ve,K,{end:N}){let ne,z=null,G=se=>{if(se&&(ne=se),z){let M=z;z=null,M()}},J=()=>new u((se,M)=>{ne?M(ne):z=()=>{ne?M(ne):se()}});ve.on("drain",G);let be=t(ve,{readable:!1},G);try{ve.writableNeedDrain&&await J();for await(let se of Z)ve.write(se)||await J();N&&(ve.end(),await J()),K()}catch(se){K(ne!==se?p(ne,se):se)}finally{be(),ve.off("drain",G)}}async function ee(Z,ve,K,{end:N}){k(ve)&&(ve=ve.writable);let ne=ve.getWriter();try{for await(let z of Z)await ne.ready,ne.write(z).catch(()=>{});await ne.ready,N&&await ne.close(),K()}catch(z){try{await ne.abort(z),K(z)}catch(G){K(G)}}}function C(...Z){return Y(Z,n(Q(Z)))}function Y(Z,ve,K){if(Z.length===1&&l(Z[0])&&(Z=Z[0]),Z.length<2)throw new h("streams");let N=new T,ne=N.signal,z=K?.signal,G=[];w(z,"options.signal");function J(){de(new S)}U=U||Ke().addAbortListener;let be;z&&(be=U(z,J));let se,M,$=[],te=0;function pe(we){de(we,--te===0)}function de(we,le){var Te;if(we&&(!se||se.code==="ERR_STREAM_PREMATURE_CLOSE")&&(se=we),!(!se&&!le)){for(;$.length;)$.shift()(se);(Te=be)===null||Te===void 0||Te[r](),N.abort(),le&&(se||G.forEach(f=>f()),o.nextTick(ve,se,M))}}let me;for(let we=0;we<Z.length;we++){let le=Z[we],Te=we<Z.length-1,f=we>0,_=Te||K?.end!==!1,x=we===Z.length-1;if(A(le)){let D=function(X){X&&X.name!=="AbortError"&&X.code!=="ERR_STREAM_PREMATURE_CLOSE"&&pe(X)};if(_){let{destroy:X,cleanup:he}=ae(le,Te,f);$.push(X),v(le)&&x&&G.push(he)}le.on("error",D),v(le)&&x&&G.push(()=>{le.removeListener("error",D)})}if(we===0)if(typeof le=="function"){if(me=le({signal:ne}),!E(me))throw new m("Iterable, AsyncIterable or Stream","source",me)}else E(le)||I(le)||k(le)?me=le:me=c.from(le);else if(typeof le=="function"){if(k(me)){var q;me=V((q=me)===null||q===void 0?void 0:q.readable)}else me=V(me);if(me=le(me,{signal:ne}),Te){if(!E(me,!0))throw new m("AsyncIterable",`transform[${we-1}]`,me)}else{var ye;W||(W=da());let D=new W({objectMode:!0}),X=(ye=me)===null||ye===void 0?void 0:ye.then;if(typeof X=="function")te++,X.call(me,H=>{M=H,H!=null&&D.write(H),_&&D.end(),o.nextTick(pe)},H=>{D.destroy(H),o.nextTick(pe,H)});else if(E(me,!0))te++,F(me,D,pe,{end:_});else if(P(me)||k(me)){let H=me.readable||me;te++,F(H,D,pe,{end:_})}else throw new m("AsyncIterable or Promise","destination",me);me=D;let{destroy:he,cleanup:Se}=ae(me,!1,!0);$.push(he),x&&G.push(Se)}}else if(A(le)){if(I(me)){te+=2;let D=oe(me,le,pe,{end:_});v(le)&&x&&G.push(D)}else if(k(me)||P(me)){let D=me.readable||me;te++,F(D,le,pe,{end:_})}else if(E(me))te++,F(me,le,pe,{end:_});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=le}else if(R(le)){if(I(me))te++,ee(V(me),le,pe,{end:_});else if(P(me)||E(me))te++,ee(me,le,pe,{end:_});else if(k(me))te++,ee(me.readable,le,pe,{end:_});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=le}else me=c.from(le)}return(ne!=null&&ne.aborted||z!=null&&z.aborted)&&o.nextTick(J),me}function oe(Z,ve,K,{end:N}){let ne=!1;if(ve.on("close",()=>{ne||K(new b)}),Z.pipe(ve,{end:!1}),N){let z=function(){ne=!0,ve.end()};B(Z)?o.nextTick(z):Z.once("end",z)}else K();return t(Z,{readable:!0,writable:!1},z=>{let G=Z._readableState;z&&z.code==="ERR_STREAM_PREMATURE_CLOSE"&&G&&G.ended&&!G.errored&&!G.errorEmitted?Z.once("end",K).once("error",K):K(z)}),t(ve,{readable:!1,writable:!0},K)}s.exports={pipelineImpl:Y,pipeline:C}}),ga=ge((a,s)=>{ue(),fe(),ce();var{pipeline:o}=ho(),l=pt(),{destroyer:u}=Vt(),{isNodeStream:e,isReadable:r,isWritable:t,isWebStream:n,isTransformStream:i,isWritableStream:c,isReadableStream:p}=gt(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:h}}=He(),y=xt();s.exports=function(...b){if(b.length===0)throw new h("streams");if(b.length===1)return l.from(b[0]);let S=[...b];if(typeof b[0]=="function"&&(b[0]=l.from(b[0])),typeof b[b.length-1]=="function"){let T=b.length-1;b[T]=l.from(b[T])}for(let T=0;T<b.length;++T)if(!(!e(b[T])&&!n(b[T]))){if(T<b.length-1&&!(r(b[T])||p(b[T])||i(b[T])))throw new m(`streams[${T}]`,S[T],"must be readable");if(T>0&&!(t(b[T])||c(b[T])||i(b[T])))throw new m(`streams[${T}]`,S[T],"must be writable")}let d,w,E,v,I;function A(T){let W=v;v=null,W?W(T):T?I.destroy(T):!B&&!P&&I.destroy()}let k=b[0],R=o(b,A),P=!!(t(k)||c(k)||i(k)),B=!!(r(R)||p(R)||i(R));if(I=new l({writableObjectMode:!!(k!=null&&k.writableObjectMode),readableObjectMode:!!(R!=null&&R.readableObjectMode),writable:P,readable:B}),P){if(e(k))I._write=function(W,L,U){k.write(W,L)?U():d=U},I._final=function(W){k.end(),w=W},k.on("drain",function(){if(d){let W=d;d=null,W()}});else if(n(k)){let W=(i(k)?k.writable:k).getWriter();I._write=async function(L,U,ae){try{await W.ready,W.write(L).catch(()=>{}),ae()}catch(Q){ae(Q)}},I._final=async function(L){try{await W.ready,W.close().catch(()=>{}),w=L}catch(U){L(U)}}}let T=i(R)?R.readable:R;y(T,()=>{if(w){let W=w;w=null,W()}})}if(B){if(e(R))R.on("readable",function(){if(E){let T=E;E=null,T()}}),R.on("end",function(){I.push(null)}),I._read=function(){for(;;){let T=R.read();if(T===null){E=I._read;return}if(!I.push(T))return}};else if(n(R)){let T=(i(R)?R.readable:R).getReader();I._read=async function(){for(;;)try{let{value:W,done:L}=await T.read();if(!I.push(W))return;if(L){I.push(null);return}}catch{return}}}}return I._destroy=function(T,W){!T&&v!==null&&(T=new g),E=null,d=null,w=null,v===null?W(T):(v=W,e(R)&&u(R,T))},I}}),tu=ge((a,s)=>{ue(),fe(),ce();var o=globalThis.AbortController||sr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:e,ERR_OUT_OF_RANGE:r},AbortError:t}=He(),{validateAbortSignal:n,validateInteger:i,validateObject:c}=ur(),p=Me().Symbol("kWeak"),g=Me().Symbol("kResistStopPropagation"),{finished:m}=xt(),h=ga(),{addAbortSignalNoValidate:y}=Qr(),{isWritable:b,isNodeStream:S}=gt(),{deprecate:d}=Ke(),{ArrayPrototypePush:w,Boolean:E,MathFloor:v,Number:I,NumberIsNaN:A,Promise:k,PromiseReject:R,PromiseResolve:P,PromisePrototypeThen:B,Symbol:T}=Me(),W=T("kEmpty"),L=T("kEof");function U(z,G){if(G!=null&&c(G,"options"),G?.signal!=null&&n(G.signal,"options.signal"),S(z)&&!b(z))throw new l("stream",z,"must be writable");let J=h(this,z);return G!=null&&G.signal&&y(G.signal,J),J}function ae(z,G){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);G!=null&&c(G,"options"),G?.signal!=null&&n(G.signal,"options.signal");let J=1;G?.concurrency!=null&&(J=v(G.concurrency));let be=J-1;return G?.highWaterMark!=null&&(be=v(G.highWaterMark)),i(J,"options.concurrency",1),i(be,"options.highWaterMark",0),be+=J,async function*(){let se=Ke().AbortSignalAny([G?.signal].filter(E)),M=this,$=[],te={signal:se},pe,de,me=!1,q=0;function ye(){me=!0,we()}function we(){q-=1,le()}function le(){de&&!me&&q<J&&$.length<be&&(de(),de=null)}async function Te(){try{for await(let f of M){if(me)return;if(se.aborted)throw new t;try{if(f=z(f,te),f===W)continue;f=P(f)}catch(_){f=R(_)}q+=1,B(f,we,ye),$.push(f),pe&&(pe(),pe=null),!me&&($.length>=be||q>=J)&&await new k(_=>{de=_})}$.push(L)}catch(f){let _=R(f);B(_,we,ye),$.push(_)}finally{me=!0,pe&&(pe(),pe=null)}}Te();try{for(;;){for(;$.length>0;){let f=await $[0];if(f===L)return;if(se.aborted)throw new t;f!==W&&(yield f),$.shift(),le()}await new k(f=>{pe=f})}}finally{me=!0,de&&(de(),de=null)}}.call(this)}function Q(z=void 0){return z!=null&&c(z,"options"),z?.signal!=null&&n(z.signal,"options.signal"),async function*(){let G=0;for await(let be of this){var J;if(z!=null&&(J=z.signal)!==null&&J!==void 0&&J.aborted)throw new t({cause:z.signal.reason});yield[G++,be]}}.call(this)}async function V(z,G=void 0){for await(let J of C.call(this,z,G))return!0;return!1}async function re(z,G=void 0){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);return!await V.call(this,async(...J)=>!await z(...J),G)}async function F(z,G){for await(let J of C.call(this,z,G))return J}async function ee(z,G){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);async function J(be,se){return await z(be,se),W}for await(let be of ae.call(this,J,G));}function C(z,G){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);async function J(be,se){return await z(be,se)?be:W}return ae.call(this,J,G)}var Y=class extends e{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function oe(z,G,J){var be;if(typeof z!="function")throw new u("reducer",["Function","AsyncFunction"],z);J!=null&&c(J,"options"),J?.signal!=null&&n(J.signal,"options.signal");let se=arguments.length>1;if(J!=null&&(be=J.signal)!==null&&be!==void 0&&be.aborted){let de=new t(void 0,{cause:J.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(de)),de}let M=new o,$=M.signal;if(J!=null&&J.signal){let de={once:!0,[p]:this,[g]:!0};J.signal.addEventListener("abort",()=>M.abort(),de)}let te=!1;try{for await(let de of this){var pe;if(te=!0,J!=null&&(pe=J.signal)!==null&&pe!==void 0&&pe.aborted)throw new t;se?G=await z(G,de,{signal:$}):(G=de,se=!0)}if(!te&&!se)throw new Y}finally{M.abort()}return G}async function Z(z){z!=null&&c(z,"options"),z?.signal!=null&&n(z.signal,"options.signal");let G=[];for await(let be of this){var J;if(z!=null&&(J=z.signal)!==null&&J!==void 0&&J.aborted)throw new t(void 0,{cause:z.signal.reason});w(G,be)}return G}function ve(z,G){let J=ae.call(this,z,G);return async function*(){for await(let be of J)yield*be}.call(this)}function K(z){if(z=I(z),A(z))return 0;if(z<0)throw new r("number",">= 0",z);return z}function N(z,G=void 0){return G!=null&&c(G,"options"),G?.signal!=null&&n(G.signal,"options.signal"),z=K(z),async function*(){var J;if(G!=null&&(J=G.signal)!==null&&J!==void 0&&J.aborted)throw new t;for await(let se of this){var be;if(G!=null&&(be=G.signal)!==null&&be!==void 0&&be.aborted)throw new t;z--<=0&&(yield se)}}.call(this)}function ne(z,G=void 0){return G!=null&&c(G,"options"),G?.signal!=null&&n(G.signal,"options.signal"),z=K(z),async function*(){var J;if(G!=null&&(J=G.signal)!==null&&J!==void 0&&J.aborted)throw new t;for await(let se of this){var be;if(G!=null&&(be=G.signal)!==null&&be!==void 0&&be.aborted)throw new t;if(z-- >0&&(yield se),z<=0)return}}.call(this)}s.exports.streamReturningOperators={asIndexedPairs:d(Q,"readable.asIndexedPairs will be removed in a future version."),drop:N,filter:C,flatMap:ve,map:ae,take:ne,compose:U},s.exports.promiseReturningOperators={every:re,forEach:ee,reduce:oe,toArray:Z,some:V,find:F}}),ya=ge((a,s)=>{ue(),fe(),ce();var{ArrayPrototypePop:o,Promise:l}=Me(),{isIterable:u,isNodeStream:e,isWebStream:r}=gt(),{pipelineImpl:t}=ho(),{finished:n}=xt();ba();function i(...c){return new l((p,g)=>{let m,h,y=c[c.length-1];if(y&&typeof y=="object"&&!e(y)&&!u(y)&&!r(y)){let b=o(c);m=b.signal,h=b.end}t(c,(b,S)=>{b?g(b):p(S)},{signal:m,end:h})})}s.exports={finished:n,pipeline:i}}),ba=ge((a,s)=>{ue(),fe(),ce();var{Buffer:o}=(Le(),Pe(Ue)),{ObjectDefineProperty:l,ObjectKeys:u,ReflectApply:e}=Me(),{promisify:{custom:r}}=Ke(),{streamReturningOperators:t,promiseReturningOperators:n}=tu(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=He(),c=ga(),{setDefaultHighWaterMark:p,getDefaultHighWaterMark:g}=Yr(),{pipeline:m}=ho(),{destroyer:h}=Vt(),y=xt(),b=ya(),S=gt(),d=s.exports=co().Stream;d.isDestroyed=S.isDestroyed,d.isDisturbed=S.isDisturbed,d.isErrored=S.isErrored,d.isReadable=S.isReadable,d.isWritable=S.isWritable,d.Readable=Jr();for(let E of u(t)){let v=function(...A){if(new.target)throw i();return d.Readable.from(e(I,this,A))},I=t[E];l(v,"name",{__proto__:null,value:I.name}),l(v,"length",{__proto__:null,value:I.length}),l(d.Readable.prototype,E,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let E of u(n)){let v=function(...A){if(new.target)throw i();return e(I,this,A)},I=n[E];l(v,"name",{__proto__:null,value:I.name}),l(v,"length",{__proto__:null,value:I.length}),l(d.Readable.prototype,E,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}d.Writable=fo(),d.Duplex=pt(),d.Transform=pa(),d.PassThrough=da(),d.pipeline=m;var{addAbortSignal:w}=Qr();d.addAbortSignal=w,d.finished=y,d.destroy=h,d.compose=c,d.setDefaultHighWaterMark=p,d.getDefaultHighWaterMark=g,l(d,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),l(m,r,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),l(y,r,{__proto__:null,enumerable:!0,get(){return b.finished}}),d.Stream=d,d._isUint8Array=function(E){return E instanceof Uint8Array},d._uint8ArrayToBuffer=function(E){return o.from(E.buffer,E.byteOffset,E.byteLength)}}),Bt=ge((a,s)=>{ue(),fe(),ce();var o=ba(),l=ya(),u=o.Readable.destroy;s.exports=o.Readable,s.exports._uint8ArrayToBuffer=o._uint8ArrayToBuffer,s.exports._isUint8Array=o._isUint8Array,s.exports.isDisturbed=o.isDisturbed,s.exports.isErrored=o.isErrored,s.exports.isReadable=o.isReadable,s.exports.Readable=o.Readable,s.exports.Writable=o.Writable,s.exports.Duplex=o.Duplex,s.exports.Transform=o.Transform,s.exports.PassThrough=o.PassThrough,s.exports.addAbortSignal=o.addAbortSignal,s.exports.finished=o.finished,s.exports.destroy=o.destroy,s.exports.destroy=u,s.exports.pipeline=o.pipeline,s.exports.compose=o.compose,Object.defineProperty(o,"promises",{configurable:!0,enumerable:!0,get(){return l}}),s.exports.Stream=o.Stream,s.exports.default=s.exports}),ru=ge((a,s)=>{ue(),fe(),ce(),typeof Object.create=="function"?s.exports=function(o,l){l&&(o.super_=l,o.prototype=Object.create(l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(o,l){if(l){o.super_=l;var u=function(){};u.prototype=l.prototype,o.prototype=new u,o.prototype.constructor=o}}}),nu=ge((a,s)=>{ue(),fe(),ce();var{Buffer:o}=(Le(),Pe(Ue)),l=Symbol.for("BufferList");function u(e){if(!(this instanceof u))return new u(e);u._init.call(this,e)}u._init=function(e){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},u.prototype._new=function(e){return new u(e)},u.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let t=0;t<this._bufs.length;t++){let n=r+this._bufs[t].length;if(e<n||t===this._bufs.length-1)return[t,e-r];r=n}},u.prototype._reverseOffset=function(e){let r=e[0],t=e[1];for(let n=0;n<r;n++)t+=this._bufs[n].length;return t},u.prototype.getBuffers=function(){return this._bufs},u.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]},u.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)},u.prototype.copy=function(e,r,t,n){if((typeof t!="number"||t<0)&&(t=0),(typeof n!="number"||n>this.length)&&(n=this.length),t>=this.length||n<=0)return e||o.alloc(0);let i=!!e,c=this._offset(t),p=n-t,g=p,m=i&&r||0,h=c[1];if(t===0&&n===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:o.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(e,m),m+=this._bufs[y].length;return e}if(g<=this._bufs[c[0]].length-h)return i?this._bufs[c[0]].copy(e,r,h,h+g):this._bufs[c[0]].slice(h,h+g);i||(e=o.allocUnsafe(p));for(let y=c[0];y<this._bufs.length;y++){let b=this._bufs[y].length-h;if(g>b)this._bufs[y].copy(e,m,h),m+=b;else{this._bufs[y].copy(e,m,h,h+g),m+=b;break}g-=b,h&&(h=0)}return e.length>m?e.slice(0,m):e},u.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let t=this._offset(e),n=this._offset(r),i=this._bufs.slice(t[0],n[0]+1);return n[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),t[1]!==0&&(i[0]=i[0].slice(t[1])),this._new(i)},u.prototype.toString=function(e,r,t){return this.slice(r,t).toString(e)},u.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},u.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e},u.prototype.append=function(e){return this._attach(e,u.prototype._appendBuffer)},u.prototype.prepend=function(e){return this._attach(e,u.prototype._prependBuffer,!0)},u.prototype._attach=function(e,r,t){if(e==null)return this;if(e.buffer)r.call(this,o.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e)){let[n,i]=t?[e.length-1,-1]:[0,1];for(let c=n;c>=0&&c<e.length;c+=i)this._attach(e[c],r,t)}else if(this._isBufferList(e)){let[n,i]=t?[e._bufs.length-1,-1]:[0,1];for(let c=n;c>=0&&c<e._bufs.length;c+=i)this._attach(e._bufs[c],r,t)}else typeof e=="number"&&(e=e.toString()),r.call(this,o.from(e));return this},u.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},u.prototype._prependBuffer=function(e){this._bufs.unshift(e),this.length+=e.length},u.prototype.indexOf=function(e,r,t){if(t===void 0&&typeof r=="string"&&(t=r,r=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=o.from([e]):typeof e=="string"?e=o.from(e,t):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=o.from(e.buffer,e.byteOffset,e.byteLength):o.isBuffer(e)||(e=o.from(e)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let n=this._offset(r),i=n[0],c=n[1];for(;i<this._bufs.length;i++){let p=this._bufs[i];for(;c<p.length;)if(p.length-c>=e.length){let g=p.indexOf(e,c);if(g!==-1)return this._reverseOffset([i,g]);c=p.length-e.length+1}else{let g=this._reverseOffset([i,c]);if(this._match(g,e))return g;c++}c=0}return-1},u.prototype._match=function(e,r){if(this.length-e<r.length)return!1;for(let t=0;t<r.length;t++)if(this.get(e+t)!==r[t])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in e)(function(t){e[t]===null?u.prototype[t]=function(n,i){return this.slice(n,n+i)[t](0,i)}:u.prototype[t]=function(n=0){return this.slice(n,n+e[t])[t](0)}})(r)}(),u.prototype._isBufferList=function(e){return e instanceof u||u.isBufferList(e)},u.isBufferList=function(e){return e!=null&&e[l]},s.exports=u}),iu=ge((a,s)=>{ue(),fe(),ce();var o=Bt().Duplex,l=ru(),u=nu();function e(r){if(!(this instanceof e))return new e(r);if(typeof r=="function"){this._callback=r;let t=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",t)}),this.on("unpipe",function(n){n.removeListener("error",t)}),r=null}u._init.call(this,r),o.call(this)}l(e,o),Object.assign(e.prototype,u.prototype),e.prototype._new=function(r){return new e(r)},e.prototype._write=function(r,t,n){this._appendBuffer(r),typeof n=="function"&&n()},e.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},e.prototype.end=function(r){o.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},e.prototype._destroy=function(r,t){this._bufs.length=0,this.length=0,t(r)},e.prototype._isBufferList=function(r){return r instanceof e||r instanceof u||e.isBufferList(r)},e.isBufferList=u.isBufferList,s.exports=e,s.exports.BufferListStream=e,s.exports.BufferList=u}),ou=ge((a,s)=>{ue(),fe(),ce();var o=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};s.exports=o}),ma=ge((a,s)=>{ue(),fe(),ce();var o=s.exports,{Buffer:l}=(Le(),Pe(Ue));o.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},o.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},o.requiredHeaderFlagsErrors={};for(let e in o.requiredHeaderFlags){let r=o.requiredHeaderFlags[e];o.requiredHeaderFlagsErrors[e]="Invalid header flag bits, must be 0x"+r.toString(16)+" for "+o.types[e]+" packet"}o.codes={};for(let e in o.types){let r=o.types[e];o.codes[r]=e}o.CMD_SHIFT=4,o.CMD_MASK=240,o.DUP_MASK=8,o.QOS_MASK=3,o.QOS_SHIFT=1,o.RETAIN_MASK=1,o.VARBYTEINT_MASK=127,o.VARBYTEINT_FIN_MASK=128,o.VARBYTEINT_MAX=268435455,o.SESSIONPRESENT_MASK=1,o.SESSIONPRESENT_HEADER=l.from([o.SESSIONPRESENT_MASK]),o.CONNACK_HEADER=l.from([o.codes.connack<<o.CMD_SHIFT]),o.USERNAME_MASK=128,o.PASSWORD_MASK=64,o.WILL_RETAIN_MASK=32,o.WILL_QOS_MASK=24,o.WILL_QOS_SHIFT=3,o.WILL_FLAG_MASK=4,o.CLEAN_SESSION_MASK=2,o.CONNECT_HEADER=l.from([o.codes.connect<<o.CMD_SHIFT]),o.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},o.propertiesCodes={};for(let e in o.properties){let r=o.properties[e];o.propertiesCodes[r]=e}o.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function u(e){return[0,1,2].map(r=>[0,1].map(t=>[0,1].map(n=>{let i=l.alloc(1);return i.writeUInt8(o.codes[e]<<o.CMD_SHIFT|(t?o.DUP_MASK:0)|r<<o.QOS_SHIFT|n,0,!0),i})))}o.PUBLISH_HEADER=u("publish"),o.SUBSCRIBE_HEADER=u("subscribe"),o.SUBSCRIBE_OPTIONS_QOS_MASK=3,o.SUBSCRIBE_OPTIONS_NL_MASK=1,o.SUBSCRIBE_OPTIONS_NL_SHIFT=2,o.SUBSCRIBE_OPTIONS_RAP_MASK=1,o.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,o.SUBSCRIBE_OPTIONS_RH_MASK=3,o.SUBSCRIBE_OPTIONS_RH_SHIFT=4,o.SUBSCRIBE_OPTIONS_RH=[0,16,32],o.SUBSCRIBE_OPTIONS_NL=4,o.SUBSCRIBE_OPTIONS_RAP=8,o.SUBSCRIBE_OPTIONS_QOS=[0,1,2],o.UNSUBSCRIBE_HEADER=u("unsubscribe"),o.ACKS={unsuback:u("unsuback"),puback:u("puback"),pubcomp:u("pubcomp"),pubrel:u("pubrel"),pubrec:u("pubrec")},o.SUBACK_HEADER=l.from([o.codes.suback<<o.CMD_SHIFT]),o.VERSION3=l.from([3]),o.VERSION4=l.from([4]),o.VERSION5=l.from([5]),o.VERSION131=l.from([131]),o.VERSION132=l.from([132]),o.QOS=[0,1,2].map(e=>l.from([e])),o.EMPTY={pingreq:l.from([o.codes.pingreq<<4,0]),pingresp:l.from([o.codes.pingresp<<4,0]),disconnect:l.from([o.codes.disconnect<<4,0])},o.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},o.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},o.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},o.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},o.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},o.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),su=ge((a,s)=>{ue(),fe(),ce();var o=1e3,l=o*60,u=l*60,e=u*24,r=e*7,t=e*365.25;s.exports=function(g,m){m=m||{};var h=typeof g;if(h==="string"&&g.length>0)return n(g);if(h==="number"&&isFinite(g))return m.long?c(g):i(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function n(g){if(g=String(g),!(g.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(m){var h=parseFloat(m[1]),y=(m[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return h*t;case"weeks":case"week":case"w":return h*r;case"days":case"day":case"d":return h*e;case"hours":case"hour":case"hrs":case"hr":case"h":return h*u;case"minutes":case"minute":case"mins":case"min":case"m":return h*l;case"seconds":case"second":case"secs":case"sec":case"s":return h*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function i(g){var m=Math.abs(g);return m>=e?Math.round(g/e)+"d":m>=u?Math.round(g/u)+"h":m>=l?Math.round(g/l)+"m":m>=o?Math.round(g/o)+"s":g+"ms"}function c(g){var m=Math.abs(g);return m>=e?p(g,m,e,"day"):m>=u?p(g,m,u,"hour"):m>=l?p(g,m,l,"minute"):m>=o?p(g,m,o,"second"):g+" ms"}function p(g,m,h,y){var b=m>=h*1.5;return Math.round(g/h)+" "+y+(b?"s":"")}}),au=ge((a,s)=>{ue(),fe(),ce();function o(l){e.debug=e,e.default=e,e.coerce=p,e.disable=i,e.enable=t,e.enabled=c,e.humanize=su(),e.destroy=g,Object.keys(l).forEach(m=>{e[m]=l[m]}),e.names=[],e.skips=[],e.formatters={};function u(m){let h=0;for(let y=0;y<m.length;y++)h=(h<<5)-h+m.charCodeAt(y),h|=0;return e.colors[Math.abs(h)%e.colors.length]}e.selectColor=u;function e(m){let h,y=null,b,S;function d(...w){if(!d.enabled)return;let E=d,v=Number(new Date),I=v-(h||v);E.diff=I,E.prev=h,E.curr=v,h=v,w[0]=e.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let A=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(k,R)=>{if(k==="%%")return"%";A++;let P=e.formatters[R];if(typeof P=="function"){let B=w[A];k=P.call(E,B),w.splice(A,1),A--}return k}),e.formatArgs.call(E,w),(E.log||e.log).apply(E,w)}return d.namespace=m,d.useColors=e.useColors(),d.color=e.selectColor(m),d.extend=r,d.destroy=e.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(b!==e.namespaces&&(b=e.namespaces,S=e.enabled(m)),S),set:w=>{y=w}}),typeof e.init=="function"&&e.init(d),d}function r(m,h){let y=e(this.namespace+(typeof h>"u"?":":h)+m);return y.log=this.log,y}function t(m){e.save(m),e.namespaces=m,e.names=[],e.skips=[];let h=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of h)y[0]==="-"?e.skips.push(y.slice(1)):e.names.push(y)}function n(m,h){let y=0,b=0,S=-1,d=0;for(;y<m.length;)if(b<h.length&&(h[b]===m[y]||h[b]==="*"))h[b]==="*"?(S=b,d=y,b++):(y++,b++);else if(S!==-1)b=S+1,d++,y=d;else return!1;for(;b<h.length&&h[b]==="*";)b++;return b===h.length}function i(){let m=[...e.names,...e.skips.map(h=>"-"+h)].join(",");return e.enable(""),m}function c(m){for(let h of e.skips)if(n(m,h))return!1;for(let h of e.names)if(n(m,h))return!0;return!1}function p(m){return m instanceof Error?m.stack||m.message:m}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}s.exports=o}),dt=ge((a,s)=>{ue(),fe(),ce(),a.formatArgs=l,a.save=u,a.load=e,a.useColors=o,a.storage=r(),a.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+s.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;n.splice(1,0,i,"color: inherit");let c=0,p=0;n[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(c++,g==="%c"&&(p=c))}),n.splice(p,0,i)}a.log=console.debug||console.log||(()=>{});function u(n){try{n?a.storage.setItem("debug",n):a.storage.removeItem("debug")}catch{}}function e(){let n;try{n=a.storage.getItem("debug")||a.storage.getItem("DEBUG")}catch{}return!n&&typeof Ce<"u"&&"env"in Ce&&(n=Ce.env.DEBUG),n}function r(){try{return localStorage}catch{}}s.exports=au()(a);var{formatters:t}=s.exports;t.j=function(n){try{return JSON.stringify(n)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),lu=ge((a,s)=>{ue(),fe(),ce();var o=iu(),{EventEmitter:l}=(jt(),Pe(It)),u=ou(),e=ma(),r=dt()("mqtt-packet:parser"),t=class yi extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof yi?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new yi().parser(i)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new u,this.error=null,this._list=o(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),r("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),c=i>>e.CMD_SHIFT;this.packet.cmd=e.types[c];let p=i&15,g=e.requiredHeaderFlags[c];return g!=null&&p!==g?this._emitError(new Error(e.requiredHeaderFlagsErrors[c])):(this.packet.retain=(i&e.RETAIN_MASK)!==0,this.packet.qos=i>>e.QOS_SHIFT&e.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&e.DUP_MASK)!==0,r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),r("_parseLength %d",i.value),!!i}_parsePayload(){r("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return r("_parsePayload complete result: %s",i),i}_parseConnect(){r("_parseConnect");let i,c,p,g,m={},h=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(h.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(h.protocolVersion=this._list.readUInt8(this._pos),h.protocolVersion>=128&&(h.bridgeMode=!0,h.protocolVersion=h.protocolVersion-128),h.protocolVersion!==3&&h.protocolVersion!==4&&h.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));m.username=this._list.readUInt8(this._pos)&e.USERNAME_MASK,m.password=this._list.readUInt8(this._pos)&e.PASSWORD_MASK,m.will=this._list.readUInt8(this._pos)&e.WILL_FLAG_MASK;let b=!!(this._list.readUInt8(this._pos)&e.WILL_RETAIN_MASK),S=(this._list.readUInt8(this._pos)&e.WILL_QOS_MASK)>>e.WILL_QOS_SHIFT;if(m.will)h.will={},h.will.retain=b,h.will.qos=S;else{if(b)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(S)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(h.clean=(this._list.readUInt8(this._pos)&e.CLEAN_SESSION_MASK)!==0,this._pos++,h.keepalive=this._parseNum(),h.keepalive===-1)return this._emitError(new Error("Packet too short"));if(h.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(h.properties=w)}let d=this._parseString();if(d===null)return this._emitError(new Error("Packet too short"));if(h.clientId=d,r("_parseConnect: packet.clientId: %s",h.clientId),m.will){if(h.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(h.will.properties=w)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(h.will.topic=i,r("_parseConnect: packet.will.topic: %s",h.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));h.will.payload=c,r("_parseConnect: packet.will.paylaod: %s",h.will.payload)}if(m.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));h.username=g,r("_parseConnect: packet.username: %s",h.username)}if(m.password){if(p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse password"));h.password=p}return this.settings=h,r("_parseConnect: complete"),h}_parseConnack(){r("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(c&e.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(i.properties=p)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(i.properties=c)}i.payload=this._list.slice(this._pos,i.length),r("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){r("_parseSubscribe");let i=this.packet,c,p,g,m,h,y,b;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(i.properties=S)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(p=this._parseByte(),this.settings.protocolVersion===5){if(p&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(p&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=p&e.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(p>>e.SUBSCRIBE_OPTIONS_NL_SHIFT&e.SUBSCRIBE_OPTIONS_NL_MASK)!==0,h=(p>>e.SUBSCRIBE_OPTIONS_RAP_SHIFT&e.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,m=p>>e.SUBSCRIBE_OPTIONS_RH_SHIFT&e.SUBSCRIBE_OPTIONS_RH_MASK,m>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));b={topic:c,qos:g},this.settings.protocolVersion===5?(b.nl=y,b.rap=h,b.rh=m):this.settings.bridgeMode&&(b.rh=0,b.rap=!0,b.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",b),i.subscriptions.push(b)}}}_parseSuback(){r("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(i.properties=c)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!e.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(i.properties=c)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),i.unsubscriptions.push(c)}}}_parseUnsuback(){r("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(i.properties=c),i.granted=[];this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(!e.MQTT5_UNSUBACK_CODES[p])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(p)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!e.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!e.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}r("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(i.properties=c)}}return!0}_parseDisconnect(){let i=this.packet;if(r("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),e.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(i.properties=c)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!e.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(i.properties=c),r("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let c=this._parseNum(),p=c+this._pos;if(c===-1||p>this._list.length||p>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,p);return this._pos+=c,r("_parseString: result: %s",g),g}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),c=i+this._pos;if(i===-1||c>this._list.length||c>this.packet.length)return null;let p=this._list.slice(this._pos,c);return this._pos+=i,r("_parseBuffer: result: %o",p),p}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){r("_parseVarByteNum");let c=4,p=0,g=1,m=0,h=!1,y,b=this._pos?this._pos:0;for(;p<c&&b+p<this._list.length;){if(y=this._list.readUInt8(b+p++),m+=g*(y&e.VARBYTEINT_MASK),g*=128,(y&e.VARBYTEINT_FIN_MASK)===0){h=!0;break}if(this._list.length<=p)break}return!h&&p===c&&this._list.length>=p&&this._emitError(new Error("Invalid variable byte integer")),b&&(this._pos+=p),h?i?h={bytes:p,value:m}:h=m:h=!1,r("_parseVarByteNum: result: %o",h),h}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",i),i}_parseByType(i){switch(r("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let i=this._parseVarByteNum(),c=this._pos+i,p={};for(;this._pos<c;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let m=e.propertiesCodes[g];if(!m)return this._emitError(new Error("Unknown property")),!1;if(m==="userProperties"){p[m]||(p[m]=Object.create(null));let h=this._parseByType(e.propertiesTypes[m]);if(p[m][h.name])if(Array.isArray(p[m][h.name]))p[m][h.name].push(h.value);else{let y=p[m][h.name];p[m][h.name]=[y],p[m][h.name].push(h.value)}else p[m][h.name]=h.value;continue}p[m]?Array.isArray(p[m])?p[m].push(this._parseByType(e.propertiesTypes[m])):(p[m]=[p[m]],p[m].push(this._parseByType(e.propertiesTypes[m]))):p[m]=this._parseByType(e.propertiesTypes[m])}return p}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new u,this._pos=0,!0}_emitError(i){r("_emitError",i),this.error=i,this.emit("error",i)}};s.exports=t}),uu=ge((a,s)=>{ue(),fe(),ce();var{Buffer:o}=(Le(),Pe(Ue)),l=65536,u={},e=o.isBuffer(o.from([1,2]).subarray(0,1));function r(c){let p=o.allocUnsafe(2);return p.writeUInt8(c>>8,0),p.writeUInt8(c&255,1),p}function t(){for(let c=0;c<l;c++)u[c]=r(c)}function n(c){let p=0,g=0,m=o.allocUnsafe(4);do p=c%128|0,c=c/128|0,c>0&&(p=p|128),m.writeUInt8(p,g++);while(c>0&&g<4);return c>0&&(g=0),e?m.subarray(0,g):m.slice(0,g)}function i(c){let p=o.allocUnsafe(4);return p.writeUInt32BE(c,0),p}s.exports={cache:u,generateCache:t,generateNumber:r,genBufVariableByteInt:n,generate4ByteBuffer:i}}),cu=ge((a,s)=>{ue(),fe(),ce(),typeof Ce>"u"||!Ce.version||Ce.version.indexOf("v0.")===0||Ce.version.indexOf("v1.")===0&&Ce.version.indexOf("v1.8.")!==0?s.exports={nextTick:o}:s.exports=Ce;function o(l,u,e,r){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var t=arguments.length,n,i;switch(t){case 0:case 1:return Ce.nextTick(l);case 2:return Ce.nextTick(function(){l.call(null,u)});case 3:return Ce.nextTick(function(){l.call(null,u,e)});case 4:return Ce.nextTick(function(){l.call(null,u,e,r)});default:for(n=new Array(t-1),i=0;i<n.length;)n[i++]=arguments[i];return Ce.nextTick(function(){l.apply(null,n)})}}}),va=ge((a,s)=>{ue(),fe(),ce();var o=ma(),{Buffer:l}=(Le(),Pe(Ue)),u=l.allocUnsafe(0),e=l.from([0]),r=uu(),t=cu().nextTick,n=dt()("mqtt-packet:writeToStream"),i=r.cache,c=r.generateNumber,p=r.generateCache,g=r.genBufVariableByteInt,m=r.generate4ByteBuffer,h=Q,y=!0;function b(K,N,ne){switch(n("generate called"),N.cork&&(N.cork(),t(S,N)),y&&(y=!1,p()),n("generate: packet.cmd: %s",K.cmd),K.cmd){case"connect":return d(K,N);case"connack":return w(K,N,ne);case"publish":return E(K,N,ne);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(K,N,ne);case"subscribe":return I(K,N,ne);case"suback":return A(K,N,ne);case"unsubscribe":return k(K,N,ne);case"unsuback":return R(K,N,ne);case"pingreq":case"pingresp":return P(K,N);case"disconnect":return B(K,N,ne);case"auth":return T(K,N,ne);default:return N.destroy(new Error("Unknown command")),!1}}Object.defineProperty(b,"cacheNumbers",{get(){return h===Q},set(K){K?((!i||Object.keys(i).length===0)&&(y=!0),h=Q):(y=!1,h=V)}});function S(K){K.uncork()}function d(K,N,ne){let z=K||{},G=z.protocolId||"MQTT",J=z.protocolVersion||4,be=z.will,se=z.clean,M=z.keepalive||0,$=z.clientId||"",te=z.username,pe=z.password,de=z.properties;se===void 0&&(se=!0);let me=0;if(typeof G!="string"&&!l.isBuffer(G))return N.destroy(new Error("Invalid protocolId")),!1;if(me+=G.length+2,J!==3&&J!==4&&J!==5)return N.destroy(new Error("Invalid protocol version")),!1;if(me+=1,(typeof $=="string"||l.isBuffer($))&&($||J>=4)&&($||se))me+=l.byteLength($)+2;else{if(J<4)return N.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(se*1===0)return N.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof M!="number"||M<0||M>65535||M%1!==0)return N.destroy(new Error("Invalid keepalive")),!1;me+=2,me+=1;let q,ye;if(J===5){if(q=ee(N,de),!q)return!1;me+=q.length}if(be){if(typeof be!="object")return N.destroy(new Error("Invalid will")),!1;if(!be.topic||typeof be.topic!="string")return N.destroy(new Error("Invalid will topic")),!1;if(me+=l.byteLength(be.topic)+2,me+=2,be.payload)if(be.payload.length>=0)typeof be.payload=="string"?me+=l.byteLength(be.payload):me+=be.payload.length;else return N.destroy(new Error("Invalid will payload")),!1;if(ye={},J===5){if(ye=ee(N,be.properties),!ye)return!1;me+=ye.length}}let we=!1;if(te!=null)if(ve(te))we=!0,me+=l.byteLength(te)+2;else return N.destroy(new Error("Invalid username")),!1;if(pe!=null){if(!we)return N.destroy(new Error("Username is required to use password")),!1;if(ve(pe))me+=Z(pe)+2;else return N.destroy(new Error("Invalid password")),!1}N.write(o.CONNECT_HEADER),L(N,me),F(N,G),z.bridgeMode&&(J+=128),N.write(J===131?o.VERSION131:J===132?o.VERSION132:J===4?o.VERSION4:J===5?o.VERSION5:o.VERSION3);let le=0;return le|=te!=null?o.USERNAME_MASK:0,le|=pe!=null?o.PASSWORD_MASK:0,le|=be&&be.retain?o.WILL_RETAIN_MASK:0,le|=be&&be.qos?be.qos<<o.WILL_QOS_SHIFT:0,le|=be?o.WILL_FLAG_MASK:0,le|=se?o.CLEAN_SESSION_MASK:0,N.write(l.from([le])),h(N,M),J===5&&q.write(),F(N,$),be&&(J===5&&ye.write(),U(N,be.topic),F(N,be.payload)),te!=null&&F(N,te),pe!=null&&F(N,pe),!0}function w(K,N,ne){let z=ne?ne.protocolVersion:4,G=K||{},J=z===5?G.reasonCode:G.returnCode,be=G.properties,se=2;if(typeof J!="number")return N.destroy(new Error("Invalid return code")),!1;let M=null;if(z===5){if(M=ee(N,be),!M)return!1;se+=M.length}return N.write(o.CONNACK_HEADER),L(N,se),N.write(G.sessionPresent?o.SESSIONPRESENT_HEADER:e),N.write(l.from([J])),M?.write(),!0}function E(K,N,ne){n("publish: packet: %o",K);let z=ne?ne.protocolVersion:4,G=K||{},J=G.qos||0,be=G.retain?o.RETAIN_MASK:0,se=G.topic,M=G.payload||u,$=G.messageId,te=G.properties,pe=0;if(typeof se=="string")pe+=l.byteLength(se)+2;else if(l.isBuffer(se))pe+=se.length+2;else return N.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(M)?pe+=M.length:pe+=l.byteLength(M),J&&typeof $!="number")return N.destroy(new Error("Invalid messageId")),!1;J&&(pe+=2);let de=null;if(z===5){if(de=ee(N,te),!de)return!1;pe+=de.length}return N.write(o.PUBLISH_HEADER[J][G.dup?1:0][be?1:0]),L(N,pe),h(N,Z(se)),N.write(se),J>0&&h(N,$),de?.write(),n("publish: payload: %o",M),N.write(M)}function v(K,N,ne){let z=ne?ne.protocolVersion:4,G=K||{},J=G.cmd||"puback",be=G.messageId,se=G.dup&&J==="pubrel"?o.DUP_MASK:0,M=0,$=G.reasonCode,te=G.properties,pe=z===5?3:2;if(J==="pubrel"&&(M=1),typeof be!="number")return N.destroy(new Error("Invalid messageId")),!1;let de=null;if(z===5&&typeof te=="object"){if(de=C(N,te,ne,pe),!de)return!1;pe+=de.length}return N.write(o.ACKS[J][M][se][0]),pe===3&&(pe+=$!==0?1:-1),L(N,pe),h(N,be),z===5&&pe!==2&&N.write(l.from([$])),de!==null?de.write():pe===4&&N.write(l.from([0])),!0}function I(K,N,ne){n("subscribe: packet: ");let z=ne?ne.protocolVersion:4,G=K||{},J=G.dup?o.DUP_MASK:0,be=G.messageId,se=G.subscriptions,M=G.properties,$=0;if(typeof be!="number")return N.destroy(new Error("Invalid messageId")),!1;$+=2;let te=null;if(z===5){if(te=ee(N,M),!te)return!1;$+=te.length}if(typeof se=="object"&&se.length)for(let de=0;de<se.length;de+=1){let me=se[de].topic,q=se[de].qos;if(typeof me!="string")return N.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof q!="number")return N.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(z===5){if(typeof(se[de].nl||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(se[de].rap||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let ye=se[de].rh||0;if(typeof ye!="number"||ye>2)return N.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}$+=l.byteLength(me)+2+1}else return N.destroy(new Error("Invalid subscriptions")),!1;n("subscribe: writing to stream: %o",o.SUBSCRIBE_HEADER),N.write(o.SUBSCRIBE_HEADER[1][J?1:0][0]),L(N,$),h(N,be),te!==null&&te.write();let pe=!0;for(let de of se){let me=de.topic,q=de.qos,ye=+de.nl,we=+de.rap,le=de.rh,Te;U(N,me),Te=o.SUBSCRIBE_OPTIONS_QOS[q],z===5&&(Te|=ye?o.SUBSCRIBE_OPTIONS_NL:0,Te|=we?o.SUBSCRIBE_OPTIONS_RAP:0,Te|=le?o.SUBSCRIBE_OPTIONS_RH[le]:0),pe=N.write(l.from([Te]))}return pe}function A(K,N,ne){let z=ne?ne.protocolVersion:4,G=K||{},J=G.messageId,be=G.granted,se=G.properties,M=0;if(typeof J!="number")return N.destroy(new Error("Invalid messageId")),!1;if(M+=2,typeof be=="object"&&be.length)for(let te=0;te<be.length;te+=1){if(typeof be[te]!="number")return N.destroy(new Error("Invalid qos vector")),!1;M+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let $=null;if(z===5){if($=C(N,se,ne,M),!$)return!1;M+=$.length}return N.write(o.SUBACK_HEADER),L(N,M),h(N,J),$!==null&&$.write(),N.write(l.from(be))}function k(K,N,ne){let z=ne?ne.protocolVersion:4,G=K||{},J=G.messageId,be=G.dup?o.DUP_MASK:0,se=G.unsubscriptions,M=G.properties,$=0;if(typeof J!="number")return N.destroy(new Error("Invalid messageId")),!1;if($+=2,typeof se=="object"&&se.length)for(let de=0;de<se.length;de+=1){if(typeof se[de]!="string")return N.destroy(new Error("Invalid unsubscriptions")),!1;$+=l.byteLength(se[de])+2}else return N.destroy(new Error("Invalid unsubscriptions")),!1;let te=null;if(z===5){if(te=ee(N,M),!te)return!1;$+=te.length}N.write(o.UNSUBSCRIBE_HEADER[1][be?1:0][0]),L(N,$),h(N,J),te!==null&&te.write();let pe=!0;for(let de=0;de<se.length;de++)pe=U(N,se[de]);return pe}function R(K,N,ne){let z=ne?ne.protocolVersion:4,G=K||{},J=G.messageId,be=G.dup?o.DUP_MASK:0,se=G.granted,M=G.properties,$=G.cmd,te=0,pe=2;if(typeof J!="number")return N.destroy(new Error("Invalid messageId")),!1;if(z===5)if(typeof se=="object"&&se.length)for(let me=0;me<se.length;me+=1){if(typeof se[me]!="number")return N.destroy(new Error("Invalid qos vector")),!1;pe+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let de=null;if(z===5){if(de=C(N,M,ne,pe),!de)return!1;pe+=de.length}return N.write(o.ACKS[$][te][be][0]),L(N,pe),h(N,J),de!==null&&de.write(),z===5&&N.write(l.from(se)),!0}function P(K,N,ne){return N.write(o.EMPTY[K.cmd])}function B(K,N,ne){let z=ne?ne.protocolVersion:4,G=K||{},J=G.reasonCode,be=G.properties,se=z===5?1:0,M=null;if(z===5){if(M=C(N,be,ne,se),!M)return!1;se+=M.length}return N.write(l.from([o.codes.disconnect<<4])),L(N,se),z===5&&N.write(l.from([J])),M!==null&&M.write(),!0}function T(K,N,ne){let z=ne?ne.protocolVersion:4,G=K||{},J=G.reasonCode,be=G.properties,se=z===5?1:0;z!==5&&N.destroy(new Error("Invalid mqtt version for auth packet"));let M=C(N,be,ne,se);return M?(se+=M.length,N.write(l.from([o.codes.auth<<4])),L(N,se),N.write(l.from([J])),M!==null&&M.write(),!0):!1}var W={};function L(K,N){if(N>o.VARBYTEINT_MAX)return K.destroy(new Error(`Invalid variable byte integer: ${N}`)),!1;let ne=W[N];return ne||(ne=g(N),N<16384&&(W[N]=ne)),n("writeVarByteInt: writing to stream: %o",ne),K.write(ne)}function U(K,N){let ne=l.byteLength(N);return h(K,ne),n("writeString: %s",N),K.write(N,"utf8")}function ae(K,N,ne){U(K,N),U(K,ne)}function Q(K,N){return n("writeNumberCached: number: %d",N),n("writeNumberCached: %o",i[N]),K.write(i[N])}function V(K,N){let ne=c(N);return n("writeNumberGenerated: %o",ne),K.write(ne)}function re(K,N){let ne=m(N);return n("write4ByteNumber: %o",ne),K.write(ne)}function F(K,N){typeof N=="string"?U(K,N):N?(h(K,N.length),K.write(N)):h(K,0)}function ee(K,N){if(typeof N!="object"||N.length!=null)return{length:1,write(){oe(K,{},0)}};let ne=0;function z(G,J){let be=o.propertiesTypes[G],se=0;switch(be){case"byte":{if(typeof J!="boolean")return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=2;break}case"int8":{if(typeof J!="number"||J<0||J>255)return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=2;break}case"binary":{if(J&&J===null)return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=1+l.byteLength(J)+2;break}case"int16":{if(typeof J!="number"||J<0||J>65535)return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=3;break}case"int32":{if(typeof J!="number"||J<0||J>4294967295)return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=5;break}case"var":{if(typeof J!="number"||J<0||J>268435455)return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=1+l.byteLength(g(J));break}case"string":{if(typeof J!="string")return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=3+l.byteLength(J.toString());break}case"pair":{if(typeof J!="object")return K.destroy(new Error(`Invalid ${G}: ${J}`)),!1;se+=Object.getOwnPropertyNames(J).reduce((M,$)=>{let te=J[$];return Array.isArray(te)?M+=te.reduce((pe,de)=>(pe+=3+l.byteLength($.toString())+2+l.byteLength(de.toString()),pe),0):M+=3+l.byteLength($.toString())+2+l.byteLength(J[$].toString()),M},0);break}default:return K.destroy(new Error(`Invalid property ${G}: ${J}`)),!1}return se}if(N)for(let G in N){let J=0,be=0,se=N[G];if(se!==void 0){if(Array.isArray(se))for(let M=0;M<se.length;M++){if(be=z(G,se[M]),!be)return!1;J+=be}else{if(be=z(G,se),!be)return!1;J=be}if(!J)return!1;ne+=J}}return{length:l.byteLength(g(ne))+ne,write(){oe(K,N,ne)}}}function C(K,N,ne,z){let G=["reasonString","userProperties"],J=ne&&ne.properties&&ne.properties.maximumPacketSize?ne.properties.maximumPacketSize:0,be=ee(K,N);if(J)for(;z+be.length>J;){let se=G.shift();if(se&&N[se])delete N[se],be=ee(K,N);else return!1}return be}function Y(K,N,ne){switch(o.propertiesTypes[N]){case"byte":{K.write(l.from([o.properties[N]])),K.write(l.from([+ne]));break}case"int8":{K.write(l.from([o.properties[N]])),K.write(l.from([ne]));break}case"binary":{K.write(l.from([o.properties[N]])),F(K,ne);break}case"int16":{K.write(l.from([o.properties[N]])),h(K,ne);break}case"int32":{K.write(l.from([o.properties[N]])),re(K,ne);break}case"var":{K.write(l.from([o.properties[N]])),L(K,ne);break}case"string":{K.write(l.from([o.properties[N]])),U(K,ne);break}case"pair":{Object.getOwnPropertyNames(ne).forEach(z=>{let G=ne[z];Array.isArray(G)?G.forEach(J=>{K.write(l.from([o.properties[N]])),ae(K,z.toString(),J.toString())}):(K.write(l.from([o.properties[N]])),ae(K,z.toString(),G.toString()))});break}default:return K.destroy(new Error(`Invalid property ${N} value: ${ne}`)),!1}}function oe(K,N,ne){L(K,ne);for(let z in N)if(Object.prototype.hasOwnProperty.call(N,z)&&N[z]!=null){let G=N[z];if(Array.isArray(G))for(let J=0;J<G.length;J++)Y(K,z,G[J]);else Y(K,z,G)}}function Z(K){return K?K instanceof l?K.length:l.byteLength(K):0}function ve(K){return typeof K=="string"||K instanceof l}s.exports=b}),fu=ge((a,s)=>{ue(),fe(),ce();var o=va(),{EventEmitter:l}=(jt(),Pe(It)),{Buffer:u}=(Le(),Pe(Ue));function e(t,n){let i=new r;return o(t,i,n),i.concat()}var r=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(t){return this._array[this._i++]=t,!0}concat(){let t=0,n=new Array(this._array.length),i=this._array,c=0,p;for(p=0;p<i.length&&i[p]!==void 0;p++)typeof i[p]!="string"?n[p]=i[p].length:n[p]=u.byteLength(i[p]),t+=n[p];let g=u.allocUnsafe(t);for(p=0;p<i.length&&i[p]!==void 0;p++)typeof i[p]!="string"?(i[p].copy(g,c),c+=n[p]):(g.write(i[p],c),c+=n[p]);return g}destroy(t){t&&this.emit("error",t)}};s.exports=e}),hu=ge(a=>{ue(),fe(),ce(),a.parser=lu().parser,a.generate=fu(),a.writeToStream=va()}),pu=ge((a,s)=>{ue(),fe(),ce(),s.exports=l;function o(e){return e instanceof Hr?Hr.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function l(e){if(e=e||{},e.circles)return u(e);let r=new Map;if(r.set(Date,p=>new Date(p)),r.set(Map,(p,g)=>new Map(n(Array.from(p),g))),r.set(Set,(p,g)=>new Set(n(Array.from(p),g))),e.constructorHandlers)for(let p of e.constructorHandlers)r.set(p[0],p[1]);let t=null;return e.proto?c:i;function n(p,g){let m=Object.keys(p),h=new Array(m.length);for(let y=0;y<m.length;y++){let b=m[y],S=p[b];typeof S!="object"||S===null?h[b]=S:S.constructor!==Object&&(t=r.get(S.constructor))?h[b]=t(S,g):ArrayBuffer.isView(S)?h[b]=o(S):h[b]=g(S)}return h}function i(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return n(p,i);if(p.constructor!==Object&&(t=r.get(p.constructor)))return t(p,i);let g={};for(let m in p){if(Object.hasOwnProperty.call(p,m)===!1)continue;let h=p[m];typeof h!="object"||h===null?g[m]=h:h.constructor!==Object&&(t=r.get(h.constructor))?g[m]=t(h,i):ArrayBuffer.isView(h)?g[m]=o(h):g[m]=i(h)}return g}function c(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return n(p,c);if(p.constructor!==Object&&(t=r.get(p.constructor)))return t(p,c);let g={};for(let m in p){let h=p[m];typeof h!="object"||h===null?g[m]=h:h.constructor!==Object&&(t=r.get(h.constructor))?g[m]=t(h,c):ArrayBuffer.isView(h)?g[m]=o(h):g[m]=c(h)}return g}}function u(e){let r=[],t=[],n=new Map;if(n.set(Date,m=>new Date(m)),n.set(Map,(m,h)=>new Map(c(Array.from(m),h))),n.set(Set,(m,h)=>new Set(c(Array.from(m),h))),e.constructorHandlers)for(let m of e.constructorHandlers)n.set(m[0],m[1]);let i=null;return e.proto?g:p;function c(m,h){let y=Object.keys(m),b=new Array(y.length);for(let S=0;S<y.length;S++){let d=y[S],w=m[d];if(typeof w!="object"||w===null)b[d]=w;else if(w.constructor!==Object&&(i=n.get(w.constructor)))b[d]=i(w,h);else if(ArrayBuffer.isView(w))b[d]=o(w);else{let E=r.indexOf(w);E!==-1?b[d]=t[E]:b[d]=h(w)}}return b}function p(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return c(m,p);if(m.constructor!==Object&&(i=n.get(m.constructor)))return i(m,p);let h={};r.push(m),t.push(h);for(let y in m){if(Object.hasOwnProperty.call(m,y)===!1)continue;let b=m[y];if(typeof b!="object"||b===null)h[y]=b;else if(b.constructor!==Object&&(i=n.get(b.constructor)))h[y]=i(b,p);else if(ArrayBuffer.isView(b))h[y]=o(b);else{let S=r.indexOf(b);S!==-1?h[y]=t[S]:h[y]=p(b)}}return r.pop(),t.pop(),h}function g(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return c(m,g);if(m.constructor!==Object&&(i=n.get(m.constructor)))return i(m,g);let h={};r.push(m),t.push(h);for(let y in m){let b=m[y];if(typeof b!="object"||b===null)h[y]=b;else if(b.constructor!==Object&&(i=n.get(b.constructor)))h[y]=i(b,g);else if(ArrayBuffer.isView(b))h[y]=o(b);else{let S=r.indexOf(b);S!==-1?h[y]=t[S]:h[y]=g(b)}}return r.pop(),t.pop(),h}}}),du=ge((a,s)=>{ue(),fe(),ce(),s.exports=pu()()}),gu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0}),a.validateTopic=s,a.validateTopics=o;function s(l){let u=l.split("/");for(let e=0;e<u.length;e++)if(u[e]!=="+"){if(u[e]==="#")return e===u.length-1;if(u[e].indexOf("+")!==-1||u[e].indexOf("#")!==-1)return!1}return!0}function o(l){if(l.length===0)return"empty_topic_list";for(let u=0;u<l.length;u++)if(!s(l[u]))return l[u];return null}}),wa=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=Bt(),o={objectMode:!0},l={clean:!0},u=class{options;_inflights;constructor(e){this.options=e||{},this.options={...l,...e},this._inflights=new Map}put(e,r){return this._inflights.set(e.messageId,e),r&&r(),this}createStream(){let e=new s.Readable(o),r=[],t=!1,n=0;return this._inflights.forEach((i,c)=>{r.push(i)}),e._read=()=>{!t&&n<r.length?e.push(r[n++]):e.push(null)},e.destroy=i=>{if(!t)return t=!0,setTimeout(()=>{e.emit("close")},0),e},e}del(e,r){let t=this._inflights.get(e.messageId);return t?(this._inflights.delete(e.messageId),r(null,t)):r&&r(new Error("missing packet")),this}get(e,r){let t=this._inflights.get(e.messageId);return t?r(null,t):r&&r(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e()}};a.default=u}),yu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=[0,16,128,131,135,144,145,151,153],o=(l,u,e)=>{l.log("handlePublish: packet %o",u),e=typeof e<"u"?e:l.noop;let r=u.topic.toString(),t=u.payload,{qos:n}=u,{messageId:i}=u,{options:c}=l;if(l.options.protocolVersion===5){let p;if(u.properties&&(p=u.properties.topicAlias),typeof p<"u")if(r.length===0)if(p>0&&p<=65535){let g=l.topicAliasRecv.getTopicByAlias(p);if(g)r=g,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,p);else{l.log("handlePublish :: unregistered topic alias. alias: %d",p),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(r,p))l.log("handlePublish :: registered topic: %s - alias: %d",r,p);else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",n),n){case 2:{c.customHandleAcks(r,t,u,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(s.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));g?l._sendPacket({cmd:"pubrec",messageId:i,reasonCode:g},e):l.incomingStore.put(u,()=>{l._sendPacket({cmd:"pubrec",messageId:i},e)})});break}case 1:{c.customHandleAcks(r,t,u,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(s.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for puback"));g||l.emit("message",r,t,u),l.handleMessage(u,m=>{if(m)return e&&e(m);l._sendPacket({cmd:"puback",messageId:i,reasonCode:g},e)})});break}case 0:l.emit("message",r,t,u),l.handleMessage(u,e);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};a.default=o}),bu=ge((a,s)=>{s.exports={version:"5.14.0"}}),zt=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0}),a.MQTTJS_VERSION=a.nextTick=a.ErrorWithSubackPacket=a.ErrorWithReasonCode=void 0,a.applyMixin=l;var s=class _a extends Error{code;constructor(e,r){super(e),this.code=r,Object.setPrototypeOf(this,_a.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};a.ErrorWithReasonCode=s;var o=class Sa extends Error{packet;constructor(e,r){super(e),this.packet=r,Object.setPrototypeOf(this,Sa.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};a.ErrorWithSubackPacket=o;function l(u,e,r=!1){let t=[e];for(;;){let n=t[0],i=Object.getPrototypeOf(n);if(i?.prototype)t.unshift(i);else break}for(let n of t)for(let i of Object.getOwnPropertyNames(n.prototype))(r||i!=="constructor")&&Object.defineProperty(u.prototype,i,Object.getOwnPropertyDescriptor(n.prototype,i)??Object.create(null))}a.nextTick=typeof Ce?.nextTick=="function"?Ce.nextTick:u=>{setTimeout(u,0)},a.MQTTJS_VERSION=bu().version}),Xr=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=void 0;var s=zt();a.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var o=(l,u)=>{let{messageId:e}=u,r=u.cmd,t=null,n=l.outgoing[e]?l.outgoing[e].cb:null,i=null;if(!n){l.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(l.log("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{let c=u.reasonCode;c&&c>0&&c!==16?(i=new s.ErrorWithReasonCode(`Publish error: ${a.ReasonCodes[c]}`,c),l._removeOutgoingAndStoreMessage(e,()=>{n(i,u)})):l._removeOutgoingAndStoreMessage(e,n);break}case"pubrec":{t={cmd:"pubrel",qos:2,messageId:e};let c=u.reasonCode;c&&c>0&&c!==16?(i=new s.ErrorWithReasonCode(`Publish error: ${a.ReasonCodes[c]}`,c),l._removeOutgoingAndStoreMessage(e,()=>{n(i,u)})):l._sendPacket(t);break}case"suback":{delete l.outgoing[e],l.messageIdProvider.deallocate(e);let c=u.granted;for(let p=0;p<c.length;p++){let g=c[p];if((g&128)!==0){i=new Error(`Subscribe error: ${a.ReasonCodes[g]}`),i.code=g;let m=l.messageIdToTopic[e];m&&m.forEach(h=>{delete l._resubscribeTopics[h]})}}delete l.messageIdToTopic[e],l._invokeStoreProcessingQueue(),n(i,u);break}case"unsuback":{delete l.outgoing[e],l.messageIdProvider.deallocate(e),l._invokeStoreProcessingQueue(),n(null,u);break}default:l.emit("error",new Error("unrecognized packet type"))}l.disconnecting&&Object.keys(l.outgoing).length===0&&l.emit("outgoingEmpty")};a.default=o}),mu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=zt(),o=Xr(),l=(u,e)=>{let{options:r}=u,t=r.protocolVersion,n=t===5?e.reasonCode:e.returnCode;if(t!==5){let i=new s.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${t}`,n);u.emit("error",i);return}u.handleAuth(e,(i,c)=>{if(i){u.emit("error",i);return}if(n===24)u.reconnecting=!1,u._sendPacket(c);else{let p=new s.ErrorWithReasonCode(`Connection refused: ${o.ReasonCodes[n]}`,n);u.emit("error",p)}})};a.default=l}),vu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0}),a.LRUCache=void 0;var s=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,o=new Set,l=typeof Ce=="object"&&Ce?Ce:{},u=(m,h,y,b)=>{typeof l.emitWarning=="function"?l.emitWarning(m,h,y,b):console.error(`[${y}] ${h}: ${m}`)},e=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof e>"u"){r=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(y,b){this._onabort.push(b)}},e=class{constructor(){h()}signal=new r;abort(y){if(!this.signal.aborted){this.signal.reason=y,this.signal.aborted=!0;for(let b of this.signal._onabort)b(y);this.signal.onabort?.(y)}}};let m=l.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",h=()=>{m&&(m=!1,u("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",h))}}var t=m=>!o.has(m),n=m=>m&&m===Math.floor(m)&&m>0&&isFinite(m),i=m=>n(m)?m<=Math.pow(2,8)?Uint8Array:m<=Math.pow(2,16)?Uint16Array:m<=Math.pow(2,32)?Uint32Array:m<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(m){super(m),this.fill(0)}},p=class er{heap;length;static#l=!1;static create(h){let y=i(h);if(!y)return[];er.#l=!0;let b=new er(h,y);return er.#l=!1,b}constructor(h,y){if(!er.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new y(h),this.length=0}push(h){this.heap[this.length++]=h}pop(){return this.heap[--this.length]}},g=class Ea{#l;#f;#g;#y;#P;#C;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#b;#n;#r;#e;#u;#h;#a;#o;#m;#s;#v;#w;#p;#_;#x;#c;static unsafeExposeInternals(h){return{starts:h.#w,ttls:h.#p,sizes:h.#v,keyMap:h.#n,keyList:h.#r,valList:h.#e,next:h.#u,prev:h.#h,get head(){return h.#a},get tail(){return h.#o},free:h.#m,isBackgroundFetch:y=>h.#t(y),backgroundFetch:(y,b,S,d)=>h.#j(y,b,S,d),moveToTail:y=>h.#O(y),indexes:y=>h.#S(y),rindexes:y=>h.#E(y),isStale:y=>h.#d(y)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#b}get size(){return this.#i}get fetchMethod(){return this.#P}get memoMethod(){return this.#C}get dispose(){return this.#g}get disposeAfter(){return this.#y}constructor(h){let{max:y=0,ttl:b,ttlResolution:S=1,ttlAutopurge:d,updateAgeOnGet:w,updateAgeOnHas:E,allowStale:v,dispose:I,disposeAfter:A,noDisposeOnSet:k,noUpdateTTL:R,maxSize:P=0,maxEntrySize:B=0,sizeCalculation:T,fetchMethod:W,memoMethod:L,noDeleteOnFetchRejection:U,noDeleteOnStaleGet:ae,allowStaleOnFetchRejection:Q,allowStaleOnFetchAbort:V,ignoreFetchAbort:re}=h;if(y!==0&&!n(y))throw new TypeError("max option must be a nonnegative integer");let F=y?i(y):Array;if(!F)throw new Error("invalid max value: "+y);if(this.#l=y,this.#f=P,this.maxEntrySize=B||this.#f,this.sizeCalculation=T,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(L!==void 0&&typeof L!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#C=L,W!==void 0&&typeof W!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#P=W,this.#x=!!W,this.#n=new Map,this.#r=new Array(y).fill(void 0),this.#e=new Array(y).fill(void 0),this.#u=new F(y),this.#h=new F(y),this.#a=0,this.#o=0,this.#m=p.create(y),this.#i=0,this.#b=0,typeof I=="function"&&(this.#g=I),typeof A=="function"?(this.#y=A,this.#s=[]):(this.#y=void 0,this.#s=void 0),this.#_=!!this.#g,this.#c=!!this.#y,this.noDisposeOnSet=!!k,this.noUpdateTTL=!!R,this.noDeleteOnFetchRejection=!!U,this.allowStaleOnFetchRejection=!!Q,this.allowStaleOnFetchAbort=!!V,this.ignoreFetchAbort=!!re,this.maxEntrySize!==0){if(this.#f!==0&&!n(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!n(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#W()}if(this.allowStale=!!v,this.noDeleteOnStaleGet=!!ae,this.updateAgeOnGet=!!w,this.updateAgeOnHas=!!E,this.ttlResolution=n(S)||S===0?S:1,this.ttlAutopurge=!!d,this.ttl=b||0,this.ttl){if(!n(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let ee="LRU_CACHE_UNBOUNDED";t(ee)&&(o.add(ee),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ee,Ea))}}getRemainingTTL(h){return this.#n.has(h)?1/0:0}#N(){let h=new c(this.#l),y=new c(this.#l);this.#p=h,this.#w=y,this.#B=(d,w,E=s.now())=>{if(y[d]=w!==0?E:0,h[d]=w,w!==0&&this.ttlAutopurge){let v=setTimeout(()=>{this.#d(d)&&this.#A(this.#r[d],"expire")},w+1);v.unref&&v.unref()}},this.#k=d=>{y[d]=h[d]!==0?s.now():0},this.#I=(d,w)=>{if(h[w]){let E=h[w],v=y[w];if(!E||!v)return;d.ttl=E,d.start=v,d.now=b||S();let I=d.now-v;d.remainingTTL=E-I}};let b=0,S=()=>{let d=s.now();if(this.ttlResolution>0){b=d;let w=setTimeout(()=>b=0,this.ttlResolution);w.unref&&w.unref()}return d};this.getRemainingTTL=d=>{let w=this.#n.get(d);if(w===void 0)return 0;let E=h[w],v=y[w];if(!E||!v)return 1/0;let I=(b||S())-v;return E-I},this.#d=d=>{let w=y[d],E=h[d];return!!E&&!!w&&(b||S())-w>E}}#k=()=>{};#I=()=>{};#B=()=>{};#d=()=>!1;#W(){let h=new c(this.#l);this.#b=0,this.#v=h,this.#T=y=>{this.#b-=h[y],h[y]=0},this.#U=(y,b,S,d)=>{if(this.#t(b))return 0;if(!n(S))if(d){if(typeof d!="function")throw new TypeError("sizeCalculation must be a function");if(S=d(b,y),!n(S))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return S},this.#R=(y,b,S)=>{if(h[y]=b,this.#f){let d=this.#f-h[y];for(;this.#b>d;)this.#M(!0)}this.#b+=h[y],S&&(S.entrySize=b,S.totalCalculatedSize=this.#b)}}#T=h=>{};#R=(h,y,b)=>{};#U=(h,y,b,S)=>{if(b||S)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:h=this.allowStale}={}){if(this.#i)for(let y=this.#o;!(!this.#L(y)||((h||!this.#d(y))&&(yield y),y===this.#a));)y=this.#h[y]}*#E({allowStale:h=this.allowStale}={}){if(this.#i)for(let y=this.#a;!(!this.#L(y)||((h||!this.#d(y))&&(yield y),y===this.#o));)y=this.#u[y]}#L(h){return h!==void 0&&this.#n.get(this.#r[h])===h}*entries(){for(let h of this.#S())this.#e[h]!==void 0&&this.#r[h]!==void 0&&!this.#t(this.#e[h])&&(yield[this.#r[h],this.#e[h]])}*rentries(){for(let h of this.#E())this.#e[h]!==void 0&&this.#r[h]!==void 0&&!this.#t(this.#e[h])&&(yield[this.#r[h],this.#e[h]])}*keys(){for(let h of this.#S()){let y=this.#r[h];y!==void 0&&!this.#t(this.#e[h])&&(yield y)}}*rkeys(){for(let h of this.#E()){let y=this.#r[h];y!==void 0&&!this.#t(this.#e[h])&&(yield y)}}*values(){for(let h of this.#S())this.#e[h]!==void 0&&!this.#t(this.#e[h])&&(yield this.#e[h])}*rvalues(){for(let h of this.#E())this.#e[h]!==void 0&&!this.#t(this.#e[h])&&(yield this.#e[h])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(h,y={}){for(let b of this.#S()){let S=this.#e[b],d=this.#t(S)?S.__staleWhileFetching:S;if(d!==void 0&&h(d,this.#r[b],this))return this.get(this.#r[b],y)}}forEach(h,y=this){for(let b of this.#S()){let S=this.#e[b],d=this.#t(S)?S.__staleWhileFetching:S;d!==void 0&&h.call(y,d,this.#r[b],this)}}rforEach(h,y=this){for(let b of this.#E()){let S=this.#e[b],d=this.#t(S)?S.__staleWhileFetching:S;d!==void 0&&h.call(y,d,this.#r[b],this)}}purgeStale(){let h=!1;for(let y of this.#E({allowStale:!0}))this.#d(y)&&(this.#A(this.#r[y],"expire"),h=!0);return h}info(h){let y=this.#n.get(h);if(y===void 0)return;let b=this.#e[y],S=this.#t(b)?b.__staleWhileFetching:b;if(S===void 0)return;let d={value:S};if(this.#p&&this.#w){let w=this.#p[y],E=this.#w[y];if(w&&E){let v=w-(s.now()-E);d.ttl=v,d.start=Date.now()}}return this.#v&&(d.size=this.#v[y]),d}dump(){let h=[];for(let y of this.#S({allowStale:!0})){let b=this.#r[y],S=this.#e[y],d=this.#t(S)?S.__staleWhileFetching:S;if(d===void 0||b===void 0)continue;let w={value:d};if(this.#p&&this.#w){w.ttl=this.#p[y];let E=s.now()-this.#w[y];w.start=Math.floor(Date.now()-E)}this.#v&&(w.size=this.#v[y]),h.unshift([b,w])}return h}load(h){this.clear();for(let[y,b]of h){if(b.start){let S=Date.now()-b.start;b.start=s.now()-S}this.set(y,b.value,b)}}set(h,y,b={}){if(y===void 0)return this.delete(h),this;let{ttl:S=this.ttl,start:d,noDisposeOnSet:w=this.noDisposeOnSet,sizeCalculation:E=this.sizeCalculation,status:v}=b,{noUpdateTTL:I=this.noUpdateTTL}=b,A=this.#U(h,y,b.size||0,E);if(this.maxEntrySize&&A>this.maxEntrySize)return v&&(v.set="miss",v.maxEntrySizeExceeded=!0),this.#A(h,"set"),this;let k=this.#i===0?void 0:this.#n.get(h);if(k===void 0)k=this.#i===0?this.#o:this.#m.length!==0?this.#m.pop():this.#i===this.#l?this.#M(!1):this.#i,this.#r[k]=h,this.#e[k]=y,this.#n.set(h,k),this.#u[this.#o]=k,this.#h[k]=this.#o,this.#o=k,this.#i++,this.#R(k,A,v),v&&(v.set="add"),I=!1;else{this.#O(k);let R=this.#e[k];if(y!==R){if(this.#x&&this.#t(R)){R.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:P}=R;P!==void 0&&!w&&(this.#_&&this.#g?.(P,h,"set"),this.#c&&this.#s?.push([P,h,"set"]))}else w||(this.#_&&this.#g?.(R,h,"set"),this.#c&&this.#s?.push([R,h,"set"]));if(this.#T(k),this.#R(k,A,v),this.#e[k]=y,v){v.set="replace";let P=R&&this.#t(R)?R.__staleWhileFetching:R;P!==void 0&&(v.oldValue=P)}}else v&&(v.set="update")}if(S!==0&&!this.#p&&this.#N(),this.#p&&(I||this.#B(k,S,d),v&&this.#I(v,k)),!w&&this.#c&&this.#s){let R=this.#s,P;for(;P=R?.shift();)this.#y?.(...P)}return this}pop(){try{for(;this.#i;){let h=this.#e[this.#a];if(this.#M(!0),this.#t(h)){if(h.__staleWhileFetching)return h.__staleWhileFetching}else if(h!==void 0)return h}}finally{if(this.#c&&this.#s){let h=this.#s,y;for(;y=h?.shift();)this.#y?.(...y)}}}#M(h){let y=this.#a,b=this.#r[y],S=this.#e[y];return this.#x&&this.#t(S)?S.__abortController.abort(new Error("evicted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(S,b,"evict"),this.#c&&this.#s?.push([S,b,"evict"])),this.#T(y),h&&(this.#r[y]=void 0,this.#e[y]=void 0,this.#m.push(y)),this.#i===1?(this.#a=this.#o=0,this.#m.length=0):this.#a=this.#u[y],this.#n.delete(b),this.#i--,y}has(h,y={}){let{updateAgeOnHas:b=this.updateAgeOnHas,status:S}=y,d=this.#n.get(h);if(d!==void 0){let w=this.#e[d];if(this.#t(w)&&w.__staleWhileFetching===void 0)return!1;if(this.#d(d))S&&(S.has="stale",this.#I(S,d));else return b&&this.#k(d),S&&(S.has="hit",this.#I(S,d)),!0}else S&&(S.has="miss");return!1}peek(h,y={}){let{allowStale:b=this.allowStale}=y,S=this.#n.get(h);if(S===void 0||!b&&this.#d(S))return;let d=this.#e[S];return this.#t(d)?d.__staleWhileFetching:d}#j(h,y,b,S){let d=y===void 0?void 0:this.#e[y];if(this.#t(d))return d;let w=new e,{signal:E}=b;E?.addEventListener("abort",()=>w.abort(E.reason),{signal:w.signal});let v={signal:w.signal,options:b,context:S},I=(T,W=!1)=>{let{aborted:L}=w.signal,U=b.ignoreFetchAbort&&T!==void 0;if(b.status&&(L&&!W?(b.status.fetchAborted=!0,b.status.fetchError=w.signal.reason,U&&(b.status.fetchAbortIgnored=!0)):b.status.fetchResolved=!0),L&&!U&&!W)return k(w.signal.reason);let ae=P;return this.#e[y]===P&&(T===void 0?ae.__staleWhileFetching?this.#e[y]=ae.__staleWhileFetching:this.#A(h,"fetch"):(b.status&&(b.status.fetchUpdated=!0),this.set(h,T,v.options))),T},A=T=>(b.status&&(b.status.fetchRejected=!0,b.status.fetchError=T),k(T)),k=T=>{let{aborted:W}=w.signal,L=W&&b.allowStaleOnFetchAbort,U=L||b.allowStaleOnFetchRejection,ae=U||b.noDeleteOnFetchRejection,Q=P;if(this.#e[y]===P&&(!ae||Q.__staleWhileFetching===void 0?this.#A(h,"fetch"):L||(this.#e[y]=Q.__staleWhileFetching)),U)return b.status&&Q.__staleWhileFetching!==void 0&&(b.status.returnedStale=!0),Q.__staleWhileFetching;if(Q.__returned===Q)throw T},R=(T,W)=>{let L=this.#P?.(h,d,v);L&&L instanceof Promise&&L.then(U=>T(U===void 0?void 0:U),W),w.signal.addEventListener("abort",()=>{(!b.ignoreFetchAbort||b.allowStaleOnFetchAbort)&&(T(void 0),b.allowStaleOnFetchAbort&&(T=U=>I(U,!0)))})};b.status&&(b.status.fetchDispatched=!0);let P=new Promise(R).then(I,A),B=Object.assign(P,{__abortController:w,__staleWhileFetching:d,__returned:void 0});return y===void 0?(this.set(h,B,{...v.options,status:void 0}),y=this.#n.get(h)):this.#e[y]=B,B}#t(h){if(!this.#x)return!1;let y=h;return!!y&&y instanceof Promise&&y.hasOwnProperty("__staleWhileFetching")&&y.__abortController instanceof e}async fetch(h,y={}){let{allowStale:b=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:d=this.noDeleteOnStaleGet,ttl:w=this.ttl,noDisposeOnSet:E=this.noDisposeOnSet,size:v=0,sizeCalculation:I=this.sizeCalculation,noUpdateTTL:A=this.noUpdateTTL,noDeleteOnFetchRejection:k=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:R=this.allowStaleOnFetchRejection,ignoreFetchAbort:P=this.ignoreFetchAbort,allowStaleOnFetchAbort:B=this.allowStaleOnFetchAbort,context:T,forceRefresh:W=!1,status:L,signal:U}=y;if(!this.#x)return L&&(L.fetch="get"),this.get(h,{allowStale:b,updateAgeOnGet:S,noDeleteOnStaleGet:d,status:L});let ae={allowStale:b,updateAgeOnGet:S,noDeleteOnStaleGet:d,ttl:w,noDisposeOnSet:E,size:v,sizeCalculation:I,noUpdateTTL:A,noDeleteOnFetchRejection:k,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:B,ignoreFetchAbort:P,status:L,signal:U},Q=this.#n.get(h);if(Q===void 0){L&&(L.fetch="miss");let V=this.#j(h,Q,ae,T);return V.__returned=V}else{let V=this.#e[Q];if(this.#t(V)){let C=b&&V.__staleWhileFetching!==void 0;return L&&(L.fetch="inflight",C&&(L.returnedStale=!0)),C?V.__staleWhileFetching:V.__returned=V}let re=this.#d(Q);if(!W&&!re)return L&&(L.fetch="hit"),this.#O(Q),S&&this.#k(Q),L&&this.#I(L,Q),V;let F=this.#j(h,Q,ae,T),ee=F.__staleWhileFetching!==void 0&&b;return L&&(L.fetch=re?"stale":"refresh",ee&&re&&(L.returnedStale=!0)),ee?F.__staleWhileFetching:F.__returned=F}}async forceFetch(h,y={}){let b=await this.fetch(h,y);if(b===void 0)throw new Error("fetch() returned undefined");return b}memo(h,y={}){let b=this.#C;if(!b)throw new Error("no memoMethod provided to constructor");let{context:S,forceRefresh:d,...w}=y,E=this.get(h,w);if(!d&&E!==void 0)return E;let v=b(h,E,{options:w,context:S});return this.set(h,v,w),v}get(h,y={}){let{allowStale:b=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:d=this.noDeleteOnStaleGet,status:w}=y,E=this.#n.get(h);if(E!==void 0){let v=this.#e[E],I=this.#t(v);return w&&this.#I(w,E),this.#d(E)?(w&&(w.get="stale"),I?(w&&b&&v.__staleWhileFetching!==void 0&&(w.returnedStale=!0),b?v.__staleWhileFetching:void 0):(d||this.#A(h,"expire"),w&&b&&(w.returnedStale=!0),b?v:void 0)):(w&&(w.get="hit"),I?v.__staleWhileFetching:(this.#O(E),S&&this.#k(E),v))}else w&&(w.get="miss")}#D(h,y){this.#h[y]=h,this.#u[h]=y}#O(h){h!==this.#o&&(h===this.#a?this.#a=this.#u[h]:this.#D(this.#h[h],this.#u[h]),this.#D(this.#o,h),this.#o=h)}delete(h){return this.#A(h,"delete")}#A(h,y){let b=!1;if(this.#i!==0){let S=this.#n.get(h);if(S!==void 0)if(b=!0,this.#i===1)this.#F(y);else{this.#T(S);let d=this.#e[S];if(this.#t(d)?d.__abortController.abort(new Error("deleted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(d,h,y),this.#c&&this.#s?.push([d,h,y])),this.#n.delete(h),this.#r[S]=void 0,this.#e[S]=void 0,S===this.#o)this.#o=this.#h[S];else if(S===this.#a)this.#a=this.#u[S];else{let w=this.#h[S];this.#u[w]=this.#u[S];let E=this.#u[S];this.#h[E]=this.#h[S]}this.#i--,this.#m.push(S)}}if(this.#c&&this.#s?.length){let S=this.#s,d;for(;d=S?.shift();)this.#y?.(...d)}return b}clear(){return this.#F("delete")}#F(h){for(let y of this.#E({allowStale:!0})){let b=this.#e[y];if(this.#t(b))b.__abortController.abort(new Error("deleted"));else{let S=this.#r[y];this.#_&&this.#g?.(b,S,h),this.#c&&this.#s?.push([b,S,h])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#p&&this.#w&&(this.#p.fill(0),this.#w.fill(0)),this.#v&&this.#v.fill(0),this.#a=0,this.#o=0,this.#m.length=0,this.#b=0,this.#i=0,this.#c&&this.#s){let y=this.#s,b;for(;b=y?.shift();)this.#y?.(...b)}}};a.LRUCache=g}),yt=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.ContainerIterator=a.Container=a.Base=void 0;var s=class{constructor(u=0){this.iteratorType=u}equals(u){return this.o===u.o}};a.ContainerIterator=s;var o=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};a.Base=o;var l=class extends o{};a.Container=l}),wu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=yt(),o=class extends s.Base{constructor(u=[]){super(),this.S=[];let e=this;u.forEach(function(r){e.push(r)})}clear(){this.i=0,this.S=[]}push(u){return this.S.push(u),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=o;a.default=l}),_u=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=yt(),o=class extends s.Base{constructor(u=[]){super(),this.j=0,this.q=[];let e=this;u.forEach(function(r){e.push(r)})}clear(){this.q=[],this.i=this.j=0}push(u){let e=this.q.length;if(this.j/e>.5&&this.j+this.i>=e&&e>4096){let r=this.i;for(let t=0;t<r;++t)this.q[t]=this.q[this.j+t];this.j=0,this.q[this.i]=u}else this.q[this.j+this.i]=u;return++this.i}pop(){if(this.i===0)return;let u=this.q[this.j++];return this.i-=1,u}front(){if(this.i!==0)return this.q[this.j]}},l=o;a.default=l}),Su=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=yt(),o=class extends s.Base{constructor(u=[],e=function(t,n){return t>n?-1:t<n?1:0},r=!0){if(super(),this.v=e,Array.isArray(u))this.C=r?[...u]:u;else{this.C=[];let n=this;u.forEach(function(i){n.C.push(i)})}this.i=this.C.length;let t=this.i>>1;for(let n=this.i-1>>1;n>=0;--n)this.k(n,t)}m(u){let e=this.C[u];for(;u>0;){let r=u-1>>1,t=this.C[r];if(this.v(t,e)<=0)break;this.C[u]=t,u=r}this.C[u]=e}k(u,e){let r=this.C[u];for(;u<e;){let t=u<<1|1,n=t+1,i=this.C[t];if(n<this.i&&this.v(i,this.C[n])>0&&(t=n,i=this.C[n]),this.v(i,r)>=0)break;this.C[u]=i,u=t}this.C[u]=r}clear(){this.i=0,this.C.length=0}push(u){this.C.push(u),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let u=this.C[0],e=this.C.pop();return this.i-=1,this.i&&(this.C[0]=e,this.k(0,this.i>>1)),u}top(){return this.C[0]}find(u){return this.C.indexOf(u)>=0}remove(u){let e=this.C.indexOf(u);return e<0?!1:(e===0?this.pop():e===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(e,1,this.C.pop()),this.i-=1,this.m(e),this.k(e,this.i>>1)),!0)}updateItem(u){let e=this.C.indexOf(u);return e<0?!1:(this.m(e),this.k(e,this.i>>1),!0)}toArray(){return[...this.C]}},l=o;a.default=l}),po=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=yt(),o=class extends s.Container{},l=o;a.default=l}),bt=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.throwIteratorAccessError=s;function s(){throw new RangeError("Iterator access denied!")}}),Aa=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.RandomIterator=void 0;var s=yt(),o=bt(),l=class extends s.ContainerIterator{constructor(u,e){super(e),this.o=u,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,o.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,o.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,o.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,o.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(u){this.container.setElementByPos(this.o,u)}};a.RandomIterator=l}),Eu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=l(po()),o=Aa();function l(t){return t&&t.t?t:{default:t}}var u=class Ia extends o.RandomIterator{constructor(n,i,c){super(n,c),this.container=i}copy(){return new Ia(this.o,this.container,this.iteratorType)}},e=class extends s.default{constructor(t=[],n=!0){if(super(),Array.isArray(t))this.J=n?[...t]:t,this.i=t.length;else{this.J=[];let i=this;t.forEach(function(c){i.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;return this.J[t]}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;return this.J.splice(t,1),this.i-=1,this.i}eraseElementByValue(t){let n=0;for(let i=0;i<this.i;++i)this.J[i]!==t&&(this.J[n++]=this.J[i]);return this.i=this.J.length=n,this.i}eraseElementByIterator(t){let n=t.o;return t=t.next(),this.eraseElementByPos(n),t}pushBack(t){return this.J.push(t),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(t,n){if(t<0||t>this.i-1)throw new RangeError;this.J[t]=n}insert(t,n,i=1){if(t<0||t>this.i)throw new RangeError;return this.J.splice(t,0,...new Array(i).fill(n)),this.i+=i,this.i}find(t){for(let n=0;n<this.i;++n)if(this.J[n]===t)return new u(n,this);return this.end()}reverse(){this.J.reverse()}unique(){let t=1;for(let n=1;n<this.i;++n)this.J[n]!==this.J[n-1]&&(this.J[t++]=this.J[n]);return this.i=this.J.length=t,this.i}sort(t){this.J.sort(t)}forEach(t){for(let n=0;n<this.i;++n)t(this.J[n],n,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},r=e;a.default=r}),Au=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=u(po()),o=yt(),l=bt();function u(n){return n&&n.t?n:{default:n}}var e=class xa extends o.ContainerIterator{constructor(i,c,p,g){super(g),this.o=i,this.h=c,this.container=p,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=i}copy(){return new xa(this.o,this.h,this.container,this.iteratorType)}},r=class extends s.default{constructor(n=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;n.forEach(function(c){i.pushBack(c)})}V(n){let{L:i,B:c}=n;i.B=c,c.L=i,n===this.p&&(this.p=c),n===this._&&(this._=i),this.i-=1}G(n,i){let c=i.B,p={l:n,L:i,B:c};i.B=p,c.L=p,i===this.h&&(this.p=p),c===this.h&&(this._=p),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new e(this.p,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this._,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let i=this.p;for(;n--;)i=i.B;return i.l}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let i=this.p;for(;n--;)i=i.B;return this.V(i),this.i}eraseElementByValue(n){let i=this.p;for(;i!==this.h;)i.l===n&&this.V(i),i=i.B;return this.i}eraseElementByIterator(n){let i=n.o;return i===this.h&&(0,l.throwIteratorAccessError)(),n=n.next(),this.V(i),n}pushBack(n){return this.G(n,this._),this.i}popBack(){if(this.i===0)return;let n=this._.l;return this.V(this._),n}pushFront(n){return this.G(n,this.h),this.i}popFront(){if(this.i===0)return;let n=this.p.l;return this.V(this.p),n}setElementByPos(n,i){if(n<0||n>this.i-1)throw new RangeError;let c=this.p;for(;n--;)c=c.B;c.l=i}insert(n,i,c=1){if(n<0||n>this.i)throw new RangeError;if(c<=0)return this.i;if(n===0)for(;c--;)this.pushFront(i);else if(n===this.i)for(;c--;)this.pushBack(i);else{let p=this.p;for(let m=1;m<n;++m)p=p.B;let g=p.B;for(this.i+=c;c--;)p.B={l:i,L:p},p.B.L=p,p=p.B;p.B=g,g.L=p}return this.i}find(n){let i=this.p;for(;i!==this.h;){if(i.l===n)return new e(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let n=this.p,i=this._,c=0;for(;c<<1<this.i;){let p=n.l;n.l=i.l,i.l=p,n=n.B,i=i.L,c+=1}}unique(){if(this.i<=1)return this.i;let n=this.p;for(;n!==this.h;){let i=n;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;n.B=i.B,n.B.L=n,n=n.B}return this.i}sort(n){if(this.i<=1)return;let i=[];this.forEach(function(p){i.push(p)}),i.sort(n);let c=this.p;i.forEach(function(p){c.l=p,c=c.B})}merge(n){let i=this;if(this.i===0)n.forEach(function(c){i.pushBack(c)});else{let c=this.p;n.forEach(function(p){for(;c!==i.h&&c.l<=p;)c=c.B;i.G(p,c.L)})}return this.i}forEach(n){let i=this.p,c=0;for(;i!==this.h;)n(i.l,c++,this),i=i.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let n=this.p;for(;n!==this.h;)yield n.l,n=n.B}.bind(this)()}},t=r;a.default=t}),Iu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=l(po()),o=Aa();function l(t){return t&&t.t?t:{default:t}}var u=class ka extends o.RandomIterator{constructor(n,i,c){super(n,c),this.container=i}copy(){return new ka(this.o,this.container,this.iteratorType)}},e=class extends s.default{constructor(t=[],n=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.size=="function")return t.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=n,this.P=Math.max(Math.ceil(i/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let c=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-i%this.F>>1;let p=this;t.forEach(function(g){p.pushBack(g)})}T(){let t=[],n=Math.max(this.P>>1,1);for(let i=0;i<n;++i)t[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)t[t.length]=this.A[i];for(let i=0;i<this.R;++i)t[t.length]=this.A[i];t[t.length]=[...this.A[this.R]],this.j=n,this.R=t.length-1;for(let i=0;i<n;++i)t[t.length]=new Array(this.F);this.A=t,this.P=t.length}O(t){let n=this.D+t+1,i=n%this.F,c=i-1,p=this.j+(n-i)/this.F;return i===0&&(p-=1),p%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:p,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(t){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=t,this.i}popBack(){if(this.i===0)return;let t=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,t}pushFront(t){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=t,this.i}popFront(){if(this.i===0)return;let t=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,t}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let{curNodeBucketIndex:n,curNodePointerIndex:i}=this.O(t);return this.A[n][i]}setElementByPos(t,n){if(t<0||t>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:c}=this.O(t);this.A[i][c]=n}insert(t,n,i=1){if(t<0||t>this.i)throw new RangeError;if(t===0)for(;i--;)this.pushFront(n);else if(t===this.i)for(;i--;)this.pushBack(n);else{let c=[];for(let p=t;p<this.i;++p)c.push(this.getElementByPos(p));this.cut(t-1);for(let p=0;p<i;++p)this.pushBack(n);for(let p=0;p<c.length;++p)this.pushBack(c[p])}return this.i}cut(t){if(t<0)return this.clear(),0;let{curNodeBucketIndex:n,curNodePointerIndex:i}=this.O(t);return this.R=n,this.N=i,this.i=t+1,this.i}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;if(t===0)this.popFront();else if(t===this.i-1)this.popBack();else{let n=[];for(let c=t+1;c<this.i;++c)n.push(this.getElementByPos(c));this.cut(t),this.popBack();let i=this;n.forEach(function(c){i.pushBack(c)})}return this.i}eraseElementByValue(t){if(this.i===0)return 0;let n=[];for(let c=0;c<this.i;++c){let p=this.getElementByPos(c);p!==t&&n.push(p)}let i=n.length;for(let c=0;c<i;++c)this.setElementByPos(c,n[c]);return this.cut(i-1)}eraseElementByIterator(t){let n=t.o;return this.eraseElementByPos(n),t=t.next(),t}find(t){for(let n=0;n<this.i;++n)if(this.getElementByPos(n)===t)return new u(n,this);return this.end()}reverse(){let t=0,n=this.i-1;for(;t<n;){let i=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(n)),this.setElementByPos(n,i),t+=1,n-=1}}unique(){if(this.i<=1)return this.i;let t=1,n=this.getElementByPos(0);for(let i=1;i<this.i;++i){let c=this.getElementByPos(i);c!==n&&(n=c,this.setElementByPos(t++,c))}for(;this.i>t;)this.popBack();return this.i}sort(t){let n=[];for(let i=0;i<this.i;++i)n.push(this.getElementByPos(i));n.sort(t);for(let i=0;i<this.i;++i)this.setElementByPos(i,n[i])}shrinkToFit(){if(this.i===0)return;let t=[];this.forEach(function(n){t.push(n)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let n=0;n<this.P;++n)this.A.push(new Array(this.F));for(let n=0;n<t.length;++n)this.pushBack(t[n])}forEach(t){for(let n=0;n<this.i;++n)t(this.getElementByPos(n),n,this)}[Symbol.iterator](){return function*(){for(let t=0;t<this.i;++t)yield this.getElementByPos(t)}.bind(this)()}},r=e;a.default=r}),xu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.TreeNodeEnableIndex=a.TreeNode=void 0;var s=class{constructor(l,u){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=u}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let u=l.tt;for(;u.U===l;)l=u,u=l.tt;l=u}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let u=l.tt;for(;u.W===l;)l=u,u=l.tt;return l.W!==u?u:l}}te(){let l=this.tt,u=this.W,e=u.U;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.U=this,this.tt=u,this.W=e,e&&(e.tt=this),u}se(){let l=this.tt,u=this.U,e=u.W;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.W=this,this.tt=u,this.U=e,e&&(e.tt=this),u}};a.TreeNode=s;var o=class extends s{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};a.TreeNodeEnableIndex=o}),Ta=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=xu(),o=yt(),l=bt(),u=class extends o.Container{constructor(r=function(n,i){return n<i?-1:n>i?1:0},t=!1){super(),this.Y=void 0,this.v=r,t?(this.re=s.TreeNodeEnableIndex,this.M=function(n,i,c){let p=this.ne(n,i,c);if(p){let g=p.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let m=this.he(p);if(m){let{parentNode:h,grandParent:y,curNode:b}=m;h.ie(),y.ie(),b.ie()}}return this.i},this.V=function(n){let i=this.fe(n);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=s.TreeNode,this.M=function(n,i,c){let p=this.ne(n,i,c);return p&&this.he(p),this.i},this.V=this.fe),this.h=new this.re}X(r,t){let n=this.h;for(;r;){let i=this.v(r.u,t);if(i<0)r=r.W;else if(i>0)n=r,r=r.U;else return r}return n}Z(r,t){let n=this.h;for(;r;)this.v(r.u,t)<=0?r=r.W:(n=r,r=r.U);return n}$(r,t){let n=this.h;for(;r;){let i=this.v(r.u,t);if(i<0)n=r,r=r.W;else if(i>0)r=r.U;else return r}return n}rr(r,t){let n=this.h;for(;r;)this.v(r.u,t)<0?(n=r,r=r.W):r=r.U;return n}ue(r){for(;;){let t=r.tt;if(t===this.h)return;if(r.ee===1){r.ee=0;return}if(r===t.U){let n=t.W;if(n.ee===1)n.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else if(n.W&&n.W.ee===1){n.ee=t.ee,t.ee=0,n.W.ee=0,t===this.Y?this.Y=t.te():t.te();return}else n.U&&n.U.ee===1?(n.ee=1,n.U.ee=0,n.se()):(n.ee=1,r=t)}else{let n=t.U;if(n.ee===1)n.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else if(n.U&&n.U.ee===1){n.ee=t.ee,t.ee=0,n.U.ee=0,t===this.Y?this.Y=t.se():t.se();return}else n.W&&n.W.ee===1?(n.ee=1,n.W.ee=0,n.te()):(n.ee=1,r=t)}}}fe(r){if(this.i===1)return this.clear(),this.h;let t=r;for(;t.U||t.W;){if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;[r.u,t.u]=[t.u,r.u],[r.l,t.l]=[t.l,r.l],r=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);let n=t.tt;return t===n.U?n.U=void 0:n.W=void 0,this.i-=1,this.Y.ee=0,n}oe(r,t){return r===void 0?!1:this.oe(r.U,t)||t(r)?!0:this.oe(r.W,t)}he(r){for(;;){let t=r.tt;if(t.ee===0)return;let n=t.tt;if(t===n.U){let i=n.W;if(i&&i.ee===1){if(i.ee=t.ee=0,n===this.Y)return;n.ee=1,r=n;continue}else if(r===t.W){if(r.ee=0,r.U&&(r.U.tt=t),r.W&&(r.W.tt=n),t.W=r.U,n.U=r.W,r.U=t,r.W=n,n===this.Y)this.Y=r,this.h.tt=r;else{let c=n.tt;c.U===n?c.U=r:c.W=r}return r.tt=n.tt,t.tt=r,n.tt=r,n.ee=1,{parentNode:t,grandParent:n,curNode:r}}else t.ee=0,n===this.Y?this.Y=n.se():n.se(),n.ee=1}else{let i=n.U;if(i&&i.ee===1){if(i.ee=t.ee=0,n===this.Y)return;n.ee=1,r=n;continue}else if(r===t.U){if(r.ee=0,r.U&&(r.U.tt=n),r.W&&(r.W.tt=t),n.W=r.U,t.U=r.W,r.U=n,r.W=t,n===this.Y)this.Y=r,this.h.tt=r;else{let c=n.tt;c.U===n?c.U=r:c.W=r}return r.tt=n.tt,t.tt=r,n.tt=r,n.ee=1,{parentNode:t,grandParent:n,curNode:r}}else t.ee=0,n===this.Y?this.Y=n.te():n.te(),n.ee=1}return}}ne(r,t,n){if(this.Y===void 0){this.i+=1,this.Y=new this.re(r,t),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,c=this.h.U,p=this.v(c.u,r);if(p===0){c.l=t;return}else if(p>0)c.U=new this.re(r,t),c.U.tt=c,i=c.U,this.h.U=i;else{let g=this.h.W,m=this.v(g.u,r);if(m===0){g.l=t;return}else if(m<0)g.W=new this.re(r,t),g.W.tt=g,i=g.W,this.h.W=i;else{if(n!==void 0){let h=n.o;if(h!==this.h){let y=this.v(h.u,r);if(y===0){h.l=t;return}else if(y>0){let b=h.L(),S=this.v(b.u,r);if(S===0){b.l=t;return}else S<0&&(i=new this.re(r,t),b.W===void 0?(b.W=i,i.tt=b):(h.U=i,i.tt=h))}}}if(i===void 0)for(i=this.Y;;){let h=this.v(i.u,r);if(h>0){if(i.U===void 0){i.U=new this.re(r,t),i.U.tt=i,i=i.U;break}i=i.U}else if(h<0){if(i.W===void 0){i.W=new this.re(r,t),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=t;return}}}}return this.i+=1,i}I(r,t){for(;r;){let n=this.v(r.u,t);if(n<0)r=r.W;else if(n>0)r=r.U;else return r}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,t){let n=r.o;if(n===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return n.u=t,!0;if(n===this.h.U)return this.v(n.B().u,t)>0?(n.u=t,!0):!1;if(n===this.h.W)return this.v(n.L().u,t)<0?(n.u=t,!0):!1;let i=n.L().u;if(this.v(i,t)>=0)return!1;let c=n.B().u;return this.v(c,t)<=0?!1:(n.u=t,!0)}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t=0,n=this;return this.oe(this.Y,function(i){return r===t?(n.V(i),!0):(t+=1,!1)}),this.i}eraseElementByKey(r){if(this.i===0)return!1;let t=this.I(this.Y,r);return t===this.h?!1:(this.V(t),!0)}eraseElementByIterator(r){let t=r.o;t===this.h&&(0,l.throwIteratorAccessError)();let n=t.W===void 0;return r.iteratorType===0?n&&r.next():(!n||t.U===void 0)&&r.next(),this.V(t),r}forEach(r){let t=0;for(let n of this)r(n,t++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t,n=0;for(let i of this){if(n===r){t=i;break}n+=1}return t}getHeight(){if(this.i===0)return 0;let r=function(t){return t?Math.max(r(t.U),r(t.W))+1:0};return r(this.Y)}},e=u;a.default=e}),Oa=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=yt(),o=bt(),l=class extends s.ContainerIterator{constructor(e,r,t){super(t),this.o=e,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,o.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,o.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let e=this.o,r=this.h.tt;if(e===this.h)return r?r.rt-1:0;let t=0;for(e.U&&(t+=e.U.rt);e!==r;){let n=e.tt;e===n.W&&(t+=1,n.U&&(t+=n.U.rt)),e=n}return t}},u=l;a.default=u}),ku=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=u(Ta()),o=u(Oa()),l=bt();function u(n){return n&&n.t?n:{default:n}}var e=class Pa extends o.default{constructor(i,c,p,g){super(i,c,g),this.container=p}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new Pa(this.o,this.h,this.container,this.iteratorType)}},r=class extends s.default{constructor(n=[],i,c){super(i,c);let p=this;n.forEach(function(g){p.insert(g)})}*K(n){n!==void 0&&(yield*this.K(n.U),yield n.u,yield*this.K(n.W))}begin(){return new e(this.h.U||this.h,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this.h.W||this.h,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(n,i){return this.M(n,void 0,i)}find(n){let i=this.I(this.Y,n);return new e(i,this.h,this)}lowerBound(n){let i=this.X(this.Y,n);return new e(i,this.h,this)}upperBound(n){let i=this.Z(this.Y,n);return new e(i,this.h,this)}reverseLowerBound(n){let i=this.$(this.Y,n);return new e(i,this.h,this)}reverseUpperBound(n){let i=this.rr(this.Y,n);return new e(i,this.h,this)}union(n){let i=this;return n.forEach(function(c){i.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},t=r;a.default=t}),Tu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=u(Ta()),o=u(Oa()),l=bt();function u(n){return n&&n.t?n:{default:n}}var e=class Ca extends o.default{constructor(i,c,p,g){super(i,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let i=this;return new Proxy([],{get(c,p){if(p==="0")return i.o.u;if(p==="1")return i.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return i.o.l=g,!0}})}copy(){return new Ca(this.o,this.h,this.container,this.iteratorType)}},r=class extends s.default{constructor(n=[],i,c){super(i,c);let p=this;n.forEach(function(g){p.setElement(g[0],g[1])})}*K(n){n!==void 0&&(yield*this.K(n.U),yield[n.u,n.l],yield*this.K(n.W))}begin(){return new e(this.h.U||this.h,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this.h.W||this.h,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){if(this.i===0)return;let n=this.h.U;return[n.u,n.l]}back(){if(this.i===0)return;let n=this.h.W;return[n.u,n.l]}lowerBound(n){let i=this.X(this.Y,n);return new e(i,this.h,this)}upperBound(n){let i=this.Z(this.Y,n);return new e(i,this.h,this)}reverseLowerBound(n){let i=this.$(this.Y,n);return new e(i,this.h,this)}reverseUpperBound(n){let i=this.rr(this.Y,n);return new e(i,this.h,this)}setElement(n,i,c){return this.M(n,i,c)}find(n){let i=this.I(this.Y,n);return new e(i,this.h,this)}getElementByKey(n){return this.I(this.Y,n).l}union(n){let i=this;return n.forEach(function(c){i.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},t=r;a.default=t}),Ra=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=s;function s(o){let l=typeof o;return l==="object"&&o!==null||l==="function"}}),Ma=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.HashContainerIterator=a.HashContainer=void 0;var s=yt(),o=u(Ra()),l=bt();function u(t){return t&&t.t?t:{default:t}}var e=class extends s.ContainerIterator{constructor(t,n,i){super(i),this.o=t,this.h=n,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};a.HashContainerIterator=e;var r=class extends s.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(t){let{L:n,B:i}=t;n.B=i,i.L=n,t===this.p&&(this.p=i),t===this._&&(this._=n),this.i-=1}M(t,n,i){i===void 0&&(i=(0,o.default)(t));let c;if(i){let p=t[this.HASH_TAG];if(p!==void 0)return this.H[p].l=n,this.i;Object.defineProperty(t,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:t,l:n,L:this._,B:this.h},this.H.push(c)}else{let p=this.g[t];if(p)return p.l=n,this.i;c={u:t,l:n,L:this._,B:this.h},this.g[t]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(t,n){if(n===void 0&&(n=(0,o.default)(t)),n){let i=t[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[t]||this.h}clear(){let t=this.HASH_TAG;this.H.forEach(function(n){delete n.u[t]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(t,n){let i;if(n===void 0&&(n=(0,o.default)(t)),n){let c=t[this.HASH_TAG];if(c===void 0)return!1;delete t[this.HASH_TAG],i=this.H[c],delete this.H[c]}else{if(i=this.g[t],i===void 0)return!1;delete this.g[t]}return this.V(i),!0}eraseElementByIterator(t){let n=t.o;return n===this.h&&(0,l.throwIteratorAccessError)(),this.V(n),t.next()}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let n=this.p;for(;t--;)n=n.B;return this.V(n),this.i}};a.HashContainer=r}),Ou=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=Ma(),o=bt(),l=class ja extends s.HashContainerIterator{constructor(t,n,i,c){super(t,n,c),this.container=i}get pointer(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.u}copy(){return new ja(this.o,this.h,this.container,this.iteratorType)}},u=class extends s.HashContainer{constructor(r=[]){super();let t=this;r.forEach(function(n){t.insert(n)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,t){return this.M(r,void 0,t)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t=this.p;for(;r--;)t=t.B;return t.u}find(r,t){let n=this.I(r,t);return new l(n,this.h,this)}forEach(r){let t=0,n=this.p;for(;n!==this.h;)r(n.u,t++,this),n=n.B}[Symbol.iterator](){return function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}.bind(this)()}},e=u;a.default=e}),Pu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var s=Ma(),o=u(Ra()),l=bt();function u(n){return n&&n.t?n:{default:n}}var e=class Na extends s.HashContainerIterator{constructor(i,c,p,g){super(i,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let i=this;return new Proxy([],{get(c,p){if(p==="0")return i.o.u;if(p==="1")return i.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return i.o.l=g,!0}})}copy(){return new Na(this.o,this.h,this.container,this.iteratorType)}},r=class extends s.HashContainer{constructor(n=[]){super();let i=this;n.forEach(function(c){i.setElement(c[0],c[1])})}begin(){return new e(this.p,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this._,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(n,i,c){return this.M(n,i,c)}getElementByKey(n,i){if(i===void 0&&(i=(0,o.default)(n)),i){let p=n[this.HASH_TAG];return p!==void 0?this.H[p].l:void 0}let c=this.g[n];return c?c.l:void 0}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let i=this.p;for(;n--;)i=i.B;return[i.u,i.l]}find(n,i){let c=this.I(n,i);return new e(c,this.h,this)}forEach(n){let i=0,c=this.p;for(;c!==this.h;)n([c.u,c.l],i++,this),c=c.B}[Symbol.iterator](){return function*(){let n=this.p;for(;n!==this.h;)yield[n.u,n.l],n=n.B}.bind(this)()}},t=r;a.default=t}),Cu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"t",{value:!0}),Object.defineProperty(a,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(a,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(a,"LinkList",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(a,"OrderedMap",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(a,"OrderedSet",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(a,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(a,"Queue",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(a,"Stack",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(a,"Vector",{enumerable:!0,get:function(){return u.default}});var s=p(wu()),o=p(_u()),l=p(Su()),u=p(Eu()),e=p(Au()),r=p(Iu()),t=p(ku()),n=p(Tu()),i=p(Ou()),c=p(Pu());function p(g){return g&&g.t?g:{default:g}}}),Ru=ge((a,s)=>{ue(),fe(),ce();var o=Cu().OrderedSet,l=dt()("number-allocator:trace"),u=dt()("number-allocator:error");function e(t,n){this.low=t,this.high=n}e.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},e.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function r(t,n){if(!(this instanceof r))return new r(t,n);this.min=t,this.max=n,this.ss=new o([],(i,c)=>i.compare(c)),l("Create"),this.clear()}r.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},r.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let t=this.ss.begin(),n=t.pointer.low,i=t.pointer.high,c=n;return c+1<=i?this.ss.updateKeyByIterator(t,new e(n+1,i)):this.ss.eraseElementByPos(0),l("alloc():"+c),c},r.prototype.use=function(t){let n=new e(t,t),i=this.ss.lowerBound(n);if(!i.equals(this.ss.end())){let c=i.pointer.low,p=i.pointer.high;return i.pointer.equals(n)?(this.ss.eraseElementByIterator(i),l("use():"+t),!0):c>t?!1:c===t?(this.ss.updateKeyByIterator(i,new e(c+1,p)),l("use():"+t),!0):p===t?(this.ss.updateKeyByIterator(i,new e(c,p-1)),l("use():"+t),!0):(this.ss.updateKeyByIterator(i,new e(t+1,p)),this.ss.insert(new e(c,t-1)),l("use():"+t),!0)}return l("use():failed"),!1},r.prototype.free=function(t){if(t<this.min||t>this.max){u("free():"+t+" is out of range");return}let n=new e(t,t),i=this.ss.upperBound(n);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(n);return}i.pre();let c=i.pointer.high;i.pointer.high+1===t?this.ss.updateKeyByIterator(i,new e(c,t)):this.ss.insert(n)}else if(i.equals(this.ss.begin()))if(t+1===i.pointer.low){let c=i.pointer.high;this.ss.updateKeyByIterator(i,new e(t,c))}else this.ss.insert(n);else{let c=i.pointer.low,p=i.pointer.high;i.pre();let g=i.pointer.low;i.pointer.high+1===t?t+1===c?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new e(g,p))):this.ss.updateKeyByIterator(i,new e(g,t)):t+1===c?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new e(t,p))):this.ss.insert(n)}l("free():"+t)},r.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new e(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){console.log("length:"+this.ss.size());for(let t of this.ss)console.log(t)},s.exports=r}),Ba=ge((a,s)=>{ue(),fe(),ce();var o=Ru();s.exports.NumberAllocator=o}),Mu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=vu(),o=Ba(),l=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(u){u>0&&(this.aliasToTopic=new s.LRUCache({max:u}),this.topicToAlias={},this.numberAllocator=new o.NumberAllocator(1,u),this.max=u,this.length=0)}put(u,e){if(e===0||e>this.max)return!1;let r=this.aliasToTopic.get(e);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(e,u),this.topicToAlias[u]=e,this.numberAllocator.use(e),this.length=this.aliasToTopic.size,!0}getTopicByAlias(u){return this.aliasToTopic.get(u)}getAliasByTopic(u){let e=this.topicToAlias[u];return typeof e<"u"&&this.aliasToTopic.get(e),e}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};a.default=l}),ju=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(a,"__esModule",{value:!0});var o=Xr(),l=s(Mu()),u=zt(),e=(r,t)=>{r.log("_handleConnack");let{options:n}=r,i=n.protocolVersion===5?t.reasonCode:t.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535){r.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}t.properties.topicAliasMaximum>0&&(r.topicAliasSend=new l.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&n.keepalive&&(n.keepalive=t.properties.serverKeepAlive),t.properties.maximumPacketSize&&(n.properties||(n.properties={}),n.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(i===0)r.reconnecting=!1,r._onConnect(t);else if(i>0){let c=new u.ErrorWithReasonCode(`Connection refused: ${o.ReasonCodes[i]}`,i);r.emit("error",c),r.options.reconnectOnConnackError&&r._cleanUp(!0)}};a.default=e}),Nu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=(o,l,u)=>{o.log("handling pubrel packet");let e=typeof u<"u"?u:o.noop,{messageId:r}=l,t={cmd:"pubcomp",messageId:r};o.incomingStore.get(l,(n,i)=>{n?o._sendPacket(t,e):(o.emit("message",i.topic,i.payload,i),o.handleMessage(i,c=>{if(c)return e(c);o.incomingStore.del(i,o.noop),o._sendPacket(t,e)}))})};a.default=s}),Bu=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(a,"__esModule",{value:!0});var o=s(yu()),l=s(mu()),u=s(ju()),e=s(Xr()),r=s(Nu()),t=(n,i,c)=>{let{options:p}=n;if(p.protocolVersion===5&&p.properties&&p.properties.maximumPacketSize&&p.properties.maximumPacketSize<i.length)return n.emit("error",new Error(`exceeding packets size ${i.cmd}`)),n.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),n;switch(n.log("_handlePacket :: emitting packetreceive"),n.emit("packetreceive",i),i.cmd){case"publish":(0,o.default)(n,i,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":n.reschedulePing(),(0,e.default)(n,i),c();break;case"pubrel":n.reschedulePing(),(0,r.default)(n,i,c);break;case"connack":(0,u.default)(n,i),c();break;case"auth":n.reschedulePing(),(0,l.default)(n,i),c();break;case"pingresp":n.log("_handlePacket :: received pingresp"),n.reschedulePing(!0),c();break;case"disconnect":n.emit("disconnect",i),c();break;default:n.log("_handlePacket :: unknown command"),c();break}};a.default=t}),Ua=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let o=this.nextId++;return this.nextId===65536&&(this.nextId=1),o}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(o){return!0}deallocate(o){}clear(){}};a.default=s}),Uu=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=class{aliasToTopic;max;length;constructor(o){this.aliasToTopic={},this.max=o}put(o,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=o,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(o){return this.aliasToTopic[o]}clear(){this.aliasToTopic={}}};a.default=s}),Lu=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0}),a.TypedEventEmitter=void 0;var o=s((jt(),Pe(It))),l=zt(),u=class{};a.TypedEventEmitter=u,(0,l.applyMixin)(u,o.default)}),Zr=ge((a,s)=>{ue(),fe(),ce();function o(l){"@babel/helpers - typeof";return s.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s.exports.__esModule=!0,s.exports.default=s.exports,o(l)}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),Du=ge((a,s)=>{ue(),fe(),ce();var o=Zr().default;function l(u,e){if(o(u)!="object"||!u)return u;var r=u[Symbol.toPrimitive];if(r!==void 0){var t=r.call(u,e||"default");if(o(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(u)}s.exports=l,s.exports.__esModule=!0,s.exports.default=s.exports}),Fu=ge((a,s)=>{ue(),fe(),ce();var o=Zr().default,l=Du();function u(e){var r=l(e,"string");return o(r)=="symbol"?r:r+""}s.exports=u,s.exports.__esModule=!0,s.exports.default=s.exports}),Wu=ge((a,s)=>{ue(),fe(),ce();var o=Fu();function l(u,e,r){return(e=o(e))in u?Object.defineProperty(u,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[e]=r,u}s.exports=l,s.exports.__esModule=!0,s.exports.default=s.exports}),$u=ge((a,s)=>{ue(),fe(),ce();function o(l){if(Array.isArray(l))return l}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),qu=ge((a,s)=>{ue(),fe(),ce();function o(l,u){var e=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(e!=null){var r,t,n,i,c=[],p=!0,g=!1;try{if(n=(e=e.call(l)).next,u===0){if(Object(e)!==e)return;p=!1}else for(;!(p=(r=n.call(e)).done)&&(c.push(r.value),c.length!==u);p=!0);}catch(m){g=!0,t=m}finally{try{if(!p&&e.return!=null&&(i=e.return(),Object(i)!==i))return}finally{if(g)throw t}}return c}}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),Vu=ge((a,s)=>{ue(),fe(),ce();function o(l,u){(u==null||u>l.length)&&(u=l.length);for(var e=0,r=Array(u);e<u;e++)r[e]=l[e];return r}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),zu=ge((a,s)=>{ue(),fe(),ce();var o=Vu();function l(u,e){if(u){if(typeof u=="string")return o(u,e);var r={}.toString.call(u).slice(8,-1);return r==="Object"&&u.constructor&&(r=u.constructor.name),r==="Map"||r==="Set"?Array.from(u):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(u,e):void 0}}s.exports=l,s.exports.__esModule=!0,s.exports.default=s.exports}),Hu=ge((a,s)=>{ue(),fe(),ce();function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),Ku=ge((a,s)=>{ue(),fe(),ce();var o=$u(),l=qu(),u=zu(),e=Hu();function r(t,n){return o(t)||l(t,n)||u(t,n)||e()}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports}),La=ge((a,s)=>{ue(),fe(),ce(),function(o,l){typeof a=="object"&&typeof s<"u"?l(a):typeof define=="function"&&define.amd?define(["exports"],l):(o=typeof globalThis<"u"?globalThis:o||self,l(o.fastUniqueNumbers={}))}(a,function(o){var l=function(m){return function(h){var y=m(h);return h.add(y),y}},u=function(m){return function(h,y){return m.set(h,y),y}},e=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,t=r*2,n=function(m,h){return function(y){var b=h.get(y),S=b===void 0?y.size:b<t?b+1:0;if(!y.has(S))return m(y,S);if(y.size<r){for(;y.has(S);)S=Math.floor(Math.random()*t);return m(y,S)}if(y.size>e)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(S);)S=Math.floor(Math.random()*e);return m(y,S)}},i=new WeakMap,c=u(i),p=n(c,i),g=l(p);o.addUniqueNumber=g,o.generateUniqueNumber=p})}),Gu=ge((a,s)=>{ue(),fe(),ce();function o(u,e,r,t,n,i,c){try{var p=u[i](c),g=p.value}catch(m){return void r(m)}p.done?e(g):Promise.resolve(g).then(t,n)}function l(u){return function(){var e=this,r=arguments;return new Promise(function(t,n){var i=u.apply(e,r);function c(g){o(i,t,n,c,p,"next",g)}function p(g){o(i,t,n,c,p,"throw",g)}c(void 0)})}}s.exports=l,s.exports.__esModule=!0,s.exports.default=s.exports}),Da=ge((a,s)=>{ue(),fe(),ce();function o(l,u){this.v=l,this.k=u}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),Fa=ge((a,s)=>{ue(),fe(),ce();function o(l,u,e,r){var t=Object.defineProperty;try{t({},"",{})}catch{t=0}s.exports=o=function(n,i,c,p){function g(m,h){o(n,m,function(y){return this._invoke(m,h,y)})}i?t?t(n,i,{value:c,enumerable:!p,configurable:!p,writable:!p}):n[i]=c:(g("next",0),g("throw",1),g("return",2))},s.exports.__esModule=!0,s.exports.default=s.exports,o(l,u,e,r)}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),Wa=ge((a,s)=>{ue(),fe(),ce();var o=Fa();function l(){var u,e,r=typeof Symbol=="function"?Symbol:{},t=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function i(S,d,w,E){var v=d&&d.prototype instanceof p?d:p,I=Object.create(v.prototype);return o(I,"_invoke",function(A,k,R){var P,B,T,W=0,L=R||[],U=!1,ae={p:0,n:0,v:u,a:Q,f:Q.bind(u,4),d:function(V,re){return P=V,B=0,T=u,ae.n=re,c}};function Q(V,re){for(B=V,T=re,e=0;!U&&W&&!F&&e<L.length;e++){var F,ee=L[e],C=ae.p,Y=ee[2];V>3?(F=Y===re)&&(T=ee[(B=ee[4])?5:(B=3,3)],ee[4]=ee[5]=u):ee[0]<=C&&((F=V<2&&C<ee[1])?(B=0,ae.v=re,ae.n=ee[1]):C<Y&&(F=V<3||ee[0]>re||re>Y)&&(ee[4]=V,ee[5]=re,ae.n=Y,B=0))}if(F||V>1)return c;throw U=!0,re}return function(V,re,F){if(W>1)throw TypeError("Generator is already running");for(U&&re===1&&Q(re,F),B=re,T=F;(e=B<2?u:T)||!U;){P||(B?B<3?(B>1&&(ae.n=-1),Q(B,T)):ae.n=T:ae.v=T);try{if(W=2,P){if(B||(V="next"),e=P[V]){if(!(e=e.call(P,T)))throw TypeError("iterator result is not an object");if(!e.done)return e;T=e.value,B<2&&(B=0)}else B===1&&(e=P.return)&&e.call(P),B<2&&(T=TypeError("The iterator does not provide a '"+V+"' method"),B=1);P=u}else if((e=(U=ae.n<0)?T:A.call(k,ae))!==c)break}catch(ee){P=u,B=1,T=ee}finally{W=1}}return{value:e,done:U}}}(S,w,E),!0),I}var c={};function p(){}function g(){}function m(){}e=Object.getPrototypeOf;var h=[][t]?e(e([][t]())):(o(e={},t,function(){return this}),e),y=m.prototype=p.prototype=Object.create(h);function b(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,m):(S.__proto__=m,o(S,n,"GeneratorFunction")),S.prototype=Object.create(y),S}return g.prototype=m,o(y,"constructor",m),o(m,"constructor",g),g.displayName="GeneratorFunction",o(m,n,"GeneratorFunction"),o(y),o(y,n,"Generator"),o(y,t,function(){return this}),o(y,"toString",function(){return"[object Generator]"}),(s.exports=l=function(){return{w:i,m:b}},s.exports.__esModule=!0,s.exports.default=s.exports)()}s.exports=l,s.exports.__esModule=!0,s.exports.default=s.exports}),$a=ge((a,s)=>{ue(),fe(),ce();var o=Da(),l=Fa();function u(e,r){function t(i,c,p,g){try{var m=e[i](c),h=m.value;return h instanceof o?r.resolve(h.v).then(function(y){t("next",y,p,g)},function(y){t("throw",y,p,g)}):r.resolve(h).then(function(y){m.value=y,p(m)},function(y){return t("throw",y,p,g)})}catch(y){g(y)}}var n;this.next||(l(u.prototype),l(u.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),l(this,"_invoke",function(i,c,p){function g(){return new r(function(m,h){t(i,p,m,h)})}return n=n?n.then(g,g):g()},!0)}s.exports=u,s.exports.__esModule=!0,s.exports.default=s.exports}),qa=ge((a,s)=>{ue(),fe(),ce();var o=Wa(),l=$a();function u(e,r,t,n,i){return new l(o().w(e,r,t,n),i||Promise)}s.exports=u,s.exports.__esModule=!0,s.exports.default=s.exports}),Qu=ge((a,s)=>{ue(),fe(),ce();var o=qa();function l(u,e,r,t,n){var i=o(u,e,r,t,n);return i.next().then(function(c){return c.done?c.value:i.next()})}s.exports=l,s.exports.__esModule=!0,s.exports.default=s.exports}),Yu=ge((a,s)=>{ue(),fe(),ce();function o(l){var u=Object(l),e=[];for(var r in u)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in u)return t.value=r,t.done=!1,t;return t.done=!0,t}}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}),Ju=ge((a,s)=>{ue(),fe(),ce();var o=Zr().default;function l(u){if(u!=null){var e=u[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length))return{next:function(){return u&&r>=u.length&&(u=void 0),{value:u&&u[r++],done:!u}}}}throw new TypeError(o(u)+" is not iterable")}s.exports=l,s.exports.__esModule=!0,s.exports.default=s.exports}),Xu=ge((a,s)=>{ue(),fe(),ce();var o=Da(),l=Wa(),u=Qu(),e=qa(),r=$a(),t=Yu(),n=Ju();function i(){var c=l(),p=c.m(i),g=(Object.getPrototypeOf?Object.getPrototypeOf(p):p.__proto__).constructor;function m(b){var S=typeof b=="function"&&b.constructor;return!!S&&(S===g||(S.displayName||S.name)==="GeneratorFunction")}var h={throw:1,return:2,break:3,continue:3};function y(b){var S,d;return function(w){S||(S={stop:function(){return d(w.a,2)},catch:function(){return w.v},abrupt:function(E,v){return d(w.a,h[E],v)},delegateYield:function(E,v,I){return S.resultName=v,d(w.d,n(E),I)},finish:function(E){return d(w.f,E)}},d=function(E,v,I){w.p=S.prev,w.n=S.next;try{return E(v,I)}finally{S.next=w.n}}),S.resultName&&(S[S.resultName]=w.v,S.resultName=void 0),S.sent=w.v,S.next=w.n;try{return b.call(this,S)}finally{w.p=S.prev,w.n=S.next}}}return(s.exports=i=function(){return{wrap:function(b,S,d,w){return c.w(y(b),S,d,w&&w.reverse())},isGeneratorFunction:m,mark:c.m,awrap:function(b,S){return new o(b,S)},AsyncIterator:r,async:function(b,S,d,w,E){return(m(S)?e:u)(y(b),S,d,w,E)},keys:t,values:n}},s.exports.__esModule=!0,s.exports.default=s.exports)()}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports}),Zu=ge((a,s)=>{ue(),fe(),ce();var o=Xu()();s.exports=o;try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}),ec=ge((a,s)=>{ue(),fe(),ce(),function(o,l){typeof a=="object"&&typeof s<"u"?l(a,Wu(),Ku(),La(),Gu(),Zu()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],l):(o=typeof globalThis<"u"?globalThis:o||self,l(o.brokerFactory={},o._defineProperty,o._slicedToArray,o.fastUniqueNumbers,o._asyncToGenerator,o._regeneratorRuntime))}(a,function(o,l,u,e,r,t){var n=function(d){return typeof d.start=="function"},i=new WeakMap;function c(d,w){var E=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);w&&(v=v.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),E.push.apply(E,v)}return E}function p(d){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?c(Object(E),!0).forEach(function(v){l(d,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(E)):c(Object(E)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(E,v))})}return d}var g=function(d){return p(p({},d),{},{connect:function(w){var E=w.call;return r(t.mark(function v(){var I,A,k,R;return t.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return I=new MessageChannel,A=I.port1,k=I.port2,P.next=1,E("connect",{port:A},[A]);case 1:return R=P.sent,i.set(k,R),P.abrupt("return",k);case 2:case"end":return P.stop()}},v)}))},disconnect:function(w){var E=w.call;return function(){var v=r(t.mark(function I(A){var k;return t.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(k=i.get(A),k!==void 0){R.next=1;break}throw new Error("The given port is not connected.");case 1:return R.next=2,E("disconnect",{portId:k});case 2:case"end":return R.stop()}},I)}));return function(I){return v.apply(this,arguments)}}()},isSupported:function(w){var E=w.call;return function(){return E("isSupported")}}})};function m(d,w){var E=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);w&&(v=v.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),E.push.apply(E,v)}return E}function h(d){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?m(Object(E),!0).forEach(function(v){l(d,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(E)):m(Object(E)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(E,v))})}return d}var y=new WeakMap,b=function(d){if(y.has(d))return y.get(d);var w=new Map;return y.set(d,w),w},S=function(d){var w=g(d);return function(E){var v=b(E);E.addEventListener("message",function(L){var U=L.data,ae=U.id;if(ae!==null&&v.has(ae)){var Q=v.get(ae),V=Q.reject,re=Q.resolve;v.delete(ae),U.error===void 0?re(U.result):V(new Error(U.error.message))}}),n(E)&&E.start();for(var I=function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(Q,V){var re=e.generateUniqueNumber(v);v.set(re,{reject:V,resolve:Q}),U===null?E.postMessage({id:re,method:L},ae):E.postMessage({id:re,method:L,params:U},ae)})},A=function(L,U){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];E.postMessage({id:null,method:L,params:U},ae)},k={},R=0,P=Object.entries(w);R<P.length;R++){var B=u(P[R],2),T=B[0],W=B[1];k=h(h({},k),{},l({},T,W({call:I,notify:A})))}return h({},k)}};o.createBroker=S})}),tc=ge((a,s)=>{ue(),fe(),ce(),function(o,l){typeof a=="object"&&typeof s<"u"?l(a,Zr(),ec(),La()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],l):(o=typeof globalThis<"u"?globalThis:o||self,l(o.workerTimersBroker={},o._typeof,o.brokerFactory,o.fastUniqueNumbers))}(a,function(o,l,u,e){var r=new Map([[0,null]]),t=new Map([[0,null]]),n=u.createBroker({clearInterval:function(c){var p=c.call;return function(g){l(r.get(g))==="symbol"&&(r.set(g,null),p("clear",{timerId:g,timerType:"interval"}).then(function(){r.delete(g)}))}},clearTimeout:function(c){var p=c.call;return function(g){l(t.get(g))==="symbol"&&(t.set(g,null),p("clear",{timerId:g,timerType:"timeout"}).then(function(){t.delete(g)}))}},setInterval:function(c){var p=c.call;return function(g){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length,y=new Array(h>2?h-2:0),b=2;b<h;b++)y[b-2]=arguments[b];var S=Symbol(),d=e.generateUniqueNumber(r);r.set(d,S);var w=function(){return p("set",{delay:m,now:performance.timeOrigin+performance.now(),timerId:d,timerType:"interval"}).then(function(){var E=r.get(d);if(E===void 0)throw new Error("The timer is in an undefined state.");E===S&&(g.apply(void 0,y),r.get(d)===S&&w())})};return w(),d}},setTimeout:function(c){var p=c.call;return function(g){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length,y=new Array(h>2?h-2:0),b=2;b<h;b++)y[b-2]=arguments[b];var S=Symbol(),d=e.generateUniqueNumber(t);return t.set(d,S),p("set",{delay:m,now:performance.timeOrigin+performance.now(),timerId:d,timerType:"timeout"}).then(function(){var w=t.get(d);if(w===void 0)throw new Error("The timer is in an undefined state.");w===S&&(t.delete(d),g.apply(void 0,y))}),d}}}),i=function(c){var p=new Worker(c);return n(p)};o.load=i,o.wrap=n})}),rc=ge((a,s)=>{ue(),fe(),ce(),function(o,l){typeof a=="object"&&typeof s<"u"?l(a,tc()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],l):(o=typeof globalThis<"u"?globalThis:o||self,l(o.workerTimers={},o.workerTimersBroker))}(a,function(o,l){var u=function(p,g){var m=null;return function(){if(m!==null)return m;var h=new Blob([g],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(h);return m=p(y),setTimeout(function(){return URL.revokeObjectURL(y)}),m}},e=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,r=u(l.load,e),t=function(p){return r().clearInterval(p)},n=function(p){return r().clearTimeout(p)},i=function(){var p;return(p=r()).setInterval.apply(p,arguments)},c=function(){var p;return(p=r()).setTimeout.apply(p,arguments)};o.clearInterval=t,o.clearTimeout=n,o.setInterval=i,o.setTimeout=c})}),en=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0}),a.isReactNativeBrowser=a.isWebWorker=void 0;var s=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Ce?.versions?!Object.prototype.hasOwnProperty.call(Ce.versions,"electron"):typeof window.document<"u":!1,o=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")),l=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u=s()||o()||l();a.isWebWorker=o(),a.isReactNativeBrowser=l(),a.default=u}),nc=ge(a=>{ue(),fe(),ce();var s=a&&a.__createBinding||(Object.create?function(i,c,p,g){g===void 0&&(g=p);var m=Object.getOwnPropertyDescriptor(c,p);(!m||("get"in m?!c.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return c[p]}}),Object.defineProperty(i,g,m)}:function(i,c,p,g){g===void 0&&(g=p),i[g]=c[p]}),o=a&&a.__setModuleDefault||(Object.create?function(i,c){Object.defineProperty(i,"default",{enumerable:!0,value:c})}:function(i,c){i.default=c}),l=a&&a.__importStar||function(){var i=function(c){return i=Object.getOwnPropertyNames||function(p){var g=[];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(g[g.length]=m);return g},i(c)};return function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var g=i(c),m=0;m<g.length;m++)g[m]!=="default"&&s(p,c,g[m]);return o(p,c),p}}();Object.defineProperty(a,"__esModule",{value:!0});var u=rc(),e=l(en()),r={set:u.setInterval,clear:u.clearInterval},t={set:(i,c)=>setInterval(i,c),clear:i=>clearInterval(i)},n=i=>{switch(i){case"native":return t;case"worker":return r;case"auto":default:return e.default&&!e.isWebWorker&&!e.isReactNativeBrowser?r:t}};a.default=n}),Va=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(a,"__esModule",{value:!0});var o=s(nc()),l=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(u,e){this.client=u,this.timer=typeof e=="object"&&"set"in e&&"clear"in e?e:(0,o.default)(e),this.setKeepalive(u.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(u){if(u*=1e3,isNaN(u)||u<=0||u>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${u}`);this._keepalive=u,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${u}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let u=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+u,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};a.default=l}),bi=ge(a=>{ue(),fe(),ce();var s=a&&a.__createBinding||(Object.create?function(v,I,A,k){k===void 0&&(k=A);var R=Object.getOwnPropertyDescriptor(I,A);(!R||("get"in R?!I.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return I[A]}}),Object.defineProperty(v,k,R)}:function(v,I,A,k){k===void 0&&(k=A),v[k]=I[A]}),o=a&&a.__setModuleDefault||(Object.create?function(v,I){Object.defineProperty(v,"default",{enumerable:!0,value:I})}:function(v,I){v.default=I}),l=a&&a.__importStar||function(){var v=function(I){return v=Object.getOwnPropertyNames||function(A){var k=[];for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(k[k.length]=R);return k},v(I)};return function(I){if(I&&I.__esModule)return I;var A={};if(I!=null)for(var k=v(I),R=0;R<k.length;R++)k[R]!=="default"&&s(A,I,k[R]);return o(A,I),A}}(),u=a&&a.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0});var e=u(hu()),r=Bt(),t=u(du()),n=u(dt()),i=l(gu()),c=u(wa()),p=u(Bu()),g=u(Ua()),m=u(Uu()),h=zt(),y=Lu(),b=u(Va()),S=l(en()),d=globalThis.setImmediate||((...v)=>{let I=v.shift();(0,h.nextTick)(()=>{I(...v)})}),w={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},E=class mi extends y.TypedEventEmitter{static VERSION=h.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(I,A){super(),this.options=A||{};for(let k in w)typeof this.options[k]>"u"?this.options[k]=w[k]:this.options[k]=A[k];this.log=this.options.log||(0,n.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",mi.VERSION),S.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",S.default?"browser":"node"),this.log("MqttClient :: options.protocol",A.protocol),this.log("MqttClient :: options.protocolVersion",A.protocolVersion),this.log("MqttClient :: options.username",A.username),this.log("MqttClient :: options.keepalive",A.keepalive),this.log("MqttClient :: options.reconnectPeriod",A.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",A.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",A.properties?A.properties.topicAliasMaximum:void 0),this.options.clientId=typeof A.clientId=="string"?A.clientId:mi.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=A.protocolVersion===5&&A.customHandleAcks?A.customHandleAcks:(...k)=>{k[3](null,0)},this.options.writeCache||(e.default.writeToStream.cacheNumbers=!1),this.streamBuilder=I,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new g.default:this.options.messageIdProvider,this.outgoingStore=A.outgoingStore||new c.default,this.incomingStore=A.incomingStore||new c.default,this.queueQoSZero=A.queueQoSZero===void 0?!0:A.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,A.properties&&A.properties.topicAliasMaximum>0&&(A.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new m.default(A.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:k}=this,R=()=>{let P=k.shift();this.log("deliver :: entry %o",P);let B=null;if(!P){this._resubscribe();return}B=P.packet,this.log("deliver :: call _sendPacket for %o",B);let T=!0;B.messageId&&B.messageId!==0&&(this.messageIdProvider.register(B.messageId)||(T=!1)),T?this._sendPacket(B,W=>{P.cb&&P.cb(W),R()}):(this.log("messageId: %d has already used. The message is skipped and removed.",B.messageId),R())};this.log("connect :: sending queued packets"),R()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(I,A){A()}handleMessage(I,A){A()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let I=new r.Writable,A=e.default.parser(this.options),k=null,R=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),A.on("packet",L=>{this.log("parser :: on packet push to packets array."),R.push(L)});let P=()=>{this.log("work :: getting next packet in queue");let L=R.shift();if(L)this.log("work :: packet pulled from queue"),(0,p.default)(this,L,B);else{this.log("work :: no packets in queue");let U=k;k=null,this.log("work :: done flag is %s",!!U),U&&U()}},B=()=>{if(R.length)(0,h.nextTick)(P);else{let L=k;k=null,L()}};I._write=(L,U,ae)=>{k=ae,this.log("writable stream :: parsing buffer"),A.parse(L),P()};let T=L=>{this.log("streamErrorHandler :: error",L.message),L.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",L)):this.noop(L)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(I),this.stream.on("error",T),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let W={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(W.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(W.properties||(W.properties={}),this.topicAliasRecv&&(W.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(W),A.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let L={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(L)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(I,A,k,R){this.log("publish :: message `%s` to topic `%s`",A,I);let{options:P}=this;typeof k=="function"&&(R=k,k=null),k=k||{},k={qos:0,retain:!1,dup:!1,...k};let{qos:B,retain:T,dup:W,properties:L,cbStorePut:U}=k;if(this._checkDisconnecting(R))return this;let ae=()=>{let Q=0;if((B===1||B===2)&&(Q=this._nextId(),Q===null))return this.log("No messageId left"),!1;let V={cmd:"publish",topic:I,payload:A,qos:B,retain:T,messageId:Q,dup:W};switch(P.protocolVersion===5&&(V.properties=L),this.log("publish :: qos",B),B){case 1:case 2:this.outgoing[V.messageId]={volatile:!1,cb:R||this.noop},this.log("MqttClient:publish: packet cmd: %s",V.cmd),this._sendPacket(V,void 0,U);break;default:this.log("MqttClient:publish: packet cmd: %s",V.cmd),this._sendPacket(V,R,U);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ae())&&this._storeProcessingQueue.push({invoke:ae,cbStorePut:k.cbStorePut,callback:R}),this}publishAsync(I,A,k){return new Promise((R,P)=>{this.publish(I,A,k,(B,T)=>{B?P(B):R(T)})})}subscribe(I,A,k){let R=this.options.protocolVersion;typeof A=="function"&&(k=A),k=k||this.noop;let P=!1,B=[];typeof I=="string"?(I=[I],B=I):Array.isArray(I)?B=I:typeof I=="object"&&(P=I.resubscribe,delete I.resubscribe,B=Object.keys(I));let T=i.validateTopics(B);if(T!==null)return d(k,new Error(`Invalid topic ${T}`)),this;if(this._checkDisconnecting(k))return this.log("subscribe: discconecting true"),this;let W={qos:0};R===5&&(W.nl=!1,W.rap=!1,W.rh=0),A={...W,...A};let{properties:L}=A,U=[],ae=(re,F)=>{if(F=F||A,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,re)||this._resubscribeTopics[re].qos<F.qos||P){let ee={topic:re,qos:F.qos};R===5&&(ee.nl=F.nl,ee.rap=F.rap,ee.rh=F.rh,ee.properties=L),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ee.topic,ee.qos),U.push(ee)}};if(Array.isArray(I)?I.forEach(re=>{this.log("subscribe: array topic %s",re),ae(re)}):Object.keys(I).forEach(re=>{this.log("subscribe: object topic %s, %o",re,I[re]),ae(re,I[re])}),!U.length)return k(null,[]),this;let Q=(re,F)=>{let ee={cmd:"subscribe",subscriptions:re,messageId:F};if(L&&(ee.properties=L),this.options.resubscribe){this.log("subscribe :: resubscribe true");let Y=[];re.forEach(oe=>{if(this.options.reconnectPeriod>0){let Z={qos:oe.qos};R===5&&(Z.nl=oe.nl||!1,Z.rap=oe.rap||!1,Z.rh=oe.rh||0,Z.properties=oe.properties),this._resubscribeTopics[oe.topic]=Z,Y.push(oe.topic)}}),this.messageIdToTopic[ee.messageId]=Y}let C=new Promise((Y,oe)=>{this.outgoing[ee.messageId]={volatile:!0,cb(Z,ve){if(!Z){let{granted:K}=ve;for(let N=0;N<K.length;N+=1)re[N].qos=K[N]}Z?oe(new h.ErrorWithSubackPacket(Z.message,ve)):Y(ve)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(ee),C},V=()=>{let re=this.options.subscribeBatchSize??U.length,F=[];for(let ee=0;ee<U.length;ee+=re){let C=U.slice(ee,ee+re),Y=this._nextId();if(Y===null)return this.log("No messageId left"),!1;F.push(Q(C,Y))}return Promise.all(F).then(ee=>{k(null,U,ee.at(-1))}).catch(ee=>{k(ee,U,ee.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!V())&&this._storeProcessingQueue.push({invoke:V,callback:k}),this}subscribeAsync(I,A){return new Promise((k,R)=>{this.subscribe(I,A,(P,B)=>{P?R(P):k(B)})})}unsubscribe(I,A,k){typeof I=="string"&&(I=[I]),typeof A=="function"&&(k=A),k=k||this.noop;let R=i.validateTopics(I);if(R!==null)return d(k,new Error(`Invalid topic ${R}`)),this;if(this._checkDisconnecting(k))return this;let P=()=>{let B=this._nextId();if(B===null)return this.log("No messageId left"),!1;let T={cmd:"unsubscribe",messageId:B,unsubscriptions:[]};return typeof I=="string"?T.unsubscriptions=[I]:Array.isArray(I)&&(T.unsubscriptions=I),this.options.resubscribe&&T.unsubscriptions.forEach(W=>{delete this._resubscribeTopics[W]}),typeof A=="object"&&A.properties&&(T.properties=A.properties),this.outgoing[T.messageId]={volatile:!0,cb:k},this.log("unsubscribe: call _sendPacket"),this._sendPacket(T),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!P())&&this._storeProcessingQueue.push({invoke:P,callback:k}),this}unsubscribeAsync(I,A){return new Promise((k,R)=>{this.unsubscribe(I,A,(P,B)=>{P?R(P):k(B)})})}end(I,A,k){this.log("end :: (%s)",this.options.clientId),(I==null||typeof I!="boolean")&&(k=k||A,A=I,I=!1),typeof A!="object"&&(k=k||A,A=null),this.log("end :: cb? %s",!!k),(!k||typeof k!="function")&&(k=this.noop);let R=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(B=>{this.outgoingStore.close(T=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),k){let W=B||T;this.log("end :: closeStores: invoking callback with args"),k(W)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},P=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,I),this._cleanUp(I,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,h.nextTick)(R)},A)};return this.disconnecting?(k(),this):(this._clearReconnect(),this.disconnecting=!0,!I&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,P,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),P()),this)}endAsync(I,A){return new Promise((k,R)=>{this.end(I,A,P=>{P?R(P):k()})})}removeOutgoingMessage(I){if(this.outgoing[I]){let{cb:A}=this.outgoing[I];this._removeOutgoingAndStoreMessage(I,()=>{A(new Error("Message removed"))})}return this}reconnect(I){this.log("client reconnect");let A=()=>{I?(this.options.incomingStore=I.incomingStore,this.options.outgoingStore=I.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=A:A(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(I=>{this.outgoing[I].volatile&&typeof this.outgoing[I].cb=="function"&&(this.outgoing[I].cb(new Error("Connection closed")),delete this.outgoing[I])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(I=>{typeof this.outgoing[I].cb=="function"&&(this.outgoing[I].cb(new Error("Connection closed")),delete this.outgoing[I])}))}_removeTopicAliasAndRecoverTopicName(I){let A;I.properties&&(A=I.properties.topicAlias);let k=I.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",A,k),k.length===0){if(typeof A>"u")return new Error("Unregistered Topic Alias");if(k=this.topicAliasSend.getTopicByAlias(A),typeof k>"u")return new Error("Unregistered Topic Alias");I.topic=k}A&&delete I.properties.topicAlias}_checkDisconnecting(I){return this.disconnecting&&(I&&I!==this.noop?I(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(I,A,k={}){if(A&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",A)),this.log("_cleanUp :: forced? %s",I),I)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let R={cmd:"disconnect",...k};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(R,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),d(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),A&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",A),A())}_storeAndSend(I,A,k){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",I.cmd);let R=I,P;if(R.cmd==="publish"&&(R=(0,t.default)(I),P=this._removeTopicAliasAndRecoverTopicName(R),P))return A&&A(P);this.outgoingStore.put(R,B=>{if(B)return A&&A(B);k(),this._writePacket(I,A)})}_applyTopicAlias(I){if(this.options.protocolVersion===5&&I.cmd==="publish"){let A;I.properties&&(A=I.properties.topicAlias);let k=I.topic.toString();if(this.topicAliasSend)if(A){if(k.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",k,A),!this.topicAliasSend.put(k,A)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,A),new Error("Sending Topic Alias out of range")}else k.length!==0&&(this.options.autoAssignTopicAlias?(A=this.topicAliasSend.getAliasByTopic(k),A?(I.topic="",I.properties={...I.properties,topicAlias:A},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",k,A)):(A=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(k,A),I.properties={...I.properties,topicAlias:A},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",k,A))):this.options.autoUseTopicAlias&&(A=this.topicAliasSend.getAliasByTopic(k),A&&(I.topic="",I.properties={...I.properties,topicAlias:A},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",k,A))));else if(A)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,A),new Error("Sending Topic Alias out of range")}}_noop(I){this.log("noop ::",I)}_writePacket(I,A){this.log("_writePacket :: packet: %O",I),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",I),this.log("_writePacket :: writing to stream");let k=e.default.writeToStream(I,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",k),!k&&A&&A!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",A)):A&&(this.log("_writePacket :: invoking cb"),A())}_sendPacket(I,A,k,R){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),k=k||this.noop,A=A||this.noop;let P=this._applyTopicAlias(I);if(P){A(P);return}if(!this.connected){if(I.cmd==="auth"){this._writePacket(I,A);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(I,A,k);return}if(R){this._writePacket(I,A);return}switch(I.cmd){case"publish":break;case"pubrel":this._storeAndSend(I,A,k);return;default:this._writePacket(I,A);return}switch(I.qos){case 2:case 1:this._storeAndSend(I,A,k);break;case 0:default:this._writePacket(I,A);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(I,A,k){this.log("_storePacket :: packet: %o",I),this.log("_storePacket :: cb? %s",!!A),k=k||this.noop;let R=I;if(R.cmd==="publish"){R=(0,t.default)(I);let B=this._removeTopicAliasAndRecoverTopicName(R);if(B)return A&&A(B)}let P=R.qos||0;P===0&&this.queueQoSZero||R.cmd!=="publish"?this.queue.push({packet:R,cb:A}):P>0?(A=this.outgoing[R.messageId]?this.outgoing[R.messageId].cb:null,this.outgoingStore.put(R,B=>{if(B)return A&&A(B);k()})):A&&A(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new b.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(I=!1){this.keepaliveManager&&this.options.keepalive&&(I||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let I=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&I.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let A=0;A<I.length;A++){let k={};k[I[A]]=this._resubscribeTopics[I[A]],k.resubscribe=!0,this.subscribe(k,{properties:k[I[A]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(I){if(this.disconnected){this.emit("connect",I);return}this.connackPacket=I,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let A=()=>{let k=this.outgoingStore.createStream(),R=()=>{k.destroy(),k=null,this._flushStoreProcessingQueue(),P()},P=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",R),k.on("error",T=>{P(),this._flushStoreProcessingQueue(),this.removeListener("close",R),this.emit("error",T)});let B=()=>{if(!k)return;let T=k.read(1),W;if(!T){k.once("readable",B);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[T.messageId]){B();return}!this.disconnecting&&!this.reconnectTimer?(W=this.outgoing[T.messageId]?this.outgoing[T.messageId].cb:null,this.outgoing[T.messageId]={volatile:!1,cb(L,U){W&&W(L,U),B()}},this._packetIdsDuringStoreProcessing[T.messageId]=!0,this.messageIdProvider.register(T.messageId)?this._sendPacket(T,void 0,void 0,!0):this.log("messageId: %d has already used.",T.messageId)):k.destroy&&k.destroy()};k.on("end",()=>{let T=!0;for(let W in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[W]){T=!1;break}this.removeListener("close",R),T?(P(),this._invokeAllStoreProcessingQueue(),this.emit("connect",I)):A()}),B()};A()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let I=this._storeProcessingQueue[0];if(I&&I.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let I of this._storeProcessingQueue)I.cbStorePut&&I.cbStorePut(new Error("Connection closed")),I.callback&&I.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(I,A){delete this.outgoing[I],this.outgoingStore.del({messageId:I},(k,R)=>{A(k,R),this.messageIdProvider.deallocate(I),this._invokeStoreProcessingQueue()})}};a.default=E}),ic=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=Ba(),o=class{numberAllocator;lastId;constructor(){this.numberAllocator=new s.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};a.default=o});function oc(){if(vi)return mr;vi=!0;let a=2147483647,s=36,o=1,l=26,u=38,e=700,r=72,t=128,n="-",i=/^xn--/,c=/[^\0-\x7F]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=s-o,h=Math.floor,y=String.fromCharCode;function b(P){throw new RangeError(g[P])}function S(P,B){let T=[],W=P.length;for(;W--;)T[W]=B(P[W]);return T}function d(P,B){let T=P.split("@"),W="";T.length>1&&(W=T[0]+"@",P=T[1]),P=P.replace(p,".");let L=P.split("."),U=S(L,B).join(".");return W+U}function w(P){let B=[],T=0,W=P.length;for(;T<W;){let L=P.charCodeAt(T++);if(L>=55296&&L<=56319&&T<W){let U=P.charCodeAt(T++);(U&64512)==56320?B.push(((L&1023)<<10)+(U&1023)+65536):(B.push(L),T--)}else B.push(L)}return B}let E=P=>String.fromCodePoint(...P),v=function(P){return P>=48&&P<58?26+(P-48):P>=65&&P<91?P-65:P>=97&&P<123?P-97:s},I=function(P,B){return P+22+75*(P<26)-((B!=0)<<5)},A=function(P,B,T){let W=0;for(P=T?h(P/e):P>>1,P+=h(P/B);P>m*l>>1;W+=s)P=h(P/m);return h(W+(m+1)*P/(P+u))},k=function(P){let B=[],T=P.length,W=0,L=t,U=r,ae=P.lastIndexOf(n);ae<0&&(ae=0);for(let Q=0;Q<ae;++Q)P.charCodeAt(Q)>=128&&b("not-basic"),B.push(P.charCodeAt(Q));for(let Q=ae>0?ae+1:0;Q<T;){let V=W;for(let F=1,ee=s;;ee+=s){Q>=T&&b("invalid-input");let C=v(P.charCodeAt(Q++));C>=s&&b("invalid-input"),C>h((a-W)/F)&&b("overflow"),W+=C*F;let Y=ee<=U?o:ee>=U+l?l:ee-U;if(C<Y)break;let oe=s-Y;F>h(a/oe)&&b("overflow"),F*=oe}let re=B.length+1;U=A(W-V,re,V==0),h(W/re)>a-L&&b("overflow"),L+=h(W/re),W%=re,B.splice(W++,0,L)}return String.fromCodePoint(...B)},R=function(P){let B=[];P=w(P);let T=P.length,W=t,L=0,U=r;for(let V of P)V<128&&B.push(y(V));let ae=B.length,Q=ae;for(ae&&B.push(n);Q<T;){let V=a;for(let F of P)F>=W&&F<V&&(V=F);let re=Q+1;V-W>h((a-L)/re)&&b("overflow"),L+=(V-W)*re,W=V;for(let F of P)if(F<W&&++L>a&&b("overflow"),F===W){let ee=L;for(let C=s;;C+=s){let Y=C<=U?o:C>=U+l?l:C-U;if(ee<Y)break;let oe=ee-Y,Z=s-Y;B.push(y(I(Y+oe%Z,0))),ee=h(oe/Z)}B.push(y(I(ee,0))),U=A(L,re,Q===ae),L=0,++Q}++L,++W}return B.join("")};return mr={version:"2.3.1",ucs2:{decode:w,encode:E},decode:k,encode:R,toASCII:function(P){return d(P,function(B){return c.test(B)?"xn--"+R(B):B})},toUnicode:function(P){return d(P,function(B){return i.test(B)?k(B.slice(4).toLowerCase()):B})}},mr}var mr,vi,_t,sc=Ge(()=>{ue(),fe(),ce(),mr={},vi=!1,_t=oc(),_t.decode,_t.encode,_t.toASCII,_t.toUnicode,_t.ucs2,_t.version});function ac(){return _i||(_i=!0,wi=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},s=Symbol("test"),o=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var l=42;a[s]=l;for(s in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var u=Object.getOwnPropertySymbols(a);if(u.length!==1||u[0]!==s||!Object.prototype.propertyIsEnumerable.call(a,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var e=Object.getOwnPropertyDescriptor(a,s);if(e.value!==l||e.enumerable!==!0)return!1}return!0}),wi}function lc(){return Ei||(Ei=!0,Si=Error),Si}function uc(){return Ii||(Ii=!0,Ai=EvalError),Ai}function cc(){return ki||(ki=!0,xi=RangeError),xi}function fc(){return Oi||(Oi=!0,Ti=ReferenceError),Ti}function za(){return Ci||(Ci=!0,Pi=SyntaxError),Pi}function cr(){return Mi||(Mi=!0,Ri=TypeError),Ri}function hc(){return Ni||(Ni=!0,ji=URIError),ji}function pc(){if(Bi)return vr;Bi=!0;var a=typeof Symbol<"u"&&Symbol,s=ac();return vr=function(){return typeof a!="function"||typeof Symbol!="function"||typeof a("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:s()},vr}function dc(){if(Ui)return wr;Ui=!0;var a={__proto__:null,foo:{}},s=Object;return wr=function(){return{__proto__:a}.foo===a.foo&&!(a instanceof s)},wr}function gc(){if(Li)return _r;Li=!0;var a="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,o=Math.max,l="[object Function]",u=function(t,n){for(var i=[],c=0;c<t.length;c+=1)i[c]=t[c];for(var p=0;p<n.length;p+=1)i[p+t.length]=n[p];return i},e=function(t,n){for(var i=[],c=n,p=0;c<t.length;c+=1,p+=1)i[p]=t[c];return i},r=function(t,n){for(var i="",c=0;c<t.length;c+=1)i+=t[c],c+1<t.length&&(i+=n);return i};return _r=function(t){var n=this;if(typeof n!="function"||s.apply(n)!==l)throw new TypeError(a+n);for(var i=e(arguments,1),c,p=function(){if(this instanceof c){var b=n.apply(this,u(i,arguments));return Object(b)===b?b:this}return n.apply(t,u(i,arguments))},g=o(0,n.length-i.length),m=[],h=0;h<g;h++)m[h]="$"+h;if(c=Function("binder","return function ("+r(m,",")+"){ return binder.apply(this,arguments); }")(p),n.prototype){var y=function(){};y.prototype=n.prototype,c.prototype=new y,y.prototype=null}return c},_r}function go(){if(Di)return Sr;Di=!0;var a=gc();return Sr=Function.prototype.bind||a,Sr}function yc(){if(Fi)return Er;Fi=!0;var a=Function.prototype.call,s=Object.prototype.hasOwnProperty,o=go();return Er=o.call(a,s),Er}function Ht(){if(Wi)return Ar;Wi=!0;var a,s=lc(),o=uc(),l=cc(),u=fc(),e=za(),r=cr(),t=hc(),n=Function,i=function(Q){try{return n('"use strict"; return ('+Q+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var p=function(){throw new r},g=c?function(){try{return arguments.callee,p}catch{try{return c(arguments,"callee").get}catch{return p}}}():p,m=pc()(),h=dc()(),y=Object.getPrototypeOf||(h?function(Q){return Q.__proto__}:null),b={},S=typeof Uint8Array>"u"||!y?a:y(Uint8Array),d={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?a:ArrayBuffer,"%ArrayIteratorPrototype%":m&&y?y([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?a:Atomics,"%BigInt%":typeof BigInt>"u"?a:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?a:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":o,"%Float32Array%":typeof Float32Array>"u"?a:Float32Array,"%Float64Array%":typeof Float64Array>"u"?a:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?a:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?a:Int8Array,"%Int16Array%":typeof Int16Array>"u"?a:Int16Array,"%Int32Array%":typeof Int32Array>"u"?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&y?y(y([][Symbol.iterator]())):a,"%JSON%":typeof JSON=="object"?JSON:a,"%Map%":typeof Map>"u"?a:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!y?a:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?a:Promise,"%Proxy%":typeof Proxy>"u"?a:Proxy,"%RangeError%":l,"%ReferenceError%":u,"%Reflect%":typeof Reflect>"u"?a:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?a:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!y?a:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&y?y(""[Symbol.iterator]()):a,"%Symbol%":m?Symbol:a,"%SyntaxError%":e,"%ThrowTypeError%":g,"%TypedArray%":S,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?a:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?a:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?a:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?a:Uint32Array,"%URIError%":t,"%WeakMap%":typeof WeakMap>"u"?a:WeakMap,"%WeakRef%":typeof WeakRef>"u"?a:WeakRef,"%WeakSet%":typeof WeakSet>"u"?a:WeakSet};if(y)try{null.error}catch(Q){var w=y(y(Q));d["%Error.prototype%"]=w}var E=function Q(V){var re;if(V==="%AsyncFunction%")re=i("async function () {}");else if(V==="%GeneratorFunction%")re=i("function* () {}");else if(V==="%AsyncGeneratorFunction%")re=i("async function* () {}");else if(V==="%AsyncGenerator%"){var F=Q("%AsyncGeneratorFunction%");F&&(re=F.prototype)}else if(V==="%AsyncIteratorPrototype%"){var ee=Q("%AsyncGenerator%");ee&&y&&(re=y(ee.prototype))}return d[V]=re,re},v={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=go(),A=yc(),k=I.call(Function.call,Array.prototype.concat),R=I.call(Function.apply,Array.prototype.splice),P=I.call(Function.call,String.prototype.replace),B=I.call(Function.call,String.prototype.slice),T=I.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,U=function(Q){var V=B(Q,0,1),re=B(Q,-1);if(V==="%"&&re!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&V!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var F=[];return P(Q,W,function(ee,C,Y,oe){F[F.length]=Y?P(oe,L,"$1"):C||ee}),F},ae=function(Q,V){var re=Q,F;if(A(v,re)&&(F=v[re],re="%"+F[0]+"%"),A(d,re)){var ee=d[re];if(ee===b&&(ee=E(re)),typeof ee>"u"&&!V)throw new r("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:F,name:re,value:ee}}throw new e("intrinsic "+Q+" does not exist!")};return Ar=function(Q,V){if(typeof Q!="string"||Q.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new r('"allowMissing" argument must be a boolean');if(T(/^%?[^%]*%?$/,Q)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=U(Q),F=re.length>0?re[0]:"",ee=ae("%"+F+"%",V),C=ee.name,Y=ee.value,oe=!1,Z=ee.alias;Z&&(F=Z[0],R(re,k([0,1],Z)));for(var ve=1,K=!0;ve<re.length;ve+=1){var N=re[ve],ne=B(N,0,1),z=B(N,-1);if((ne==='"'||ne==="'"||ne==="`"||z==='"'||z==="'"||z==="`")&&ne!==z)throw new e("property names with quotes must have matching quotes");if((N==="constructor"||!K)&&(oe=!0),F+="."+N,C="%"+F+"%",A(d,C))Y=d[C];else if(Y!=null){if(!(N in Y)){if(!V)throw new r("base intrinsic for "+Q+" exists, but the property is not available.");return}if(c&&ve+1>=re.length){var G=c(Y,N);K=!!G,K&&"get"in G&&!("originalValue"in G.get)?Y=G.get:Y=Y[N]}else K=A(Y,N),Y=Y[N];K&&!oe&&(d[C]=Y)}}return Y},Ar}function yo(){if($i)return Ir;$i=!0;var a=Ht(),s=a("%Object.defineProperty%",!0)||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return Ir=s,Ir}function Ha(){if(qi)return xr;qi=!0;var a=Ht(),s=a("%Object.getOwnPropertyDescriptor%",!0);if(s)try{s([],"length")}catch{s=null}return xr=s,xr}function bc(){if(Vi)return kr;Vi=!0;var a=yo(),s=za(),o=cr(),l=Ha();return kr=function(u,e,r){if(!u||typeof u!="object"&&typeof u!="function")throw new o("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new o("`loose`, if provided, must be a boolean");var t=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,p=!!l&&l(u,e);if(a)a(u,e,{configurable:i===null&&p?p.configurable:!i,enumerable:t===null&&p?p.enumerable:!t,value:r,writable:n===null&&p?p.writable:!n});else if(c||!t&&!n&&!i)u[e]=r;else throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},kr}function mc(){if(zi)return Tr;zi=!0;var a=yo(),s=function(){return!!a};return s.hasArrayLengthDefineBug=function(){if(!a)return null;try{return a([],"length",{value:1}).length!==1}catch{return!0}},Tr=s,Tr}function vc(){if(Hi)return Or;Hi=!0;var a=Ht(),s=bc(),o=mc()(),l=Ha(),u=cr(),e=a("%Math.floor%");return Or=function(r,t){if(typeof r!="function")throw new u("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||e(t)!==t)throw new u("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,c=!0;if("length"in r&&l){var p=l(r,"length");p&&!p.configurable&&(i=!1),p&&!p.writable&&(c=!1)}return(i||c||!n)&&(o?s(r,"length",t,!0,!0):s(r,"length",t)),r},Or}function wc(){if(Ki)return $t;Ki=!0;var a=go(),s=Ht(),o=vc(),l=cr(),u=s("%Function.prototype.apply%"),e=s("%Function.prototype.call%"),r=s("%Reflect.apply%",!0)||a.call(e,u),t=yo(),n=s("%Math.max%");$t=function(c){if(typeof c!="function")throw new l("a function is required");var p=r(a,e,arguments);return o(p,1+n(0,c.length-(arguments.length-1)),!0)};var i=function(){return r(a,u,arguments)};return t?t($t,"apply",{value:i}):$t.apply=i,$t}function _c(){if(Gi)return Pr;Gi=!0;var a=Ht(),s=wc(),o=s(a("String.prototype.indexOf"));return Pr=function(l,u){var e=a(l,!!u);return typeof e=="function"&&o(l,".prototype.")>-1?s(e):e},Pr}var wi,_i,Si,Ei,Ai,Ii,xi,ki,Ti,Oi,Pi,Ci,Ri,Mi,ji,Ni,vr,Bi,wr,Ui,_r,Li,Sr,Di,Er,Fi,Ar,Wi,Ir,$i,xr,qi,kr,Vi,Tr,zi,Or,Hi,$t,Ki,Pr,Gi,Sc=Ge(()=>{ue(),fe(),ce(),wi={},_i=!1,Si={},Ei=!1,Ai={},Ii=!1,xi={},ki=!1,Ti={},Oi=!1,Pi={},Ci=!1,Ri={},Mi=!1,ji={},Ni=!1,vr={},Bi=!1,wr={},Ui=!1,_r={},Li=!1,Sr={},Di=!1,Er={},Fi=!1,Ar={},Wi=!1,Ir={},$i=!1,xr={},qi=!1,kr={},Vi=!1,Tr={},zi=!1,Or={},Hi=!1,$t={},Ki=!1,Pr={},Gi=!1});function bo(a){throw new Error("Node.js process "+a+" is not supported by JSPM core outside of Node.js")}function Ec(){!Mt||!Pt||(Mt=!1,Pt.length?ot=Pt.concat(ot):ir=-1,ot.length&&Ka())}function Ka(){if(!Mt){var a=setTimeout(Ec,0);Mt=!0;for(var s=ot.length;s;){for(Pt=ot,ot=[];++ir<s;)Pt&&Pt[ir].run();ir=-1,s=ot.length}Pt=null,Mt=!1,clearTimeout(a)}}function Ac(a){var s=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)s[o-1]=arguments[o];ot.push(new Ga(a,s)),ot.length===1&&!Mt&&setTimeout(Ka,0)}function Ga(a,s){this.fun=a,this.array=s}function We(){}function Ic(a){bo("_linkedBinding")}function xc(a){bo("dlopen")}function kc(){return[]}function Tc(){return[]}function Oc(a,s){if(!a)throw new Error(s||"assertion error")}function Pc(){return!1}function Cc(){return ft.now()/1e3}function on(a){var s=Math.floor((Date.now()-ft.now())*.001),o=ft.now()*.001,l=Math.floor(o)+s,u=Math.floor(o%1*1e9);return a&&(l=l-a[0],u=u-a[1],u<0&&(l--,u+=Cr)),[l,u]}function vt(){return mo}function Rc(a){return[]}var ot,Mt,Pt,ir,Io,xo,ko,To,Oo,Po,Co,Ro,Mo,jo,No,Bo,Uo,Lo,Do,Fo,Wo,$o,qo,Vo,zo,pr,Ho,Ko,Go,Qo,Yo,Jo,Xo,Zo,es,ts,rs,ns,is,os,ss,as,ls,us,cs,fs,hs,ps,ds,gs,ys,ft,sn,Cr,bs,ms,vs,ws,_s,Ss,Es,As,Is,xs,ks,mo,Qa=Ge(()=>{ue(),fe(),ce(),ot=[],Mt=!1,ir=-1,Ga.prototype.run=function(){this.fun.apply(null,this.array)},Io="browser",xo="x64",ko="browser",To={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Oo=["/usr/bin/node"],Po=[],Co="v16.8.0",Ro={},Mo=function(a,s){console.warn((s?s+": ":"")+a)},jo=function(a){bo("binding")},No=function(a){return 0},Bo=function(){return"/"},Uo=function(a){},Lo={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Do=We,Fo=[],Wo={},$o=!1,qo={},Vo=We,zo=We,pr=function(){return{}},Ho=pr,Ko=pr,Go=We,Qo=We,Yo=We,Jo={},Xo={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Zo=We,es=We,ts=We,rs=We,ns=We,is=We,os=We,ss=void 0,as=void 0,ls=void 0,us=We,cs=2,fs=1,hs="/bin/usr/node",ps=9229,ds="node",gs=[],ys=We,ft={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ft.now===void 0&&(sn=Date.now(),ft.timing&&ft.timing.navigationStart&&(sn=ft.timing.navigationStart),ft.now=()=>Date.now()-sn),Cr=1e9,on.bigint=function(a){var s=on(a);return typeof BigInt>"u"?s[0]*Cr+s[1]:BigInt(s[0]*Cr)+BigInt(s[1])},bs=10,ms={},vs=0,ws=vt,_s=vt,Ss=vt,Es=vt,As=vt,Is=We,xs=vt,ks=vt,mo={version:Co,versions:Ro,arch:xo,platform:ko,release:Lo,_rawDebug:Do,moduleLoadList:Fo,binding:jo,_linkedBinding:Ic,_events:ms,_eventsCount:vs,_maxListeners:bs,on:vt,addListener:ws,once:_s,off:Ss,removeListener:Es,removeAllListeners:As,emit:Is,prependListener:xs,prependOnceListener:ks,listeners:Rc,domain:Wo,_exiting:$o,config:qo,dlopen:xc,uptime:Cc,_getActiveRequests:kc,_getActiveHandles:Tc,reallyExit:Vo,_kill:zo,cpuUsage:pr,resourceUsage:Ho,memoryUsage:Ko,kill:Go,exit:Qo,openStdin:Yo,allowedNodeEnvironmentFlags:Jo,assert:Oc,features:Xo,_fatalExceptions:Zo,setUncaughtExceptionCaptureCallback:es,hasUncaughtExceptionCaptureCallback:Pc,emitWarning:Mo,nextTick:Ac,_tickCallback:ts,_debugProcess:rs,_debugEnd:ns,_startProfilerIdleNotifier:is,_stopProfilerIdleNotifier:os,stdout:ss,stdin:ls,stderr:as,abort:us,umask:No,chdir:Uo,cwd:Bo,env:To,title:Io,argv:Oo,execArgv:Po,pid:cs,ppid:fs,execPath:hs,debugPort:ps,hrtime:on,argv0:ds,_preload_modules:gs,setSourceMapsEnabled:ys}});function Mc(){if(Qi)return Rr;Qi=!0;var a=mo;function s(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,r){for(var t="",n=0,i=-1,c=0,p,g=0;g<=e.length;++g){if(g<e.length)p=e.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(i===g-1||c===1))if(i!==g-1&&c===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var m=t.lastIndexOf("/");if(m!==t.length-1){m===-1?(t="",n=0):(t=t.slice(0,m),n=t.length-1-t.lastIndexOf("/")),i=g,c=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=g,c=0;continue}}r&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+e.slice(i+1,g):t=e.slice(i+1,g),n=g-i-1;i=g,c=0}else p===46&&c!==-1?++c:c=-1}return t}function l(e,r){var t=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return t?t===r.root?t+n:t+e+n:n}var u={resolve:function(){for(var e="",r=!1,t,n=arguments.length-1;n>=-1&&!r;n--){var i;n>=0?i=arguments[n]:(t===void 0&&(t=a.cwd()),i=t),s(i),i.length!==0&&(e=i+"/"+e,r=i.charCodeAt(0)===47)}return e=o(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(s(e),e.length===0)return".";var r=e.charCodeAt(0)===47,t=e.charCodeAt(e.length-1)===47;return e=o(e,!r),e.length===0&&!r&&(e="."),e.length>0&&t&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return s(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var t=arguments[r];s(t),t.length>0&&(e===void 0?e=t:e+="/"+t)}return e===void 0?".":u.normalize(e)},relative:function(e,r){if(s(e),s(r),e===r||(e=u.resolve(e),r=u.resolve(r),e===r))return"";for(var t=1;t<e.length&&e.charCodeAt(t)===47;++t);for(var n=e.length,i=n-t,c=1;c<r.length&&r.charCodeAt(c)===47;++c);for(var p=r.length,g=p-c,m=i<g?i:g,h=-1,y=0;y<=m;++y){if(y===m){if(g>m){if(r.charCodeAt(c+y)===47)return r.slice(c+y+1);if(y===0)return r.slice(c+y)}else i>m&&(e.charCodeAt(t+y)===47?h=y:y===0&&(h=0));break}var b=e.charCodeAt(t+y),S=r.charCodeAt(c+y);if(b!==S)break;b===47&&(h=y)}var d="";for(y=t+h+1;y<=n;++y)(y===n||e.charCodeAt(y)===47)&&(d.length===0?d+="..":d+="/..");return d.length>0?d+r.slice(c+h):(c+=h,r.charCodeAt(c)===47&&++c,r.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(s(e),e.length===0)return".";for(var r=e.charCodeAt(0),t=r===47,n=-1,i=!0,c=e.length-1;c>=1;--c)if(r=e.charCodeAt(c),r===47){if(!i){n=c;break}}else i=!1;return n===-1?t?"/":".":t&&n===1?"//":e.slice(0,n)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');s(e);var t=0,n=-1,i=!0,c;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var p=r.length-1,g=-1;for(c=e.length-1;c>=0;--c){var m=e.charCodeAt(c);if(m===47){if(!i){t=c+1;break}}else g===-1&&(i=!1,g=c+1),p>=0&&(m===r.charCodeAt(p)?--p===-1&&(n=c):(p=-1,n=g))}return t===n?n=g:n===-1&&(n=e.length),e.slice(t,n)}else{for(c=e.length-1;c>=0;--c)if(e.charCodeAt(c)===47){if(!i){t=c+1;break}}else n===-1&&(i=!1,n=c+1);return n===-1?"":e.slice(t,n)}},extname:function(e){s(e);for(var r=-1,t=0,n=-1,i=!0,c=0,p=e.length-1;p>=0;--p){var g=e.charCodeAt(p);if(g===47){if(!i){t=p+1;break}continue}n===-1&&(i=!1,n=p+1),g===46?r===-1?r=p:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||n===-1||c===0||c===1&&r===n-1&&r===t+1?"":e.slice(r,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return l("/",e)},parse:function(e){s(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var t=e.charCodeAt(0),n=t===47,i;n?(r.root="/",i=1):i=0;for(var c=-1,p=0,g=-1,m=!0,h=e.length-1,y=0;h>=i;--h){if(t=e.charCodeAt(h),t===47){if(!m){p=h+1;break}continue}g===-1&&(m=!1,g=h+1),t===46?c===-1?c=h:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===p+1?g!==-1&&(p===0&&n?r.base=r.name=e.slice(1,g):r.base=r.name=e.slice(p,g)):(p===0&&n?(r.name=e.slice(1,c),r.base=e.slice(1,g)):(r.name=e.slice(p,c),r.base=e.slice(p,g)),r.ext=e.slice(c,g)),p>0?r.dir=e.slice(0,p-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,Rr=u,Rr}var Rr,Qi,Yi,jc=Ge(()=>{ue(),fe(),ce(),Qa(),Rr={},Qi=!1,Yi=Mc()}),Ya={};qt(Ya,{URL:()=>sl,Url:()=>tl,default:()=>$e,fileURLToPath:()=>Xa,format:()=>rl,parse:()=>ol,pathToFileURL:()=>Za,resolve:()=>nl,resolveObject:()=>il});function Nc(){if(Ji)return Mr;Ji=!0;var a=typeof Map=="function"&&Map.prototype,s=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=a&&s&&typeof s.get=="function"?s.get:null,l=a&&Map.prototype.forEach,u=typeof Set=="function"&&Set.prototype,e=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,r=u&&e&&typeof e.get=="function"?e.get:null,t=u&&Set.prototype.forEach,n=typeof WeakMap=="function"&&WeakMap.prototype,i=n?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,p=c?WeakSet.prototype.has:null,g=typeof WeakRef=="function"&&WeakRef.prototype,m=g?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,b=Function.prototype.toString,S=String.prototype.match,d=String.prototype.slice,w=String.prototype.replace,E=String.prototype.toUpperCase,v=String.prototype.toLowerCase,I=RegExp.prototype.test,A=Array.prototype.concat,k=Array.prototype.join,R=Array.prototype.slice,P=Math.floor,B=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,L=typeof Symbol=="function"&&typeof Symbol.iterator=="object",U=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||!0)?Symbol.toStringTag:null,ae=Object.prototype.propertyIsEnumerable,Q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(H){return H.__proto__}:null);function V(H,ie){if(H===1/0||H===-1/0||H!==H||H&&H>-1e3&&H<1e3||I.call(/e/,ie))return ie;var Ie=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof H=="number"){var xe=H<0?-P(-H):P(H);if(xe!==H){var ke=String(xe),Oe=d.call(ie,ke.length+1);return w.call(ke,Ie,"$&_")+"."+w.call(w.call(Oe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(ie,Ie,"$&_")}var re=el,F=re.custom,ee=G(F)?F:null;Mr=function H(ie,Ie,xe,ke){var Oe=Ie||{};if(se(Oe,"quoteStyle")&&Oe.quoteStyle!=="single"&&Oe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(se(Oe,"maxStringLength")&&(typeof Oe.maxStringLength=="number"?Oe.maxStringLength<0&&Oe.maxStringLength!==1/0:Oe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Je=se(Oe,"customInspect")?Oe.customInspect:!0;if(typeof Je!="boolean"&&Je!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(se(Oe,"indent")&&Oe.indent!==null&&Oe.indent!=="	"&&!(parseInt(Oe.indent,10)===Oe.indent&&Oe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(se(Oe,"numericSeparator")&&typeof Oe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Xe=Oe.numericSeparator;if(typeof ie>"u")return"undefined";if(ie===null)return"null";if(typeof ie=="boolean")return ie?"true":"false";if(typeof ie=="string")return le(ie,Oe);if(typeof ie=="number"){if(ie===0)return 1/0/ie>0?"0":"-0";var De=String(ie);return Xe?V(ie,De):De}if(typeof ie=="bigint"){var Ze=String(ie)+"n";return Xe?V(ie,Ze):Ze}var Ut=typeof Oe.depth>"u"?5:Oe.depth;if(typeof xe>"u"&&(xe=0),xe>=Ut&&Ut>0&&typeof ie=="object")return oe(ie)?"[Array]":"[Object]";var et=X(Oe,xe);if(typeof ke>"u")ke=[];else if(te(ke,ie)>=0)return"[Circular]";function Qe(tt,mt,Tt){if(mt&&(ke=R.call(ke),ke.push(mt)),Tt){var rt={depth:Oe.depth};return se(Oe,"quoteStyle")&&(rt.quoteStyle=Oe.quoteStyle),H(tt,rt,xe+1,ke)}return H(tt,Oe,xe+1,ke)}if(typeof ie=="function"&&!ve(ie)){var fr=$(ie),Lt=Se(ie,Qe);return"[Function"+(fr?": "+fr:" (anonymous)")+"]"+(Lt.length>0?" { "+k.call(Lt,", ")+" }":"")}if(G(ie)){var Kt=L?w.call(String(ie),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(ie);return typeof ie=="object"&&!L?f(Kt):Kt}if(we(ie)){for(var O="<"+v.call(String(ie.nodeName)),j=ie.attributes||[],_e=0;_e<j.length;_e++)O+=" "+j[_e].name+"="+C(Y(j[_e].value),"double",Oe);return O+=">",ie.childNodes&&ie.childNodes.length&&(O+="..."),O+="</"+v.call(String(ie.nodeName))+">",O}if(oe(ie)){if(ie.length===0)return"[]";var Ee=Se(ie,Qe);return et&&!D(Ee)?"["+he(Ee,et)+"]":"[ "+k.call(Ee,", ")+" ]"}if(K(ie)){var Ae=Se(ie,Qe);return!("cause"in Error.prototype)&&"cause"in ie&&!ae.call(ie,"cause")?"{ ["+String(ie)+"] "+k.call(A.call("[cause]: "+Qe(ie.cause),Ae),", ")+" }":Ae.length===0?"["+String(ie)+"]":"{ ["+String(ie)+"] "+k.call(Ae,", ")+" }"}if(typeof ie=="object"&&Je){if(ee&&typeof ie[ee]=="function"&&re)return re(ie,{depth:Ut-xe});if(Je!=="symbol"&&typeof ie.inspect=="function")return ie.inspect()}if(pe(ie)){var Ne=[];return l&&l.call(ie,function(tt,mt){Ne.push(Qe(mt,ie,!0)+" => "+Qe(tt,ie))}),x("Map",o.call(ie),Ne,et)}if(q(ie)){var Ve=[];return t&&t.call(ie,function(tt){Ve.push(Qe(tt,ie))}),x("Set",r.call(ie),Ve,et)}if(de(ie))return _("WeakMap");if(ye(ie))return _("WeakSet");if(me(ie))return _("WeakRef");if(ne(ie))return f(Qe(Number(ie)));if(J(ie))return f(Qe(B.call(ie)));if(z(ie))return f(h.call(ie));if(N(ie))return f(Qe(String(ie)));if(typeof window<"u"&&ie===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ie===globalThis||typeof jr<"u"&&ie===jr)return"{ [object globalThis] }";if(!Z(ie)&&!ve(ie)){var Ye=Se(ie,Qe),Gt=Q?Q(ie)===Object.prototype:ie instanceof Object||ie.constructor===Object,Qt=ie instanceof Object?"":"null prototype",Yt=!Gt&&U&&Object(ie)===ie&&U in ie?d.call(M(ie),8,-1):Qt?"Object":"",hr=Gt||typeof ie.constructor!="function"?"":ie.constructor.name?ie.constructor.name+" ":"",kt=hr+(Yt||Qt?"["+k.call(A.call([],Yt||[],Qt||[]),": ")+"] ":"");return Ye.length===0?kt+"{}":et?kt+"{"+he(Ye,et)+"}":kt+"{ "+k.call(Ye,", ")+" }"}return String(ie)};function C(H,ie,Ie){var xe=(Ie.quoteStyle||ie)==="double"?'"':"'";return xe+H+xe}function Y(H){return w.call(String(H),/"/g,"&quot;")}function oe(H){return M(H)==="[object Array]"&&(!U||!(typeof H=="object"&&U in H))}function Z(H){return M(H)==="[object Date]"&&(!U||!(typeof H=="object"&&U in H))}function ve(H){return M(H)==="[object RegExp]"&&(!U||!(typeof H=="object"&&U in H))}function K(H){return M(H)==="[object Error]"&&(!U||!(typeof H=="object"&&U in H))}function N(H){return M(H)==="[object String]"&&(!U||!(typeof H=="object"&&U in H))}function ne(H){return M(H)==="[object Number]"&&(!U||!(typeof H=="object"&&U in H))}function z(H){return M(H)==="[object Boolean]"&&(!U||!(typeof H=="object"&&U in H))}function G(H){if(L)return H&&typeof H=="object"&&H instanceof Symbol;if(typeof H=="symbol")return!0;if(!H||typeof H!="object"||!W)return!1;try{return W.call(H),!0}catch{}return!1}function J(H){if(!H||typeof H!="object"||!B)return!1;try{return B.call(H),!0}catch{}return!1}var be=Object.prototype.hasOwnProperty||function(H){return H in(this||jr)};function se(H,ie){return be.call(H,ie)}function M(H){return y.call(H)}function $(H){if(H.name)return H.name;var ie=S.call(b.call(H),/^function\s*([\w$]+)/);return ie?ie[1]:null}function te(H,ie){if(H.indexOf)return H.indexOf(ie);for(var Ie=0,xe=H.length;Ie<xe;Ie++)if(H[Ie]===ie)return Ie;return-1}function pe(H){if(!o||!H||typeof H!="object")return!1;try{o.call(H);try{r.call(H)}catch{return!0}return H instanceof Map}catch{}return!1}function de(H){if(!i||!H||typeof H!="object")return!1;try{i.call(H,i);try{p.call(H,p)}catch{return!0}return H instanceof WeakMap}catch{}return!1}function me(H){if(!m||!H||typeof H!="object")return!1;try{return m.call(H),!0}catch{}return!1}function q(H){if(!r||!H||typeof H!="object")return!1;try{r.call(H);try{o.call(H)}catch{return!0}return H instanceof Set}catch{}return!1}function ye(H){if(!p||!H||typeof H!="object")return!1;try{p.call(H,p);try{i.call(H,i)}catch{return!0}return H instanceof WeakSet}catch{}return!1}function we(H){return!H||typeof H!="object"?!1:typeof HTMLElement<"u"&&H instanceof HTMLElement?!0:typeof H.nodeName=="string"&&typeof H.getAttribute=="function"}function le(H,ie){if(H.length>ie.maxStringLength){var Ie=H.length-ie.maxStringLength,xe="... "+Ie+" more character"+(Ie>1?"s":"");return le(d.call(H,0,ie.maxStringLength),ie)+xe}var ke=w.call(w.call(H,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Te);return C(ke,"single",ie)}function Te(H){var ie=H.charCodeAt(0),Ie={8:"b",9:"t",10:"n",12:"f",13:"r"}[ie];return Ie?"\\"+Ie:"\\x"+(ie<16?"0":"")+E.call(ie.toString(16))}function f(H){return"Object("+H+")"}function _(H){return H+" { ? }"}function x(H,ie,Ie,xe){var ke=xe?he(Ie,xe):k.call(Ie,", ");return H+" ("+ie+") {"+ke+"}"}function D(H){for(var ie=0;ie<H.length;ie++)if(te(H[ie],`
`)>=0)return!1;return!0}function X(H,ie){var Ie;if(H.indent==="	")Ie="	";else if(typeof H.indent=="number"&&H.indent>0)Ie=k.call(Array(H.indent+1)," ");else return null;return{base:Ie,prev:k.call(Array(ie+1),Ie)}}function he(H,ie){if(H.length===0)return"";var Ie=`
`+ie.prev+ie.base;return Ie+k.call(H,","+Ie)+`
`+ie.prev}function Se(H,ie){var Ie=oe(H),xe=[];if(Ie){xe.length=H.length;for(var ke=0;ke<H.length;ke++)xe[ke]=se(H,ke)?ie(H[ke],H):""}var Oe=typeof T=="function"?T(H):[],Je;if(L){Je={};for(var Xe=0;Xe<Oe.length;Xe++)Je["$"+Oe[Xe]]=Oe[Xe]}for(var De in H)se(H,De)&&(Ie&&String(Number(De))===De&&De<H.length||L&&Je["$"+De]instanceof Symbol||(I.call(/[^\w$]/,De)?xe.push(ie(De,H)+": "+ie(H[De],H)):xe.push(De+": "+ie(H[De],H))));if(typeof T=="function")for(var Ze=0;Ze<Oe.length;Ze++)ae.call(H,Oe[Ze])&&xe.push("["+ie(Oe[Ze])+"]: "+ie(H[Oe[Ze]],H));return xe}return Mr}function Bc(){if(Xi)return Nr;Xi=!0;var a=Ht(),s=_c(),o=Nc(),l=cr(),u=a("%WeakMap%",!0),e=a("%Map%",!0),r=s("WeakMap.prototype.get",!0),t=s("WeakMap.prototype.set",!0),n=s("WeakMap.prototype.has",!0),i=s("Map.prototype.get",!0),c=s("Map.prototype.set",!0),p=s("Map.prototype.has",!0),g=function(b,S){for(var d=b,w;(w=d.next)!==null;d=w)if(w.key===S)return d.next=w.next,w.next=b.next,b.next=w,w},m=function(b,S){var d=g(b,S);return d&&d.value},h=function(b,S,d){var w=g(b,S);w?w.value=d:b.next={key:S,next:b.next,value:d}},y=function(b,S){return!!g(b,S)};return Nr=function(){var b,S,d,w={assert:function(E){if(!w.has(E))throw new l("Side channel does not contain "+o(E))},get:function(E){if(u&&E&&(typeof E=="object"||typeof E=="function")){if(b)return r(b,E)}else if(e){if(S)return i(S,E)}else if(d)return m(d,E)},has:function(E){if(u&&E&&(typeof E=="object"||typeof E=="function")){if(b)return n(b,E)}else if(e){if(S)return p(S,E)}else if(d)return y(d,E);return!1},set:function(E,v){u&&E&&(typeof E=="object"||typeof E=="function")?(b||(b=new u),t(b,E,v)):e?(S||(S=new e),c(S,E,v)):(d||(d={key:{},next:null}),h(d,E,v))}};return w},Nr}function vo(){if(Zi)return Br;Zi=!0;var a=String.prototype.replace,s=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Br={default:o.RFC3986,formatters:{RFC1738:function(l){return a.call(l,s,"+")},RFC3986:function(l){return String(l)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986},Br}function Ja(){if(eo)return Ur;eo=!0;var a=vo(),s=Object.prototype.hasOwnProperty,o=Array.isArray,l=function(){for(var b=[],S=0;S<256;++S)b.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return b}(),u=function(b){for(;b.length>1;){var S=b.pop(),d=S.obj[S.prop];if(o(d)){for(var w=[],E=0;E<d.length;++E)typeof d[E]<"u"&&w.push(d[E]);S.obj[S.prop]=w}}},e=function(b,S){for(var d=S&&S.plainObjects?Object.create(null):{},w=0;w<b.length;++w)typeof b[w]<"u"&&(d[w]=b[w]);return d},r=function b(S,d,w){if(!d)return S;if(typeof d!="object"){if(o(S))S.push(d);else if(S&&typeof S=="object")(w&&(w.plainObjects||w.allowPrototypes)||!s.call(Object.prototype,d))&&(S[d]=!0);else return[S,d];return S}if(!S||typeof S!="object")return[S].concat(d);var E=S;return o(S)&&!o(d)&&(E=e(S,w)),o(S)&&o(d)?(d.forEach(function(v,I){if(s.call(S,I)){var A=S[I];A&&typeof A=="object"&&v&&typeof v=="object"?S[I]=b(A,v,w):S.push(v)}else S[I]=v}),S):Object.keys(d).reduce(function(v,I){var A=d[I];return s.call(v,I)?v[I]=b(v[I],A,w):v[I]=A,v},E)},t=function(b,S){return Object.keys(S).reduce(function(d,w){return d[w]=S[w],d},b)},n=function(b,S,d){var w=b.replace(/\+/g," ");if(d==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch{return w}},i=1024,c=function(b,S,d,w,E){if(b.length===0)return b;var v=b;if(typeof b=="symbol"?v=Symbol.prototype.toString.call(b):typeof b!="string"&&(v=String(b)),d==="iso-8859-1")return escape(v).replace(/%u[0-9a-f]{4}/gi,function(T){return"%26%23"+parseInt(T.slice(2),16)+"%3B"});for(var I="",A=0;A<v.length;A+=i){for(var k=v.length>=i?v.slice(A,A+i):v,R=[],P=0;P<k.length;++P){var B=k.charCodeAt(P);if(B===45||B===46||B===95||B===126||B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122||E===a.RFC1738&&(B===40||B===41)){R[R.length]=k.charAt(P);continue}if(B<128){R[R.length]=l[B];continue}if(B<2048){R[R.length]=l[192|B>>6]+l[128|B&63];continue}if(B<55296||B>=57344){R[R.length]=l[224|B>>12]+l[128|B>>6&63]+l[128|B&63];continue}P+=1,B=65536+((B&1023)<<10|k.charCodeAt(P)&1023),R[R.length]=l[240|B>>18]+l[128|B>>12&63]+l[128|B>>6&63]+l[128|B&63]}I+=R.join("")}return I},p=function(b){for(var S=[{obj:{o:b},prop:"o"}],d=[],w=0;w<S.length;++w)for(var E=S[w],v=E.obj[E.prop],I=Object.keys(v),A=0;A<I.length;++A){var k=I[A],R=v[k];typeof R=="object"&&R!==null&&d.indexOf(R)===-1&&(S.push({obj:v,prop:k}),d.push(R))}return u(S),b},g=function(b){return Object.prototype.toString.call(b)==="[object RegExp]"},m=function(b){return!b||typeof b!="object"?!1:!!(b.constructor&&b.constructor.isBuffer&&b.constructor.isBuffer(b))},h=function(b,S){return[].concat(b,S)},y=function(b,S){if(o(b)){for(var d=[],w=0;w<b.length;w+=1)d.push(S(b[w]));return d}return S(b)};return Ur={arrayToObject:e,assign:t,combine:h,compact:p,decode:n,encode:c,isBuffer:m,isRegExp:g,maybeMap:y,merge:r},Ur}function Uc(){if(to)return Lr;to=!0;var a=Bc(),s=Ja(),o=vo(),l=Object.prototype.hasOwnProperty,u={brackets:function(y){return y+"[]"},comma:"comma",indices:function(y,b){return y+"["+b+"]"},repeat:function(y){return y}},e=Array.isArray,r=Array.prototype.push,t=function(y,b){r.apply(y,e(b)?b:[b])},n=Date.prototype.toISOString,i=o.default,c={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:s.encode,encodeValuesOnly:!1,format:i,formatter:o.formatters[i],indices:!1,serializeDate:function(y){return n.call(y)},skipNulls:!1,strictNullHandling:!1},p=function(y){return typeof y=="string"||typeof y=="number"||typeof y=="boolean"||typeof y=="symbol"||typeof y=="bigint"},g={},m=function y(b,S,d,w,E,v,I,A,k,R,P,B,T,W,L,U,ae,Q){for(var V=b,re=Q,F=0,ee=!1;(re=re.get(g))!==void 0&&!ee;){var C=re.get(b);if(F+=1,typeof C<"u"){if(C===F)throw new RangeError("Cyclic object value");ee=!0}typeof re.get(g)>"u"&&(F=0)}if(typeof R=="function"?V=R(S,V):V instanceof Date?V=T(V):d==="comma"&&e(V)&&(V=s.maybeMap(V,function(M){return M instanceof Date?T(M):M})),V===null){if(v)return k&&!U?k(S,c.encoder,ae,"key",W):S;V=""}if(p(V)||s.isBuffer(V)){if(k){var Y=U?S:k(S,c.encoder,ae,"key",W);return[L(Y)+"="+L(k(V,c.encoder,ae,"value",W))]}return[L(S)+"="+L(String(V))]}var oe=[];if(typeof V>"u")return oe;var Z;if(d==="comma"&&e(V))U&&k&&(V=s.maybeMap(V,k)),Z=[{value:V.length>0?V.join(",")||null:void 0}];else if(e(R))Z=R;else{var ve=Object.keys(V);Z=P?ve.sort(P):ve}var K=A?S.replace(/\./g,"%2E"):S,N=w&&e(V)&&V.length===1?K+"[]":K;if(E&&e(V)&&V.length===0)return N+"[]";for(var ne=0;ne<Z.length;++ne){var z=Z[ne],G=typeof z=="object"&&typeof z.value<"u"?z.value:V[z];if(!(I&&G===null)){var J=B&&A?z.replace(/\./g,"%2E"):z,be=e(V)?typeof d=="function"?d(N,J):N:N+(B?"."+J:"["+J+"]");Q.set(b,F);var se=a();se.set(g,Q),t(oe,y(G,be,d,w,E,v,I,A,d==="comma"&&U&&e(V)?null:k,R,P,B,T,W,L,U,ae,se))}}return oe},h=function(y){if(!y)return c;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.encodeDotInKeys<"u"&&typeof y.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(y.encoder!==null&&typeof y.encoder<"u"&&typeof y.encoder!="function")throw new TypeError("Encoder has to be a function.");var b=y.charset||c.charset;if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var S=o.default;if(typeof y.format<"u"){if(!l.call(o.formatters,y.format))throw new TypeError("Unknown format option provided.");S=y.format}var d=o.formatters[S],w=c.filter;(typeof y.filter=="function"||e(y.filter))&&(w=y.filter);var E;if(y.arrayFormat in u?E=y.arrayFormat:"indices"in y?E=y.indices?"indices":"repeat":E=c.arrayFormat,"commaRoundTrip"in y&&typeof y.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v=typeof y.allowDots>"u"?y.encodeDotInKeys===!0?!0:c.allowDots:!!y.allowDots;return{addQueryPrefix:typeof y.addQueryPrefix=="boolean"?y.addQueryPrefix:c.addQueryPrefix,allowDots:v,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:c.allowEmptyArrays,arrayFormat:E,charset:b,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:c.charsetSentinel,commaRoundTrip:y.commaRoundTrip,delimiter:typeof y.delimiter>"u"?c.delimiter:y.delimiter,encode:typeof y.encode=="boolean"?y.encode:c.encode,encodeDotInKeys:typeof y.encodeDotInKeys=="boolean"?y.encodeDotInKeys:c.encodeDotInKeys,encoder:typeof y.encoder=="function"?y.encoder:c.encoder,encodeValuesOnly:typeof y.encodeValuesOnly=="boolean"?y.encodeValuesOnly:c.encodeValuesOnly,filter:w,format:S,formatter:d,serializeDate:typeof y.serializeDate=="function"?y.serializeDate:c.serializeDate,skipNulls:typeof y.skipNulls=="boolean"?y.skipNulls:c.skipNulls,sort:typeof y.sort=="function"?y.sort:null,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:c.strictNullHandling}};return Lr=function(y,b){var S=y,d=h(b),w,E;typeof d.filter=="function"?(E=d.filter,S=E("",S)):e(d.filter)&&(E=d.filter,w=E);var v=[];if(typeof S!="object"||S===null)return"";var I=u[d.arrayFormat],A=I==="comma"&&d.commaRoundTrip;w||(w=Object.keys(S)),d.sort&&w.sort(d.sort);for(var k=a(),R=0;R<w.length;++R){var P=w[R];d.skipNulls&&S[P]===null||t(v,m(S[P],P,I,A,d.allowEmptyArrays,d.strictNullHandling,d.skipNulls,d.encodeDotInKeys,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,k))}var B=v.join(d.delimiter),T=d.addQueryPrefix===!0?"?":"";return d.charsetSentinel&&(d.charset==="iso-8859-1"?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),B.length>0?T+B:""},Lr}function Lc(){if(ro)return Dr;ro=!0;var a=Ja(),s=Object.prototype.hasOwnProperty,o=Array.isArray,l={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:a.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},u=function(g){return g.replace(/&#(\d+);/g,function(m,h){return String.fromCharCode(parseInt(h,10))})},e=function(g,m){return g&&typeof g=="string"&&m.comma&&g.indexOf(",")>-1?g.split(","):g},r="utf8=%26%2310003%3B",t="utf8=%E2%9C%93",n=function(g,m){var h={__proto__:null},y=m.ignoreQueryPrefix?g.replace(/^\?/,""):g;y=y.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var b=m.parameterLimit===1/0?void 0:m.parameterLimit,S=y.split(m.delimiter,b),d=-1,w,E=m.charset;if(m.charsetSentinel)for(w=0;w<S.length;++w)S[w].indexOf("utf8=")===0&&(S[w]===t?E="utf-8":S[w]===r&&(E="iso-8859-1"),d=w,w=S.length);for(w=0;w<S.length;++w)if(w!==d){var v=S[w],I=v.indexOf("]="),A=I===-1?v.indexOf("="):I+1,k,R;A===-1?(k=m.decoder(v,l.decoder,E,"key"),R=m.strictNullHandling?null:""):(k=m.decoder(v.slice(0,A),l.decoder,E,"key"),R=a.maybeMap(e(v.slice(A+1),m),function(B){return m.decoder(B,l.decoder,E,"value")})),R&&m.interpretNumericEntities&&E==="iso-8859-1"&&(R=u(R)),v.indexOf("[]=")>-1&&(R=o(R)?[R]:R);var P=s.call(h,k);P&&m.duplicates==="combine"?h[k]=a.combine(h[k],R):(!P||m.duplicates==="last")&&(h[k]=R)}return h},i=function(g,m,h,y){for(var b=y?m:e(m,h),S=g.length-1;S>=0;--S){var d,w=g[S];if(w==="[]"&&h.parseArrays)d=h.allowEmptyArrays&&(b===""||h.strictNullHandling&&b===null)?[]:[].concat(b);else{d=h.plainObjects?Object.create(null):{};var E=w.charAt(0)==="["&&w.charAt(w.length-1)==="]"?w.slice(1,-1):w,v=h.decodeDotInKeys?E.replace(/%2E/g,"."):E,I=parseInt(v,10);!h.parseArrays&&v===""?d={0:b}:!isNaN(I)&&w!==v&&String(I)===v&&I>=0&&h.parseArrays&&I<=h.arrayLimit?(d=[],d[I]=b):v!=="__proto__"&&(d[v]=b)}b=d}return b},c=function(g,m,h,y){if(g){var b=h.allowDots?g.replace(/\.([^.[]+)/g,"[$1]"):g,S=/(\[[^[\]]*])/,d=/(\[[^[\]]*])/g,w=h.depth>0&&S.exec(b),E=w?b.slice(0,w.index):b,v=[];if(E){if(!h.plainObjects&&s.call(Object.prototype,E)&&!h.allowPrototypes)return;v.push(E)}for(var I=0;h.depth>0&&(w=d.exec(b))!==null&&I<h.depth;){if(I+=1,!h.plainObjects&&s.call(Object.prototype,w[1].slice(1,-1))&&!h.allowPrototypes)return;v.push(w[1])}if(w){if(h.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+h.depth+" and strictDepth is true");v.push("["+b.slice(w.index)+"]")}return i(v,m,h,y)}},p=function(g){if(!g)return l;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.decodeDotInKeys<"u"&&typeof g.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(g.decoder!==null&&typeof g.decoder<"u"&&typeof g.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=typeof g.charset>"u"?l.charset:g.charset,h=typeof g.duplicates>"u"?l.duplicates:g.duplicates;if(h!=="combine"&&h!=="first"&&h!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var y=typeof g.allowDots>"u"?g.decodeDotInKeys===!0?!0:l.allowDots:!!g.allowDots;return{allowDots:y,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:l.allowEmptyArrays,allowPrototypes:typeof g.allowPrototypes=="boolean"?g.allowPrototypes:l.allowPrototypes,allowSparse:typeof g.allowSparse=="boolean"?g.allowSparse:l.allowSparse,arrayLimit:typeof g.arrayLimit=="number"?g.arrayLimit:l.arrayLimit,charset:m,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:l.charsetSentinel,comma:typeof g.comma=="boolean"?g.comma:l.comma,decodeDotInKeys:typeof g.decodeDotInKeys=="boolean"?g.decodeDotInKeys:l.decodeDotInKeys,decoder:typeof g.decoder=="function"?g.decoder:l.decoder,delimiter:typeof g.delimiter=="string"||a.isRegExp(g.delimiter)?g.delimiter:l.delimiter,depth:typeof g.depth=="number"||g.depth===!1?+g.depth:l.depth,duplicates:h,ignoreQueryPrefix:g.ignoreQueryPrefix===!0,interpretNumericEntities:typeof g.interpretNumericEntities=="boolean"?g.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:typeof g.parameterLimit=="number"?g.parameterLimit:l.parameterLimit,parseArrays:g.parseArrays!==!1,plainObjects:typeof g.plainObjects=="boolean"?g.plainObjects:l.plainObjects,strictDepth:typeof g.strictDepth=="boolean"?!!g.strictDepth:l.strictDepth,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:l.strictNullHandling}};return Dr=function(g,m){var h=p(m);if(g===""||g===null||typeof g>"u")return h.plainObjects?Object.create(null):{};for(var y=typeof g=="string"?n(g,h):g,b=h.plainObjects?Object.create(null):{},S=Object.keys(y),d=0;d<S.length;++d){var w=S[d],E=c(w,y[w],h,typeof g=="string");b=a.merge(b,E,h)}return h.allowSparse===!0?b:a.compact(b)},Dr}function Dc(){if(no)return Fr;no=!0;var a=Uc(),s=Lc(),o=vo();return Fr={formats:o,parse:s,stringify:a},Fr}function Fc(){if(io)return St;io=!0;var a=_t;function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,e=["<",">",'"',"`"," ","\r",`
`,"	"],r=["{","}","|","\\","^","`"].concat(e),t=["'"].concat(r),n=["%","/","?",";","#"].concat(t),i=["/","?","#"],c=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=Dc();function S(v,I,A){if(v&&typeof v=="object"&&v instanceof s)return v;var k=new s;return k.parse(v,I,A),k}s.prototype.parse=function(v,I,A){if(typeof v!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof v);var k=v.indexOf("?"),R=k!==-1&&k<v.indexOf("#")?"?":"#",P=v.split(R),B=/\\/g;P[0]=P[0].replace(B,"/"),v=P.join(R);var T=v;if(T=T.trim(),!A&&v.split("#").length===1){var W=u.exec(T);if(W)return this.path=T,this.href=T,this.pathname=W[1],W[2]?(this.search=W[2],I?this.query=b.parse(this.search.substr(1)):this.query=this.search.substr(1)):I&&(this.search="",this.query={}),this}var L=o.exec(T);if(L){L=L[0];var U=L.toLowerCase();this.protocol=U,T=T.substr(L.length)}if(A||L||T.match(/^\/\/[^@/]+@[^@/]+/)){var ae=T.substr(0,2)==="//";ae&&!(L&&h[L])&&(T=T.substr(2),this.slashes=!0)}if(!h[L]&&(ae||L&&!y[L])){for(var Q=-1,V=0;V<i.length;V++){var re=T.indexOf(i[V]);re!==-1&&(Q===-1||re<Q)&&(Q=re)}var F,ee;Q===-1?ee=T.lastIndexOf("@"):ee=T.lastIndexOf("@",Q),ee!==-1&&(F=T.slice(0,ee),T=T.slice(ee+1),this.auth=decodeURIComponent(F)),Q=-1;for(var V=0;V<n.length;V++){var re=T.indexOf(n[V]);re!==-1&&(Q===-1||re<Q)&&(Q=re)}Q===-1&&(Q=T.length),this.host=T.slice(0,Q),T=T.slice(Q),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var Y=this.hostname.split(/\./),V=0,oe=Y.length;V<oe;V++){var Z=Y[V];if(Z&&!Z.match(p)){for(var ve="",K=0,N=Z.length;K<N;K++)Z.charCodeAt(K)>127?ve+="x":ve+=Z[K];if(!ve.match(p)){var ne=Y.slice(0,V),z=Y.slice(V+1),G=Z.match(g);G&&(ne.push(G[1]),z.unshift(G[2])),z.length&&(T="/"+z.join(".")+T),this.hostname=ne.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=a.toASCII(this.hostname));var J=this.port?":"+this.port:"",be=this.hostname||"";this.host=be+J,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!m[U])for(var V=0,oe=t.length;V<oe;V++){var se=t[V];if(T.indexOf(se)!==-1){var M=encodeURIComponent(se);M===se&&(M=escape(se)),T=T.split(se).join(M)}}var $=T.indexOf("#");$!==-1&&(this.hash=T.substr($),T=T.slice(0,$));var te=T.indexOf("?");if(te!==-1?(this.search=T.substr(te),this.query=T.substr(te+1),I&&(this.query=b.parse(this.query)),T=T.slice(0,te)):I&&(this.search="",this.query={}),T&&(this.pathname=T),y[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",pe=this.search||"";this.path=J+pe}return this.href=this.format(),this};function d(v){return typeof v=="string"&&(v=S(v)),v instanceof s?v.format():s.prototype.format.call(v)}s.prototype.format=function(){var v=this.auth||"";v&&(v=encodeURIComponent(v),v=v.replace(/%3A/i,":"),v+="@");var I=this.protocol||"",A=this.pathname||"",k=this.hash||"",R=!1,P="";this.host?R=v+this.host:this.hostname&&(R=v+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(R+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(P=b.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var B=this.search||P&&"?"+P||"";return I&&I.substr(-1)!==":"&&(I+=":"),this.slashes||(!I||y[I])&&R!==!1?(R="//"+(R||""),A&&A.charAt(0)!=="/"&&(A="/"+A)):R||(R=""),k&&k.charAt(0)!=="#"&&(k="#"+k),B&&B.charAt(0)!=="?"&&(B="?"+B),A=A.replace(/[?#]/g,function(T){return encodeURIComponent(T)}),B=B.replace("#","%23"),I+R+A+B+k};function w(v,I){return S(v,!1,!0).resolve(I)}s.prototype.resolve=function(v){return this.resolveObject(S(v,!1,!0)).format()};function E(v,I){return v?S(v,!1,!0).resolveObject(I):I}return s.prototype.resolveObject=function(v){if(typeof v=="string"){var I=new s;I.parse(v,!1,!0),v=I}for(var A=new s,k=Object.keys(this),R=0;R<k.length;R++){var P=k[R];A[P]=this[P]}if(A.hash=v.hash,v.href==="")return A.href=A.format(),A;if(v.slashes&&!v.protocol){for(var B=Object.keys(v),T=0;T<B.length;T++){var W=B[T];W!=="protocol"&&(A[W]=v[W])}return y[A.protocol]&&A.hostname&&!A.pathname&&(A.pathname="/",A.path=A.pathname),A.href=A.format(),A}if(v.protocol&&v.protocol!==A.protocol){if(!y[v.protocol]){for(var L=Object.keys(v),U=0;U<L.length;U++){var ae=L[U];A[ae]=v[ae]}return A.href=A.format(),A}if(A.protocol=v.protocol,!v.host&&!h[v.protocol]){for(var oe=(v.pathname||"").split("/");oe.length&&!(v.host=oe.shift()););v.host||(v.host=""),v.hostname||(v.hostname=""),oe[0]!==""&&oe.unshift(""),oe.length<2&&oe.unshift(""),A.pathname=oe.join("/")}else A.pathname=v.pathname;if(A.search=v.search,A.query=v.query,A.host=v.host||"",A.auth=v.auth,A.hostname=v.hostname||v.host,A.port=v.port,A.pathname||A.search){var Q=A.pathname||"",V=A.search||"";A.path=Q+V}return A.slashes=A.slashes||v.slashes,A.href=A.format(),A}var re=A.pathname&&A.pathname.charAt(0)==="/",F=v.host||v.pathname&&v.pathname.charAt(0)==="/",ee=F||re||A.host&&v.pathname,C=ee,Y=A.pathname&&A.pathname.split("/")||[],oe=v.pathname&&v.pathname.split("/")||[],Z=A.protocol&&!y[A.protocol];if(Z&&(A.hostname="",A.port=null,A.host&&(Y[0]===""?Y[0]=A.host:Y.unshift(A.host)),A.host="",v.protocol&&(v.hostname=null,v.port=null,v.host&&(oe[0]===""?oe[0]=v.host:oe.unshift(v.host)),v.host=null),ee=ee&&(oe[0]===""||Y[0]==="")),F)A.host=v.host||v.host===""?v.host:A.host,A.hostname=v.hostname||v.hostname===""?v.hostname:A.hostname,A.search=v.search,A.query=v.query,Y=oe;else if(oe.length)Y||(Y=[]),Y.pop(),Y=Y.concat(oe),A.search=v.search,A.query=v.query;else if(v.search!=null){if(Z){A.host=Y.shift(),A.hostname=A.host;var ve=A.host&&A.host.indexOf("@")>0?A.host.split("@"):!1;ve&&(A.auth=ve.shift(),A.hostname=ve.shift(),A.host=A.hostname)}return A.search=v.search,A.query=v.query,(A.pathname!==null||A.search!==null)&&(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.href=A.format(),A}if(!Y.length)return A.pathname=null,A.search?A.path="/"+A.search:A.path=null,A.href=A.format(),A;for(var K=Y.slice(-1)[0],N=(A.host||v.host||Y.length>1)&&(K==="."||K==="..")||K==="",ne=0,z=Y.length;z>=0;z--)K=Y[z],K==="."?Y.splice(z,1):K===".."?(Y.splice(z,1),ne++):ne&&(Y.splice(z,1),ne--);if(!ee&&!C)for(;ne--;ne)Y.unshift("..");ee&&Y[0]!==""&&(!Y[0]||Y[0].charAt(0)!=="/")&&Y.unshift(""),N&&Y.join("/").substr(-1)!=="/"&&Y.push("");var G=Y[0]===""||Y[0]&&Y[0].charAt(0)==="/";if(Z){A.hostname=G?"":Y.length?Y.shift():"",A.host=A.hostname;var ve=A.host&&A.host.indexOf("@")>0?A.host.split("@"):!1;ve&&(A.auth=ve.shift(),A.hostname=ve.shift(),A.host=A.hostname)}return ee=ee||A.host&&Y.length,ee&&!G&&Y.unshift(""),Y.length>0?A.pathname=Y.join("/"):(A.pathname=null,A.path=null),(A.pathname!==null||A.search!==null)&&(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.auth=v.auth||A.auth,A.slashes=A.slashes||v.slashes,A.href=A.format(),A},s.prototype.parseHost=function(){var v=this.host,I=l.exec(v);I&&(I=I[0],I!==":"&&(this.port=I.substr(1)),v=v.substr(0,v.length-I.length)),v&&(this.hostname=v)},St.parse=S,St.resolve=w,St.resolveObject=E,St.format=d,St.Url=s,St}function Xa(a){if(typeof a=="string")a=new URL(a);else if(!(a instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(a.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Kr?Wc(a):$c(a)}function Wc(a){let s=a.hostname,o=a.pathname;for(let l=0;l<o.length;l++)if(o[l]==="%"){let u=o.codePointAt(l+2)||32;if(o[l+1]==="2"&&u===102||o[l+1]==="5"&&u===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(o=o.replace(fl,"\\"),o=decodeURIComponent(o),s!=="")return`\\\\${s}${o}`;{let l=o.codePointAt(1)|32,u=o[2];if(l<ul||l>cl||u!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return o.slice(1)}}function $c(a){if(a.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let s=a.pathname;for(let o=0;o<s.length;o++)if(s[o]==="%"){let l=s.codePointAt(o+2)||32;if(s[o+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(s)}function Za(a){let s=Yi.resolve(a),o=a.charCodeAt(a.length-1);(o===ll||Kr&&o===al)&&s[s.length-1]!==Yi.sep&&(s+="/");let l=new URL("file://");return s.includes("%")&&(s=s.replace(hl,"%25")),!Kr&&s.includes("\\")&&(s=s.replace(pl,"%5C")),s.includes(`
`)&&(s=s.replace(dl,"%0A")),s.includes("\r")&&(s=s.replace(gl,"%0D")),s.includes("	")&&(s=s.replace(yl,"%09")),l.pathname=s,l}var el,Mr,Ji,jr,Nr,Xi,Br,Zi,Ur,eo,Lr,to,Dr,ro,Fr,no,St,io,$e,Ts,tl,rl,nl,il,ol,sl,al,ll,ul,cl,Kr,fl,hl,pl,dl,gl,yl,qc=Ge(()=>{ue(),fe(),ce(),sc(),Sc(),jc(),Qa(),el=Object.freeze(Object.create(null)),Mr={},Ji=!1,jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Nr={},Xi=!1,Br={},Zi=!1,Ur={},eo=!1,Lr={},to=!1,Dr={},ro=!1,Fr={},no=!1,St={},io=!1,$e=Fc(),$e.parse,$e.resolve,$e.resolveObject,$e.format,$e.Url,Ts=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,$e.URL=typeof URL<"u"?URL:null,$e.pathToFileURL=Za,$e.fileURLToPath=Xa,tl=$e.Url,rl=$e.format,nl=$e.resolve,il=$e.resolveObject,ol=$e.parse,sl=$e.URL,al=92,ll=47,ul=97,cl=122,Kr=Ts==="win32",fl=/\//g,hl=/%/g,pl=/\\/g,dl=/\n/g,gl=/\r/g,yl=/\t/g}),Vc=ge((a,s)=>{ue(),fe(),ce(),s.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),wo=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0}),a.BufferedDuplex=void 0,a.writev=l;var s=Bt(),o=(Le(),Pe(Ue));function l(e,r){let t=new Array(e.length);for(let n=0;n<e.length;n++)typeof e[n].chunk=="string"?t[n]=o.Buffer.from(e[n].chunk,"utf8"):t[n]=e[n].chunk;this._write(o.Buffer.concat(t),"binary",r)}var u=class extends s.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(e,r,t){super({objectMode:!0}),this.proxy=r,this.socket=t,this.writeQueue=[],e.objectMode||(this._writev=l.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",n=>{!this.destroyed&&this.readable&&this.push(n)})}_read(e){this.proxy.read(e)}_write(e,r,t){this.isSocketOpen?this.writeToProxy(e,r,t):this.writeQueue.push({chunk:e,encoding:r,cb:t})}_final(e){this.writeQueue=[],this.proxy.end(e)}_destroy(e,r){this.writeQueue=[],this.proxy.destroy(),r(e)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(e,r,t){this.proxy.write(e,r)===!1?this.proxy.once("drain",t):t()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:r,cb:t}=this.writeQueue.shift();this.writeToProxy(e,r,t)}}};a.BufferedDuplex=u}),dr=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(a,"__esModule",{value:!0}),a.streamBuilder=a.browserStreamBuilder=void 0;var o=(Le(),Pe(Ue)),l=s(Vc()),u=s(dt()),e=Bt(),r=s(en()),t=wo(),n=(0,u.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(S,d){let w=`${S.protocol}://${S.hostname}:${S.port}${S.path}`;return typeof S.transformWsUrl=="function"&&(w=S.transformWsUrl(w,S,d)),w}function p(S){let d=S;return S.port||(S.protocol==="wss"?d.port=443:d.port=80),S.path||(d.path="/"),S.wsOptions||(d.wsOptions={}),!r.default&&!S.forceNativeWebSocket&&S.protocol==="wss"&&i.forEach(w=>{Object.prototype.hasOwnProperty.call(S,w)&&!Object.prototype.hasOwnProperty.call(S.wsOptions,w)&&(d.wsOptions[w]=S[w])}),d}function g(S){let d=p(S);if(d.hostname||(d.hostname=d.host),!d.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let w=new URL(document.URL);d.hostname=w.hostname,d.port||(d.port=Number(w.port))}return d.objectMode===void 0&&(d.objectMode=!(d.binary===!0||d.binary===void 0)),d}function m(S,d,w){n("createWebSocket"),n(`protocol: ${w.protocolId} ${w.protocolVersion}`);let E=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";n(`creating new Websocket for url: ${d} and protocol: ${E}`);let v;return w.createWebsocket?v=w.createWebsocket(d,[E],w):v=new l.default(d,[E],w.wsOptions),v}function h(S,d){let w=d.protocolId==="MQIsdp"&&d.protocolVersion===3?"mqttv3.1":"mqtt",E=c(d,S),v;return d.createWebsocket?v=d.createWebsocket(E,[w],d):v=new WebSocket(E,[w]),v.binaryType="arraybuffer",v}var y=(S,d)=>{n("streamBuilder");let w=p(d);w.hostname=w.hostname||w.host||"localhost";let E=c(w,S),v=m(S,E,w),I=l.default.createWebSocketStream(v,w.wsOptions);return I.url=E,v.on("close",()=>{I.destroy()}),I};a.streamBuilder=y;var b=(S,d)=>{n("browserStreamBuilder");let w,E=g(d).browserBufferSize||1024*512,v=d.browserBufferTimeout||1e3,I=!d.objectMode,A=h(S,d),k=P(d,U,ae);d.objectMode||(k._writev=t.writev.bind(k)),k.on("close",()=>{A.close()});let R=typeof A.addEventListener<"u";A.readyState===A.OPEN?(w=k,w.socket=A):(w=new t.BufferedDuplex(d,k,A),R?A.addEventListener("open",B):A.onopen=B),R?(A.addEventListener("close",T),A.addEventListener("error",W),A.addEventListener("message",L)):(A.onclose=T,A.onerror=W,A.onmessage=L);function P(Q,V,re){let F=new e.Transform({objectMode:Q.objectMode});return F._write=V,F._flush=re,F}function B(){n("WebSocket onOpen"),w instanceof t.BufferedDuplex&&w.socketReady()}function T(Q){n("WebSocket onClose",Q),w.end(),w.destroy()}function W(Q){n("WebSocket onError",Q);let V=new Error("WebSocket error");V.event=Q,w.destroy(V)}async function L(Q){if(!k||k.destroyed||!k.readable)return;let{data:V}=Q;V instanceof ArrayBuffer?V=o.Buffer.from(V):V instanceof Blob?V=o.Buffer.from(await new Response(V).arrayBuffer()):V=o.Buffer.from(V,"utf8"),k.push(V)}function U(Q,V,re){if(A.bufferedAmount>E){setTimeout(U,v,Q,V,re);return}I&&typeof Q=="string"&&(Q=o.Buffer.from(Q,"utf8"));try{A.send(Q)}catch(F){return re(F)}re()}function ae(Q){A.close(),Q()}return w};a.browserStreamBuilder=b}),_o={};qt(_o,{Server:()=>Re,Socket:()=>Re,Stream:()=>Re,_createServerHandle:()=>Re,_normalizeArgs:()=>Re,_setSimultaneousAccepts:()=>Re,connect:()=>Re,createConnection:()=>Re,createServer:()=>Re,default:()=>bl,isIP:()=>Re,isIPv4:()=>Re,isIPv6:()=>Re});function Re(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var bl,ml=Ge(()=>{ue(),fe(),ce(),bl={_createServerHandle:Re,_normalizeArgs:Re,_setSimultaneousAccepts:Re,connect:Re,createConnection:Re,createServer:Re,isIP:Re,isIPv4:Re,isIPv6:Re,Server:Re,Socket:Re,Stream:Re}}),vl=ge((a,s)=>{ue(),fe(),ce(),s.exports={}}),Os=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a,"__esModule",{value:!0});var o=s((ml(),Pe(_o))),l=s(dt()),u=s(vl()),e=(0,l.default)("mqttjs:tcp"),r=(t,n)=>{if(n.port=n.port||1883,n.hostname=n.hostname||n.host||"localhost",n.socksProxy)return(0,u.default)(n.hostname,n.port,n.socksProxy,{timeout:n.socksTimeout});let{port:i,path:c}=n,p=n.hostname;return e("port %d and host %s",i,p),o.default.createConnection({port:i,host:p,path:c})};a.default=r}),wl={};qt(wl,{default:()=>_l});var _l,zc=Ge(()=>{ue(),fe(),ce(),_l={}}),Ps=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(a,"__esModule",{value:!0});var o=(zc(),Pe(wl)),l=s((ml(),Pe(_o))),u=s(dt()),e=s(vl()),r=(0,u.default)("mqttjs:tls");function t(i){let{host:c,port:p,socksProxy:g,...m}=i;if(g!==void 0){let h=(0,e.default)(c,p,g,{timeout:i.socksTimeout});return(0,o.connect)({...m,socket:h})}return(0,o.connect)(i)}var n=(i,c)=>{c.port=c.port||8883,c.host=c.hostname||c.host||"localhost",l.default.isIP(c.host)===0&&(c.servername=c.host),c.rejectUnauthorized=c.rejectUnauthorized!==!1,delete c.path,r("port %d host %s rejectUnauthorized %b",c.port,c.host,c.rejectUnauthorized);let p=t(c);p.on("secureConnect",()=>{c.rejectUnauthorized&&!p.authorized?p.emit("error",new Error("TLS not authorized")):p.removeListener("error",g)});function g(m){c.rejectUnauthorized&&i.emit("error",m),p.end()}return p.on("error",g),p};a.default=n}),Cs=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=(Le(),Pe(Ue)),o=Bt(),l=wo(),u,e,r;function t(){let g=new o.Transform;return g._write=(m,h,y)=>{u.send({data:m.buffer,success(){y()},fail(b){y(new Error(b))}})},g._flush=m=>{u.close({success(){m()}})},g}function n(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function i(g,m){let h=g.protocol==="wxs"?"wss":"ws",y=`${h}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(y=`${h}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(y=g.transformWsUrl(y,g,m)),y}function c(){u.onOpen(()=>{r.socketReady()}),u.onMessage(g=>{let{data:m}=g;m instanceof ArrayBuffer?m=s.Buffer.from(m):m=s.Buffer.from(m,"utf8"),e.push(m)}),u.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),u.onError(g=>{let m=new Error(g.errMsg);r.destroy(m)})}var p=(g,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let h=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";n(m);let y=i(m,g);u=wx.connectSocket({url:y,protocols:[h]}),e=t(),r=new l.BufferedDuplex(m,e,u),r._destroy=(S,d)=>{u.close({success(){d&&d(S)}})};let b=r.destroy;return r.destroy=(S,d)=>(r.destroy=b,setTimeout(()=>{u.close({fail(){r._destroy(S,d)}})},0),r),c(),r};a.default=p}),Rs=ge(a=>{ue(),fe(),ce(),Object.defineProperty(a,"__esModule",{value:!0});var s=(Le(),Pe(Ue)),o=Bt(),l=wo(),u,e,r,t=!1;function n(){let m=new o.Transform;return m._write=(h,y,b)=>{u.sendSocketMessage({data:h.buffer,success(){b()},fail(){b(new Error)}})},m._flush=h=>{u.closeSocket({success(){h()}})},m}function i(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function c(m,h){let y=m.protocol==="alis"?"wss":"ws",b=`${y}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(b=`${y}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(b=m.transformWsUrl(b,m,h)),b}function p(){t||(t=!0,u.onSocketOpen(()=>{r.socketReady()}),u.onSocketMessage(m=>{if(typeof m.data=="string"){let h=s.Buffer.from(m.data,"base64");e.push(h)}else{let h=new FileReader;h.addEventListener("load",()=>{if(h.result instanceof ArrayBuffer){e.push(s.Buffer.from(h.result));return}e.push(s.Buffer.from(h.result,"utf-8"))}),h.readAsArrayBuffer(m.data)}}),u.onSocketClose(()=>{r.end(),r.destroy()}),u.onSocketError(m=>{r.destroy(m)}))}var g=(m,h)=>{if(h.hostname=h.hostname||h.host,!h.hostname)throw new Error("Could not determine host. Specify host manually.");let y=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt";i(h);let b=c(h,m);return u=h.my,u.connectSocket({url:b,protocols:y}),e=n(),r=new l.BufferedDuplex(h,e,u),p(),r};a.default=g}),Hc=ge(a=>{ue(),fe(),ce();var s=a&&a.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0}),a.connectAsync=c;var o=s(dt()),l=s((qc(),Pe(Ya))),u=s(bi()),e=s(en());typeof Ce?.nextTick!="function"&&(Ce.nextTick=setImmediate);var r=(0,o.default)("mqttjs"),t=null;function n(p){let g;if(p.auth)if(g=p.auth.match(/^(.+):(.+)$/),g){let[,m,h]=g;p.username=m,p.password=h}else p.username=p.auth}function i(p,g){if(r("connecting to an MQTT broker..."),typeof p=="object"&&!g&&(g=p,p=""),g=g||{},p&&typeof p=="string"){let y=l.default.parse(p,!0),b={};if(y.port!=null&&(b.port=Number(y.port)),b.host=y.hostname,b.query=y.query,b.auth=y.auth,b.protocol=y.protocol,b.path=y.path,g={...b,...g},!g.protocol)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(g.unixSocket=g.unixSocket||g.protocol?.includes("+unix"),g.unixSocket?g.protocol=g.protocol.replace("+unix",""):!g.protocol?.startsWith("ws")&&!g.protocol?.startsWith("wx")&&delete g.path,n(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),e.default||g.unixSocket?g.socksProxy=void 0:g.socksProxy===void 0&&typeof Ce<"u"&&(g.socksProxy=Ce.env.MQTTJS_SOCKS_PROXY),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(t||(t={},!e.default&&!g.forceNativeWebSocket?(t.ws=dr().streamBuilder,t.wss=dr().streamBuilder,t.mqtt=Os().default,t.tcp=Os().default,t.ssl=Ps().default,t.tls=t.ssl,t.mqtts=Ps().default):(t.ws=dr().browserStreamBuilder,t.wss=dr().browserStreamBuilder,t.wx=Cs().default,t.wxs=Cs().default,t.ali=Rs().default,t.alis=Rs().default)),!t[g.protocol]){let y=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((b,S)=>y&&S%2===0?!1:typeof t[b]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function m(y){return g.servers&&((!y._reconnectCount||y._reconnectCount===g.servers.length)&&(y._reconnectCount=0),g.host=g.servers[y._reconnectCount].host,g.port=g.servers[y._reconnectCount].port,g.protocol=g.servers[y._reconnectCount].protocol?g.servers[y._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,y._reconnectCount++),r("calling streambuilder for",g.protocol),t[g.protocol](y,g)}let h=new u.default(m,g);return h.on("error",()=>{}),h}function c(p,g,m=!0){return new Promise((h,y)=>{let b=i(p,g),S={connect:w=>{d(),h(b)},end:()=>{d(),h(b)},error:w=>{d(),b.end(),y(w)}};m===!1&&(S.close=()=>{S.error(new Error("Couldn't connect to server"))});function d(){Object.keys(S).forEach(w=>{b.off(w,S[w])})}Object.keys(S).forEach(w=>{b.on(w,S[w])})})}a.default=i}),Ms=ge(a=>{ue(),fe(),ce();var s=a&&a.__createBinding||(Object.create?function(m,h,y,b){b===void 0&&(b=y);var S=Object.getOwnPropertyDescriptor(h,y);(!S||("get"in S?!h.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return h[y]}}),Object.defineProperty(m,b,S)}:function(m,h,y,b){b===void 0&&(b=y),m[b]=h[y]}),o=a&&a.__setModuleDefault||(Object.create?function(m,h){Object.defineProperty(m,"default",{enumerable:!0,value:h})}:function(m,h){m.default=h}),l=a&&a.__importStar||function(){var m=function(h){return m=Object.getOwnPropertyNames||function(y){var b=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(b[b.length]=S);return b},m(h)};return function(h){if(h&&h.__esModule)return h;var y={};if(h!=null)for(var b=m(h),S=0;S<b.length;S++)b[S]!=="default"&&s(y,h,b[S]);return o(y,h),y}}(),u=a&&a.__exportStar||function(m,h){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(h,y)&&s(h,m,y)},e=a&&a.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=a.KeepaliveManager=a.UniqueMessageIdProvider=a.DefaultMessageIdProvider=a.Store=a.MqttClient=a.connectAsync=a.connect=a.Client=void 0;var r=e(bi());a.MqttClient=r.default;var t=e(Ua());a.DefaultMessageIdProvider=t.default;var n=e(ic());a.UniqueMessageIdProvider=n.default;var i=e(wa());a.Store=i.default;var c=l(Hc());a.connect=c.default,Object.defineProperty(a,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var p=e(Va());a.KeepaliveManager=p.default,a.Client=r.default,u(bi(),a),u(zt(),a);var g=Xr();Object.defineProperty(a,"ReasonCodes",{enumerable:!0,get:function(){return g.ReasonCodes}})}),Kc=ge(a=>{ue(),fe(),ce();var s=a&&a.__createBinding||(Object.create?function(r,t,n,i){i===void 0&&(i=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(r,i,c)}:function(r,t,n,i){i===void 0&&(i=n),r[i]=t[n]}),o=a&&a.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),l=a&&a.__importStar||function(){var r=function(t){return r=Object.getOwnPropertyNames||function(n){var i=[];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(i[i.length]=c);return i},r(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var i=r(t),c=0;c<i.length;c++)i[c]!=="default"&&s(n,t,i[c]);return o(n,t),n}}(),u=a&&a.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&s(t,r,n)};Object.defineProperty(a,"__esModule",{value:!0});var e=l(Ms());a.default=e,u(Ms(),a)});const Gc=Kc();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/class Qc{client;topic;constructor({url:s,topic:o}){this.topic=o,this.client=Gc.connect(s,{reconnectPeriod:5e3})}set handleConnectEvent(s){const{client:o,topic:l}=this;o.on("connect",()=>{o.subscribe(l,u=>{u?console.error("Subscribe error:",u):(console.log(`Subscribed to topic: ${l}`),s())})})}set handleMessageEvent(s){const{client:o,topic:l}=this;o.on("message",(u,e)=>{const r=e.toString();console.log(`Received message on topic ${u}`),u===l&&s(r)})}set handleErrorEvent(s){const{client:o}=this;o.on("error",l=>{s(l)})}set handleCloseEvent(s){const{client:o}=this;o.on("close",()=>{s()})}send(s){const{client:o,topic:l}=this;o.publish(l,s,u=>{u?console.error("Publish error:",u):console.log(`Published message to topic: ${l}`)})}close(){this.client.end()}}const Yc=8*1024*1024,Jc=1*1024*1024;class Xc{pc=null;dataChannel=null;cli;id=crypto.randomUUID();peerId;onMessage;onConnState;onPeerID;onStream;constructor({onMessage:s,onConnState:o,onPeerID:l,onStream:u}){console.log(" WebRTCDemo",this.id);const e="wss://test.mosquitto.org:8081";this.cli=new Qc({url:e,topic:"test/webrtc/topic"}),this.onMessage=s,this.onConnState=o,this.onPeerID=l,this.onStream=u,this.cli.handleConnectEvent=()=>{console.log(""),this.initializePeerConnection(),this.onConnState("cli_connected")},this.cli.handleMessageEvent=async r=>{const t=JSON.parse(r);if(t.id!==this.id)if(console.log(":",t),t.type==="PeerID")this.onPeerID(t.id);else if(t.offer){if(t.offer.peerId!==this.id)return;await this.receiveOffer(t.id,t.offer.desc)}else t.answer?await this.receiveAnswer(t.answer):t.candidate&&await this.addIceCandidate(t.candidate)},this.cli.handleErrorEvent=r=>{console.error(":",r)},this.cli.handleCloseEvent=()=>{console.log("")}}destroy(){this.cli.close(),this.pc?.close()}sendSignalingMessage(s){this.cli.send(JSON.stringify(s))}initializePeerConnection(){const s={iceServers:[{urls:"stun:stun.miwifi.com"}]};this.pc=new RTCPeerConnection(s),this.pc.onicecandidate=o=>{o.candidate&&(console.log(" ICE candidate:",o.candidate),this.sendSignalingMessage({id:this.id,candidate:o.candidate}))},this.pc.ondatachannel=o=>{console.log(""),this.dataChannel=o.channel,this.setupDataChannel()},this.pc.oniceconnectionstatechange=()=>{console.log("ICE :",this.pc?.iceConnectionState),this.pc?.iceConnectionState==="failed"&&console.error("ICE ")},this.pc.onconnectionstatechange=()=>{console.log("Connection :",this.pc?.connectionState),this.onConnState(this.pc?.connectionState)},this.pc.ontrack=o=>{for(const l of o.streams)this.onStream(l);console.log("",o.streams.length)},this.pc.onnegotiationneeded=async()=>{console.log("  renegotiation"),this.peerId&&this.renegotiate(this.peerId)}}async createOffer(s){if(this.pc){this.peerId=s,console.log(" Offer..."),this.dataChannel=this.pc.createDataChannel("messageChannel"),this.setupDataChannel();try{const o=await this.pc.createOffer();await this.pc.setLocalDescription(o),console.log(" Offer:",o),this.sendSignalingMessage({id:this.id,offer:{desc:o,peerId:s}})}catch(o){console.error(" Offer :",o)}}}async receiveOffer(s,o){if(this.pc){this.peerId=s,console.log(" Offer,  Answer...");try{await this.pc.setRemoteDescription(new RTCSessionDescription(o));const l=await this.pc.createAnswer();await this.pc.setLocalDescription(l),console.log(" Answer:",l),this.sendSignalingMessage({id:this.id,answer:l})}catch(l){console.error(" Offer :",l)}}}async receiveAnswer(s){if(this.pc){console.log(" Answer");try{await this.pc.setRemoteDescription(new RTCSessionDescription(s))}catch(o){console.error(" Answer :",o)}}}async addIceCandidate(s){if(this.pc){console.log(" ICE Candidate");try{await this.pc.addIceCandidate(new RTCIceCandidate(s))}catch(o){console.error(" ICE candidate :",o)}}}setupDataChannel(){this.dataChannel&&(this.dataChannel.bufferedAmountLowThreshold=Jc,this.dataChannel.onopen=()=>{console.log(""),this.sendMessage(`hello from ${this.id}`)},this.dataChannel.onclose=()=>{console.log("")},this.dataChannel.onerror=s=>{console.error(":",s)},this.dataChannel.onmessage=s=>{console.log(":",typeof s.data),this.onMessage(s.data)},this.dataChannel.onbufferedamountlow=()=>{console.log("");const s=this.writable;this.writable=void 0,s?.()})}writable;sendMessage(s){this.dataChannel&&this.dataChannel.readyState==="open"?(this.dataChannel.send(JSON.stringify(s)),console.log(":",s)):console.warn(":",this.dataChannel?.readyState)}async sendData(s){if(this.writable)throw new Error("wait until writable");if(this.dataChannel&&this.dataChannel.readyState==="open"){if(this.dataChannel.bufferedAmount>Yc){await new Promise(o=>{this.writable=o}),this.sendData(s);return}try{this.dataChannel.send(s)}catch(o){console.error(":",o)}}else console.warn(":",this.dataChannel?.readyState)}signal(s){this.cli.send(JSON.stringify(s))}addTrack(s,o){return this.pc?.addTrack(s,o)}removeTrack(s){return this.pc?.removeTrack(s)}async renegotiate(s){if(this.pc){console.log(" Offer...");try{const o=await this.pc.createOffer();await this.pc.setLocalDescription(o),console.log(" Offer:",o),this.sendSignalingMessage({id:this.id,offer:{desc:o,peerId:s}})}catch(o){console.error(" Offer :",o)}}}}function Zc(a,s=1024*1024){const o=[];for(let l=0;l<a.size;l+=s)o.push(a.slice(l,l+s));return o}async function ef(a){const o=await(await window.showSaveFilePicker({suggestedName:a})).createWritable();return[async e=>{await o.write(e)},()=>{o.close()},o]}var tf=st("<button>Media"),rf=st("<dialog style=width:50vw;height:50vh;><button>Video: </button><button>Audio: </button><button></button><hr><video autoplay playsinline style=width:128px;height:96px;></video><video autoplay playsinline style=width:64px;height:48px;>");function nf(a){let s=null,o=null,l=null,u=new MediaStream,e=null,r=null,t;const[n,i]=nt(!1),[c,p]=nt(!1),g=y=>{l!==null&&(l.srcObject=y)},m=(()=>{var y=tf();return y.$$click=()=>{s?.showModal()},y})();return[(()=>{var y=rf(),b=y.firstChild;b.firstChild;var S=b.nextSibling;S.firstChild;var d=S.nextSibling,w=d.nextSibling,E=w.nextSibling,v=E.nextSibling;return rn(I=>s=I,y),b.$$click=async()=>{o!==null&&(e?(t&&(a.removeTrack(t),t=void 0),u.removeTrack(e),e.stop(),e=null,console.log(" Video track removed"),o.srcObject=null,i(!1)):(e=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0],u.addTrack(e),t=a.addTrack(e,u),console.log(" Video track added"),o.srcObject=u,i(!0)))},ze(b,()=>n()?"ON":"OFF",null),S.$$click=async()=>{o!==null&&(r?(u.removeTrack(r),r.stop(),r=null,console.log(" Video track removed"),o.srcObject=null,p(!1)):(r=(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0],u.addTrack(r),console.log(" Video track added"),o.srcObject=u,p(!0)))},ze(S,()=>c()?"ON":"OFF",null),d.$$click=()=>s?.close(),rn(I=>l=I,E),rn(I=>o=I,v),Ct(()=>d.disabled=n()||c()),y})(),m,g]}zs(["click"]);var of=st("<label for=peer_ids>Peer ID List: "),sf=st("<select id=peer_ids style=width:320px;><option value>==========  Peer ID ==========="),af=st("<button> Offer"),lf=st('<div><p><button> ID</button></p><div class=flex><div class=flex-1><div><textarea id=text rows=3></textarea></div><p><button></button></p></div><div class=flex-1><div><input id=file type=file placeholder=></div><p></p></div></div><p>Id: <mark></mark>, State: <b><i></i></b></p><p>Message:</p><div class="break font">'),uf=st("<option>"),cf=st("<button>"),ff=st("<br>"),hf=st("<i class=font><!><!>");const pf=()=>{const a=new Xc({onConnState(w){w==="cli_connected"?y(!0):w==="cli_disconnected"?y(!1):t(w)},async onMessage(w){if(typeof w=="string"){const E=JSON.parse(w);if(E.file){if(E.file.type==="showSaveFilePicker")js(E.file);else if(E.file.type==="beginRecieve"&&l)for(const v of l)await a.sendData(v)}g(w)}else if(w instanceof ArrayBuffer&&o){const E=oo();E?.type;const[v,I]=o;v(w);const A=Sl()+1;Ns(A),E?.chunks===A&&(I(),js(void 0),alert("")),console.log("receivedChunk",A)}else console.log("onMessage",w)},onPeerID(w){e(E=>{const v=E.filter(I=>I!==w);return v.unshift(w),v})},onStream(w){d(w)}});Tl(()=>{console.log("App mounted")}),Ls(()=>{console.log("App onCleanup"),a.destroy()});let s="",o=null,l=null;const[u,e]=nt([]),[r,t]=nt(),[n,i]=nt(""),[c,p]=nt(""),g=w=>{p(E=>w+`
`+E)},m=tr(()=>r()==="connected"),[h,y]=nt(!1),[b,S,d]=nf(a);return(()=>{var w=lf(),E=w.firstChild,v=E.firstChild,I=E.nextSibling,A=I.firstChild,k=A.firstChild,R=k.firstChild,P=k.nextSibling,B=P.firstChild,T=A.nextSibling,W=T.firstChild,L=W.firstChild,U=W.nextSibling,ae=I.nextSibling,Q=ae.firstChild,V=Q.nextSibling,re=V.nextSibling,F=re.nextSibling,ee=F.firstChild,C=ae.nextSibling,Y=C.nextSibling;return v.$$click=()=>a.signal({id:a.id,type:"PeerID"}),ze(E,rr(Vs,{get when(){return u().length>0},get children(){return[of(),(()=>{var oe=sf();return oe.firstChild,oe.addEventListener("change",Z=>{console.log("select peer id",Z.target.value),s=Z.target.value}),ze(oe,rr(Bl,{get each(){return u()},children:Z=>(()=>{var ve=uf();return ve.value=Z,ze(ve,Z),ve})()}),null),oe})(),(()=>{var oe=af();return oe.$$click=()=>{s?a.createOffer(s):alert(" Peer ID")},Ct(()=>oe.disabled=!h()),oe})()]}}),null),R.addEventListener("focus",oe=>oe.target.select()),R.addEventListener("change",oe=>i(oe.target.value)),B.$$click=()=>{a.sendMessage(n())},ze(W,S,L),L.addEventListener("change",async oe=>{const Z=oe.target.files?.[0];Z!==void 0&&(console.log("",Z),oe.target.value="",l=Zc(Z,32*1024),console.log("",l),a.sendMessage({file:{type:"showSaveFilePicker",name:Z.name,chunks:l.length}}))}),ze(U,rr(df,{onFileWriter:oe=>{o=oe;const Z=oo();Z&&(Ns(0),a.sendMessage({file:{...Z,type:"beginRecieve"}}))}})),ze(V,()=>a.id),ze(ee,()=>r()??"unknown"),ze(Y,c),ze(w,b,null),Ct(oe=>{var Z=!h(),ve=m()===!1;return Z!==oe.e&&(v.disabled=oe.e=Z),ve!==oe.t&&(B.disabled=oe.t=ve),oe},{e:void 0,t:void 0}),Ct(()=>R.value=n()),w})()},[oo,js]=nt(),[Sl,Ns]=nt(0);function df(a){return rr(Vs,{get when(){return oo()},keyed:!0,children:s=>[(()=>{var o=cf();return o.$$click=async()=>{const l=await ef(s.name);a.onFileWriter(l)},o})(),ff(),(()=>{var o=hf(),l=o.firstChild,u=l.nextSibling,e=u.nextSibling,r=e.nextSibling;return r.nextSibling,ze(o,()=>s?.name,u),ze(o,()=>s.chunks,r),ze(o,Sl,null),o})()]})}zs(["click"]);const gf=document.getElementById("root");Ll(()=>rr(pf,{}),gf);
